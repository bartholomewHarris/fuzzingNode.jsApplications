!function(){function t(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=n(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return c=t.done,t},e:function(t){s=!0,r=t},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw r}}}}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var r,c=t[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);a=!0);}catch(s){i=!0,o=s}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function i(t,e,n,a,i,o,r){try{var c=t[o](r),s=c.value}catch(l){return void n(l)}c.done?e(s):Promise.resolve(s).then(a,i)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(a,o){var r=t.apply(e,n);function c(t){i(r,a,o,c,s,"next",t)}function s(t){i(r,a,o,c,s,"throw",t)}c(void 0)})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function s(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},zUnb:function(n,a,i){"use strict";i.r(a);var c,l=i("8Y7J"),u=i("cUpR"),b=i("IheW"),d=i("z4EA"),m=i("s7LF"),f=i("lJxs"),p=i("JIr8"),h=((c=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/admin"}return s(t,[{key:"getApplicationConfiguration",value:function(){return this.configObservable||(this.configObservable=this.http.get(this.host+"/application-configuration").pipe(Object(f.a)(function(t){return t.config},Object(p.a)(function(t){throw t})))),this.configObservable}}]),t}()).\u0275fac=function(t){return new(t||c)(l.Yb(b.b))},c.\u0275prov=l.Kb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),g=i("7O5W"),v=i("8tEE"),C=i("wHSu"),T=i("twK/"),y=i("PDjf"),w=i("VDRc"),U=i("TSSN"),S=i("Dxy4"),O=function(t){return{juicycoin:t}};g.b.add(v.a,C.ab,C.q,C.i,C.j,T.a,T.b),g.a.watch();var k,I,P,x,_,H,A,E,L,D=((k=function(){function t(e){r(this,t),this.configurationService=e,this.altcoinName="Juicycoin"}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.altcoinName)&&(t.altcoinName=e.application.altcoinName)},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||k)(l.Ob(h))},k.\u0275cmp=l.Ib({type:k,selectors:[["app-token-sale"]],decls:117,vars:26,consts:[["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px",1,"container"],["fxFlexAlign","center",1,"whitepaper-container","offer-container"],[3,"innerHtml"],[1,"divider"],[1,"mat-elevation-z6"],[2,"margin-left","10px"],["translate",""],["href","https://ponzico.win/ponzico.pdf","target","_blank","rel","noopener noreferrer"],["mat-raised-button","","color","accent"],[1,"fas","fa-university","fa-lg"],["href","https://www.sec.gov/investor/alerts/ia_virtualcurrencies.pdf","target","_blank","rel","noopener noreferrer"],[1,"fas","fa-graduation-cap","fa-lg"],[1,"offer-box"],[1,"text-justify"],[1,"fab","fa-bitcoin"],[1,"badge"],["fxFlexAlign.lt-md","center",1,"faq-container"],["translate","",1,"title"],[1,"fas","fa-comments","fa-2x"],[1,"far","fa-comment-alt","fa-2x"],[1,"far","fa-comments","fa-2x"],[1,"fas","fa-comment-alt","fa-2x"],[2,"margin-left","10px",3,"innerHtml"],["translate","",1,"text-justify"],["src","assets/public/images/padding/56px.png"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card"),l.Ub(1,"div",0),l.Ub(2,"div",1),l.Ub(3,"mat-card-header"),l.Ub(4,"mat-card-title"),l.Hc(5),l.hc(6,"translate"),l.Tb(),l.Pb(7,"mat-card-subtitle",2),l.hc(8,"translate"),l.Tb(),l.Pb(9,"div",3),l.Ub(10,"mat-card",4),l.Ub(11,"h4"),l.Hc(12),l.hc(13,"translate"),l.Ub(14,"small",5),l.Hc(15,"("),l.Ub(16,"span",6),l.Hc(17,"WHITEPAPER_REFERENCES"),l.Tb(),l.Hc(18,")"),l.Tb(),l.Tb(),l.Ub(19,"div"),l.Ub(20,"a",7),l.Ub(21,"button",8),l.Pb(22,"i",9),l.Hc(23," PonzICO Whitepaper"),l.Tb(),l.Tb(),l.Ub(24,"a",10),l.Ub(25,"button",8),l.Pb(26,"i",11),l.Hc(27," PonziCoin Whitepaper"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(28,"div",12),l.Ub(29,"h3",6),l.Hc(30,"SECTION_SALES_PITCH"),l.Tb(),l.Ub(31,"p",13),l.Hc(32," Lorem ipsum dolor sit amet "),l.Ub(33,"strong"),l.Pb(34,"i",14),l.Hc(35),l.Tb(),l.Hc(36,", consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. "),l.Ub(37,"span",6),l.Hc(38,"GIVE_US_ALL_YOUR_MONEY"),l.Tb(),l.Hc(39," Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. "),l.Ub(40,"span",6),l.Hc(41,"GIVE_US_ALL_YOUR_MONEY"),l.Tb(),l.Hc(42," Ut wisi enim ad minim veniam, quis "),l.Ub(43,"strong"),l.Pb(44,"i",14),l.Hc(45),l.Tb(),l.Hc(46," nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. "),l.Ub(47,"span",6),l.Hc(48,"GIVE_US_ALL_YOUR_MONEY"),l.Tb(),l.Hc(49," Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. "),l.Ub(50,"span",6),l.Hc(51,"GIVE_US_ALL_YOUR_MONEY"),l.Tb(),l.Hc(52," Duis autem vel eum "),l.Ub(53,"strong"),l.Pb(54,"i",14),l.Hc(55),l.Tb(),l.Hc(56," iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis. "),l.Ub(57,"span",6),l.Hc(58,"GIVE_US_ALL_YOUR_MONEY"),l.Tb(),l.Hc(59," At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. sanctus sea sed takimata ut vero voluptua. "),l.Ub(60,"span",15),l.Pb(61,"i",14),l.Hc(62),l.Tb(),l.Hc(63," est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur. "),l.Tb(),l.Tb(),l.Tb(),l.Ub(64,"div",16),l.Ub(65,"mat-card-header"),l.Ub(66,"mat-card-title",17),l.Hc(67,"ICO_FAQ"),l.Tb(),l.Tb(),l.Pb(68,"div",3),l.Ub(69,"mat-card",4),l.Ub(70,"h5"),l.Pb(71,"i",18),l.Hc(72," Stet "),l.Ub(73,"strong"),l.Pb(74,"i",14),l.Hc(75),l.Tb(),l.Hc(76," clita kasd gubergren?"),l.Tb(),l.Ub(77,"small",13),l.Hc(78," Stet clita kasd gubergren, no "),l.Ub(79,"strong"),l.Pb(80,"i",14),l.Hc(81),l.Tb(),l.Hc(82," sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. "),l.Tb(),l.Tb(),l.Ub(83,"mat-card",4),l.Ub(84,"h5"),l.Pb(85,"i",19),l.Hc(86," Consetetur sadipscing elitr?"),l.Tb(),l.Ub(87,"small",13),l.Hc(88," Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed "),l.Ub(89,"strong"),l.Pb(90,"i",14),l.Hc(91),l.Tb(),l.Hc(92," diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. "),l.Tb(),l.Tb(),l.Ub(93,"mat-card",4),l.Ub(94,"h5"),l.Pb(95,"i",20),l.Hc(96," Hendrerit "),l.Ub(97,"strong"),l.Pb(98,"i",14),l.Hc(99),l.Tb(),l.Hc(100," in vulputate velit?"),l.Tb(),l.Ub(101,"small",13),l.Hc(102," Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis. "),l.Tb(),l.Tb(),l.Ub(103,"mat-card",4),l.Ub(104,"h5"),l.Pb(105,"i",21),l.Hc(106," Justo duo dolores et ea rebum?"),l.Tb(),l.Ub(107,"small",13),l.Hc(108," At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. "),l.Tb(),l.Tb(),l.Ub(109,"mat-card",4),l.Ub(110,"h5"),l.Pb(111,"i",18),l.Pb(112,"span",22),l.hc(113,"translate"),l.Tb(),l.Ub(114,"small",23),l.Hc(115,"ICO_FAQ_ANSWER"),l.Tb(),l.Tb(),l.Tb(),l.Pb(116,"img",24),l.Tb(),l.Tb()),2&t&&(l.Cb(5),l.Jc(" ",l.ic(6,12,"TITLE_TOKENSALE")," "),l.Cb(2),l.mc("innerHtml",l.jc(8,14,"SECTION_ICO",l.rc(22,O,e.altcoinName)),l.yc),l.Cb(5),l.Jc("",l.ic(13,17,"SECTION_WHITEPAPER")," "),l.Cb(23),l.Jc(" ",e.altcoinName,""),l.Cb(10),l.Jc(" ",e.altcoinName,""),l.Cb(10),l.Jc(" ",e.altcoinName,""),l.Cb(7),l.Jc(" ",e.altcoinName,""),l.Cb(13),l.Jc(" ",e.altcoinName,""),l.Cb(6),l.Jc(" ",e.altcoinName,""),l.Cb(10),l.Jc(" ",e.altcoinName,""),l.Cb(8),l.Jc(" ",e.altcoinName,""),l.Cb(13),l.mc("innerHtml",l.jc(113,19,"ICO_FAQ_QUESTION",l.rc(24,O,e.altcoinName)),l.yc))},directives:[y.a,w.d,w.e,w.a,y.c,y.g,y.f,U.a,S.a],pipes:[U.d],styles:[".container[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{justify-content:center}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);margin-bottom:10px;padding:12px 20px}.whitepaper-container.offer-container[_ngcontent-%COMP%]{max-width:700px;min-width:400px;width:70%}.faq-container[_ngcontent-%COMP%]{max-width:500px;min-width:200px;width:70%}a[_ngcontent-%COMP%]:first-child{padding-right:10px}.title[_ngcontent-%COMP%]{padding-bottom:27px}.divider[_ngcontent-%COMP%]{border:.5px solid #f2f2f2;margin-bottom:10px}.text-justify[_ngcontent-%COMP%]{text-align:justify}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}mat-card[_ngcontent-%COMP%]:first-child{border-radius:5px;margin:0 auto;width:80%}"]}),k),F=i("XNiG"),R=((I=function(){function t(e){r(this,t),this.http=e,this.isLoggedIn=new F.a,this.hostServer=".",this.host=this.hostServer+"/api/Users"}return s(t,[{key:"find",value:function(t){return this.http.get(this.hostServer+"/rest/user/authentication-details/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"login",value:function(t){return this.isLoggedIn.next(!0),this.http.post(this.hostServer+"/rest/user/login",t).pipe(Object(f.a)(function(t){return t.authentication}),Object(p.a)(function(t){throw t}))}},{key:"getLoggedInState",value:function(){return this.isLoggedIn.asObservable()}},{key:"changePassword",value:function(t){return this.http.get(this.hostServer+"/rest/user/change-password?current="+t.current+"&new="+t.new+"&repeat="+t.repeat).pipe(Object(f.a)(function(t){return t.user}),Object(p.a)(function(t){throw t.error}))}},{key:"resetPassword",value:function(t){return this.http.post(this.hostServer+"/rest/user/reset-password",t).pipe(Object(f.a)(function(t){return t.user}),Object(p.a)(function(t){throw t}))}},{key:"whoAmI",value:function(){return this.http.get(this.hostServer+"/rest/user/whoami").pipe(Object(f.a)(function(t){return t.user}),Object(p.a)(function(t){throw t}))}},{key:"oauthLogin",value:function(t){return this.http.get("https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token="+t)}},{key:"saveLastLoginIp",value:function(){return this.http.get(this.hostServer+"/rest/saveLoginIp").pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"deluxeStatus",value:function(){return this.http.get(this.hostServer+"/rest/deluxe-membership").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"upgradeToDeluxe",value:function(t,e){return this.http.post(this.hostServer+"/rest/deluxe-membership",{paymentMode:t,paymentId:e}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||I)(l.Yb(b.b))},I.\u0275prov=l.Kb({token:I,factory:I.\u0275fac,providedIn:"root"}),I),M=i("iInd"),N=((x=function(){function t(e,n,a,i,o){r(this,t),this.cookieService=e,this.userService=n,this.router=a,this.route=i,this.ngZone=o}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.oauthLogin(this.parseRedirectUrlParams().access_token).subscribe(function(e){var n=btoa(e.email.split("").reverse().join(""));t.userService.save({email:e.email,password:n,passwordRepeat:n}).subscribe(function(){t.login(e)},function(){return t.login(e)})},function(e){t.invalidateSession(e),t.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/login"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))})}},{key:"login",value:function(t){var e=this;this.userService.login({email:t.email,password:btoa(t.email.split("").reverse().join("")),oauth:!0}).subscribe(function(t){var n=new Date;n.setHours(n.getHours()+8),e.cookieService.set("token",t.token,n,"/"),localStorage.setItem("token",t.token),sessionStorage.setItem("bid",t.bid),e.userService.isLoggedIn.next(!0),e.ngZone.run(o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))},function(t){e.invalidateSession(t),e.ngZone.run(o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/login"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))})}},{key:"invalidateSession",value:function(t){console.log(t),this.cookieService.delete("token","/"),localStorage.removeItem("token"),sessionStorage.removeItem("bid")}},{key:"parseRedirectUrlParams",value:function(){for(var t=this.route.snapshot.data.params.substr(1).split("&"),e={},n=0;n<t.length;n++){var a=t[n].split("=");e[a[0]]=a[1]}return e}}]),t}()).\u0275fac=function(t){return new(t||x)(l.Ob(d.a),l.Ob(R),l.Ob(M.b),l.Ob(M.a),l.Ob(l.B))},x.\u0275cmp=l.Ib({type:x,selectors:[["app-oauth"]],decls:9,vars:6,consts:[["fxLayoutAlign","center"],[1,"primary-notification"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"div"),l.Ub(3,"h3"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Ub(6,"div"),l.Hc(7),l.hc(8,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.Ic(l.ic(5,2,"TITLE_LOGIN")),l.Cb(3),l.Ic(l.ic(8,4,"CONFIRM_LOGGED_IN_VIA_OAUTH2")))},directives:[w.c,y.a],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:300px;width:35%}"]}),x),B=((P=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.itemTotal=new F.a,this.host=this.hostServer+"/api/BasketItems"}return s(t,[{key:"find",value:function(t){return this.http.get("".concat(this.hostServer,"/rest/basket/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"checkout",value:function(t,e,n){return this.http.post("".concat(this.hostServer,"/rest/basket/").concat(t,"/checkout"),{couponData:e,orderDetails:n}).pipe(Object(f.a)(function(t){return t.orderConfirmation}),Object(p.a)(function(t){throw t}))}},{key:"applyCoupon",value:function(t,e){return this.http.put("".concat(this.hostServer,"/rest/basket/").concat(t,"/coupon/").concat(e),{}).pipe(Object(f.a)(function(t){return t.discount}),Object(p.a)(function(t){throw t}))}},{key:"updateNumberOfCartItems",value:function(){var t=this;this.find(parseInt(sessionStorage.getItem("bid"),10)).subscribe(function(e){t.itemTotal.next(e.Products.reduce(function(t,e){return t+e.BasketItem.quantity},0))},function(t){return console.log(t)})}},{key:"getItemTotal",value:function(){return this.itemTotal.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||P)(l.Yb(b.b))},P.\u0275prov=l.Kb({token:P,factory:P.\u0275fac,providedIn:"root"}),P),j=i("BOF4"),G=((E=function(){function t(e,n){r(this,t),this.router=e,this.ngZone=n}return s(t,[{key:"canActivate",value:function(){return!!localStorage.getItem("token")||(this.forbidRoute("UNAUTHORIZED_ACCESS_ERROR"),!1)}},{key:"forbidRoute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNAUTHORIZED_PAGE_ACCESS_ERROR";this.ngZone.run(o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.router.navigate(["403"],{skipLocationChange:!0,queryParams:{error:e}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})))}},{key:"tokenDecode",value:function(){var t=null,e=localStorage.getItem("token");if(e)try{t=j(e)}catch(n){console.log(n)}return t}}]),t}()).\u0275fac=function(t){return new(t||E)(l.Yb(M.b),l.Yb(l.B))},E.\u0275prov=l.Kb({token:E,factory:E.\u0275fac}),E),V=((A=function(){function t(e){r(this,t),this.loginGuard=e}return s(t,[{key:"canActivate",value:function(){var t=this.loginGuard.tokenDecode();return!(!(null==t?void 0:t.data)||"admin"!==t.data.role)||(this.loginGuard.forbidRoute(),!1)}}]),t}()).\u0275fac=function(t){return new(t||A)(l.Yb(G))},A.\u0275prov=l.Kb({token:A,factory:A.\u0275fac}),A),q=((H=function(){function t(e){r(this,t),this.loginGuard=e}return s(t,[{key:"canActivate",value:function(){var t=this.loginGuard.tokenDecode();return!(!(null==t?void 0:t.data)||"accounting"!==t.data.role)||(this.loginGuard.forbidRoute(),!1)}}]),t}()).\u0275fac=function(t){return new(t||H)(l.Yb(G))},H.\u0275prov=l.Kb({token:H,factory:H.\u0275fac}),H),J=((_=function(){function t(e){r(this,t),this.loginGuard=e}return s(t,[{key:"isDeluxe",value:function(){var t=this.loginGuard.tokenDecode();return(null==t?void 0:t.data)&&"deluxe"===t.data.role}}]),t}()).\u0275fac=function(t){return new(t||_)(l.Yb(G))},_.\u0275prov=l.Kb({token:_,factory:_.\u0275fac}),_),Y=i("zHaW"),z=((L=function(){function t(e,n){r(this,t),this.translateService=e,this.snackBar=n}return s(t,[{key:"open",value:function(t,e){var n=this;this.translateService.get(t).subscribe(function(t){n.snackBar.open(t,"X",{duration:5e3,panelClass:e})},function(){n.snackBar.open(t,"X",{duration:5e3,panelClass:e})})}}]),t}()).\u0275fac=function(t){return new(t||L)(l.Yb(U.e),l.Yb(Y.a))},L.\u0275prov=l.Kb({token:L,factory:L.\u0275fac,providedIn:"root"}),L),W=i("OaSA"),Q=i("SVse"),K=i("ura0");function $(t,e){1&t&&l.Pb(0,"mat-header-cell",19)}function Z(t,e){if(1&t&&(l.Ub(0,"mat-cell",20),l.Pb(1,"img",21),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.nc("alt",n.name),l.mc("src","assets/public/images/products/"+n.image,l.Ac)}}function X(t,e){1&t&&l.Pb(0,"mat-footer-cell",20)}function tt(t,e){1&t&&l.Pb(0,"mat-header-cell",19)}function et(t,e){if(1&t&&(l.Ub(0,"mat-cell",22),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.name," ")}}function nt(t,e){1&t&&l.Pb(0,"mat-footer-cell",23)}function at(t,e){1&t&&l.Pb(0,"mat-header-cell",19)}function it(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",27),l.cc("click",function(){l.xc(n);var t=l.gc().$implicit;return l.gc().dec(t.BasketItem.id)}),l.Pb(1,"i",28),l.Tb()}}function ot(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",27),l.cc("click",function(){l.xc(n);var t=l.gc().$implicit;return l.gc().inc(t.BasketItem.id)}),l.Pb(1,"i",29),l.Tb()}}function rt(t,e){if(1&t&&(l.Ub(0,"mat-cell",24),l.Fc(1,it,2,0,"button",25),l.Ub(2,"span",26),l.Hc(3),l.Tb(),l.Fc(4,ot,2,0,"button",25),l.Tb()),2&t){var n=e.$implicit,a=l.gc();l.Cb(1),l.mc("ngIf",a.allowEdit),l.Cb(2),l.Jc(" ",n.BasketItem.quantity,""),l.Cb(1),l.mc("ngIf",a.allowEdit)}}function ct(t,e){1&t&&(l.Ub(0,"mat-footer-cell",30),l.Hc(1,"TOTAL"),l.Tb())}function st(t,e){1&t&&l.Pb(0,"mat-header-cell",19)}function lt(t,e){if(1&t&&(l.Ub(0,"mat-cell",31),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.price,"\xa4")}}function ut(t,e){1&t&&l.Pb(0,"mat-footer-cell",32)}function bt(t,e){1&t&&l.Pb(0,"mat-header-cell",19)}function dt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",36),l.Ub(1,"button",27),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).delete(t.BasketItem.id)}),l.Pb(2,"i",37),l.Tb(),l.Tb()}}function mt(t,e){1&t&&l.Pb(0,"mat-footer-cell",36)}function ft(t,e){1&t&&(l.Sb(0,33),l.Fc(1,bt,1,0,"mat-header-cell",2),l.Fc(2,dt,3,0,"mat-cell",34),l.Fc(3,mt,1,0,"mat-footer-cell",35),l.Rb())}function pt(t,e){1&t&&l.Pb(0,"mat-header-row")}function ht(t,e){1&t&&l.Pb(0,"mat-row")}function gt(t,e){1&t&&l.Pb(0,"mat-footer-row",39)}function vt(t,e){if(1&t&&(l.Ub(0,"span"),l.Fc(1,gt,1,0,"mat-footer-row",38),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.mc("matFooterRowDef",n.tableColumns)}}function Ct(t,e){if(1&t&&(l.Ub(0,"div",40),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.Kc("",l.ic(2,2,"LABEL_TOTAL_PRICE"),": ",n.itemTotal,"\xa4")}}g.b.add(T.g,C.z,C.B),g.a.watch();var Tt,yt=((Tt=function(){function t(e,n,a,i){r(this,t),this.deluxeGuard=e,this.basketService=n,this.userService=a,this.snackBarHelperService=i,this.allowEdit=!1,this.displayTotal=!1,this.totalPrice=!0,this.emitTotal=new l.o,this.emitProductCount=new l.o,this.tableColumns=["image","product","quantity","price"],this.dataSource=[],this.bonus=0,this.itemTotal=0}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.allowEdit&&!this.tableColumns.includes("remove")&&this.tableColumns.push("remove"),this.load(),this.userService.whoAmI().subscribe(function(e){t.userEmail=e.email||"anonymous",t.userEmail="("+t.userEmail+")"},function(t){return console.log(t)})}},{key:"load",value:function(){var t=this;this.basketService.find(parseInt(sessionStorage.getItem("bid"),10)).subscribe(function(e){t.isDeluxe()&&e.Products.map(function(t){t.price=t.deluxePrice}),t.dataSource=e.Products,t.itemTotal=e.Products.reduce(function(t,e){return t+e.price*e.BasketItem.quantity},0),t.bonus=e.Products.reduce(function(t,e){return t+Math.round(e.price/10)*e.BasketItem.quantity},0),t.sendToParent(t.dataSource.length)},function(t){return console.log(t)})}},{key:"delete",value:function(t){var e=this;this.basketService.del(t).subscribe(function(){e.load(),e.basketService.updateNumberOfCartItems()},function(t){return console.log(t)})}},{key:"inc",value:function(t){this.addToQuantity(t,1)}},{key:"dec",value:function(t){this.addToQuantity(t,-1)}},{key:"addToQuantity",value:function(t,e){var n=this;this.basketService.get(t).subscribe(function(a){var i=a.quantity+e;n.basketService.put(t,{quantity:i<1?1:i}).subscribe(function(){n.load(),n.basketService.updateNumberOfCartItems()},function(t){var e;n.snackBarHelperService.open(null===(e=t.error)||void 0===e?void 0:e.error,"errorBar"),console.log(t)})},function(t){return console.log(t)})}},{key:"sendToParent",value:function(t){this.emitTotal.emit([this.itemTotal,this.bonus]),this.emitProductCount.emit(t)}},{key:"isDeluxe",value:function(){return this.deluxeGuard.isDeluxe()}}]),t}()).\u0275fac=function(t){return new(t||Tt)(l.Ob(J),l.Ob(B),l.Ob(R),l.Ob(z))},Tt.\u0275cmp=l.Ib({type:Tt,selectors:[["app-purchase-basket"]],inputs:{allowEdit:"allowEdit",displayTotal:"displayTotal",totalPrice:"totalPrice"},outputs:{emitTotal:"emitTotal",emitProductCount:"emitProductCount"},decls:27,vars:10,consts:[[3,"dataSource"],["matColumnDef","image"],["style","display: none;",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-md","","fxFlex","20%","class","content-align",4,"matCellDef"],["fxShow","","fxHide.lt-md","","fxFlex","20%","class","content-align",4,"matFooterCellDef"],["matColumnDef","product"],["fxFlex","35%","fxFlex.lt-md","30%","style","font-size: initial;",4,"matCellDef"],["fxFlex","35%","fxFlex.lt-md","30%",4,"matFooterCellDef"],["matColumnDef","quantity"],["fxFlex","16%","fxFlex.lt-md","35%","class","content-align",4,"matCellDef"],["fxFlex","16%","fxFlex.lt-md","35%","class","header-align",4,"matFooterCellDef"],["matColumnDef","price"],["fxShow","","fxHide.lt-md","","fxFlex","16%","style","font-size: initial;",4,"matCellDef"],["fxShow","","fxHide.lt-md","","fxFlex","16%",4,"matFooterCellDef"],["matColumnDef","remove",4,"ngIf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["id","price",4,"ngIf"],[2,"display","none"],["fxShow","","fxHide.lt-md","","fxFlex","20%",1,"content-align"],[1,"img-responsive","img-thumbnail",3,"src","alt"],["fxFlex","35%","fxFlex.lt-md","30%",2,"font-size","initial"],["fxFlex","35%","fxFlex.lt-md","30%"],["fxFlex","16%","fxFlex.lt-md","35%",1,"content-align"],["mat-icon-button","",3,"click",4,"ngIf"],[2,"font-size","initial"],["mat-icon-button","",3,"click"],[1,"fas","fa-minus-square"],[1,"fas","fa-plus-square"],["fxFlex","16%","fxFlex.lt-md","35%",1,"header-align"],["fxShow","","fxHide.lt-md","","fxFlex","16%",2,"font-size","initial"],["fxShow","","fxHide.lt-md","","fxFlex","16%"],["matColumnDef","remove"],["fxFlex","10%","fxFlex.lt-md","15%",4,"matCellDef"],["fxFlex","10%","fxFlex.lt-md","15%",4,"matFooterCellDef"],["fxFlex","10%","fxFlex.lt-md","15%"],[1,"far","fa-trash-alt"],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""],["id","price"]],template:function(t,e){1&t&&(l.Ub(0,"h1"),l.Hc(1),l.hc(2,"translate"),l.Ub(3,"small"),l.Hc(4),l.Tb(),l.Tb(),l.Ub(5,"mat-table",0),l.Sb(6,1),l.Fc(7,$,1,0,"mat-header-cell",2),l.Fc(8,Z,2,2,"mat-cell",3),l.Fc(9,X,1,0,"mat-footer-cell",4),l.Rb(),l.Sb(10,5),l.Fc(11,tt,1,0,"mat-header-cell",2),l.Fc(12,et,2,1,"mat-cell",6),l.Fc(13,nt,1,0,"mat-footer-cell",7),l.Rb(),l.Sb(14,8),l.Fc(15,at,1,0,"mat-header-cell",2),l.Fc(16,rt,5,3,"mat-cell",9),l.Fc(17,ct,2,0,"mat-footer-cell",10),l.Rb(),l.Sb(18,11),l.Fc(19,st,1,0,"mat-header-cell",2),l.Fc(20,lt,2,1,"mat-cell",12),l.Fc(21,ut,1,0,"mat-footer-cell",13),l.Rb(),l.Fc(22,ft,4,0,"ng-container",14),l.Fc(23,pt,1,0,"mat-header-row",15),l.Fc(24,ht,1,0,"mat-row",16),l.Fc(25,vt,2,1,"span",17),l.Tb(),l.Fc(26,Ct,3,4,"div",18)),2&t&&(l.Cb(1),l.Jc(" ",l.ic(2,8,"TITLE_BASKET")," "),l.Cb(3),l.Ic(e.userEmail),l.Cb(1),l.mc("dataSource",e.dataSource),l.Cb(17),l.mc("ngIf",e.allowEdit),l.Cb(1),l.mc("matHeaderRowDef",e.tableColumns),l.Cb(1),l.mc("matRowDefColumns",e.tableColumns),l.Cb(1),l.mc("ngIf",e.displayTotal),l.Cb(1),l.mc("ngIf",e.totalPrice))},directives:[W.n,W.c,W.i,W.b,W.e,Q.l,W.k,W.m,W.h,W.a,K.b,w.b,W.d,S.a,W.j,W.l,W.g,W.f],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}.img-thumbnail[_ngcontent-%COMP%]{height:auto;width:90px}mat-cell[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px;padding-left:10px;padding-right:10px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}mat-footer-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.mat-footer-cell[_ngcontent-%COMP%]{font-weight:700}.content-align[_ngcontent-%COMP%]{display:flex;justify-content:center}#price[_ngcontent-%COMP%]{font-size:large;margin-top:30px;text-align:right;width:100%}"]}),Tt),wt=function(t){return{bonus:t}};g.b.add(C.d),g.a.watch();var Ut,St,Ot=((St=function(){function t(e,n){r(this,t),this.router=e,this.ngZone=n,this.productCount=0,this.bonus=0}return s(t,[{key:"checkout",value:function(){var t=this;this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/address/select"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}},{key:"getProductCount",value:function(t){this.productCount=t}},{key:"getBonusPoints",value:function(t){sessionStorage.setItem("itemTotal",t[0]),this.bonus=t[1]}}]),t}()).\u0275fac=function(t){return new(t||St)(l.Ob(M.b),l.Ob(l.B))},St.\u0275cmp=l.Ib({type:St,selectors:[["app-basket"]],decls:8,vars:8,consts:[[1,"mat-elevation-z6"],[3,"allowEdit","emitTotal","emitProductCount"],["id","checkoutButton","color","primary","mat-raised-button","",1,"checkout-button",3,"disabled","click"],[1,"fas","fa-cart-arrow-down"],["translate","",1,"hint",3,"translateParams"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"app-purchase-basket",1),l.cc("emitTotal",function(t){return e.getBonusPoints(t)})("emitProductCount",function(t){return e.getProductCount(t)}),l.Tb(),l.Ub(2,"button",2),l.cc("click",function(){return e.checkout()}),l.Pb(3,"i",3),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Ub(6,"div",4),l.Hc(7,"CHECKOUT_FOR_BONUS_POINTS"),l.Tb(),l.Tb()),2&t&&(l.Cb(1),l.mc("allowEdit",!0),l.Cb(1),l.mc("disabled",e.productCount<1),l.Cb(2),l.Jc(" ",l.ic(5,4,"BTN_CHECKOUT")," "),l.Cb(2),l.mc("translateParams",l.rc(6,wt,e.bonus)))},directives:[y.a,yt,S.a,U.a],pipes:[U.d],styles:[".container[_ngcontent-%COMP%]{min-width:420px;width:40%}mat-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);justify-content:center;padding:12px 20px}.mat-row[_ngcontent-%COMP%]{padding-bottom:10px}.mat-column-bonus[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .mat-column-price[_ngcontent-%COMP%]{margin-left:20px}.mat-column-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{width:20px}.mat-column-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:22px}mat-form-field[_ngcontent-%COMP%]{margin-top:15px;width:100%}mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:20px}#checkoutButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.hint[_ngcontent-%COMP%]{display:flex;font-size:13px;justify-content:center;margin-top:5px}.payment-label[_ngcontent-%COMP%]{padding-top:10px}"]}),St),kt=((Ut=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/track-order"}return s(t,[{key:"find",value:function(t){return t=encodeURIComponent(t),this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Ut)(l.Yb(b.b))},Ut.\u0275prov=l.Kb({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut);function It(t,e){1&t&&(l.Ub(0,"span"),l.Pb(1,"i",27),l.Tb())}function Pt(t,e){1&t&&(l.Ub(0,"span"),l.Pb(1,"i",28),l.Tb())}function xt(t,e){1&t&&(l.Ub(0,"span"),l.Pb(1,"i",29),l.Tb())}function _t(t,e){1&t&&(l.Ub(0,"span"),l.Pb(1,"i",30),l.Tb())}function Ht(t,e){1&t&&(l.Ub(0,"span"),l.Pb(1,"i",31),l.Tb())}function At(t,e){1&t&&(l.Ub(0,"span"),l.Pb(1,"i",32),l.Tb())}function Et(t,e){if(1&t&&(l.Ub(0,"span",33),l.Ub(1,"span"),l.Pb(2,"i",34),l.Tb(),l.Ub(3,"span",35),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(4),l.Kc("",n.results.eta," ",l.ic(5,2,"LABEL_DAYS"),"")}}function Lt(t,e){if(1&t&&(l.Ub(0,"span",33),l.Ub(1,"span"),l.Pb(2,"i",36),l.Tb(),l.Ub(3,"span",35),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(4),l.Kc("",n.results.eta," ",l.ic(5,2,"LABEL_DAYS"),"")}}function Dt(t,e){1&t&&(l.Ub(0,"mat-header-cell",1),l.Hc(1,"LABEL_PRODUCT"),l.Tb())}function Ft(t,e){if(1&t&&(l.Ub(0,"mat-cell",37),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.name,"")}}function Rt(t,e){1&t&&(l.Ub(0,"mat-header-cell",38),l.Hc(1,"LABEL_PRICE"),l.Tb())}function Mt(t,e){if(1&t&&(l.Ub(0,"mat-cell",39),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.price,"\xa4")}}function Nt(t,e){1&t&&(l.Ub(0,"mat-header-cell",1),l.Hc(1,"LABEL_QUANTITY"),l.Tb())}function Bt(t,e){if(1&t&&(l.Ub(0,"mat-cell",40),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.quantity,"")}}function jt(t,e){1&t&&(l.Ub(0,"mat-header-cell",1),l.Hc(1,"LABEL_TOTAL_PRICE"),l.Tb())}function Gt(t,e){if(1&t&&(l.Ub(0,"mat-cell",41),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.total,"\xa4")}}function Vt(t,e){1&t&&l.Pb(0,"mat-header-row")}function qt(t,e){1&t&&l.Pb(0,"mat-row")}var Jt=function(t){return{bonus:t}};g.b.add(C.ib,C.N,C.Y,C.X,C.u),g.a.watch();var Yt,zt,Wt,Qt,Kt=function(t){return t[t.New=0]="New",t[t.Packing=1]="Packing",t[t.Transit=2]="Transit",t[t.Delivered=3]="Delivered",t}({}),$t=((Qt=function(){function t(e,n,a){r(this,t),this.route=e,this.trackOrderService=n,this.sanitizer=a,this.displayedColumns=["product","price","quantity","total price"],this.dataSource=new W.o,this.results={},this.status=Kt.New,this.Status=Kt}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.orderId=this.route.snapshot.queryParams.id,this.trackOrderService.find(this.orderId).subscribe(function(e){t.results.orderNo=t.sanitizer.bypassSecurityTrustHtml("<code>".concat(e.data[0].orderId,"</code>")),t.results.email=e.data[0].email,t.results.totalPrice=e.data[0].totalPrice,t.results.products=e.data[0].products,t.results.eta=void 0!==e.data[0].eta?e.data[0].eta:"?",t.results.bonus=e.data[0].bonus,t.dataSource.data=t.results.products,t.status=e.data[0].delivered?Kt.Delivered:t.route.snapshot.data.type?Kt.New:t.results.eta>2?Kt.Packing:Kt.Transit})}}]),t}()).\u0275fac=function(t){return new(t||Qt)(l.Ob(M.a),l.Ob(kt),l.Ob(u.c))},Qt.\u0275cmp=l.Ib({type:Qt,selectors:[["app-track-result"]],decls:48,vars:18,consts:[[1,"mat-elevation-z6","mat-own-card"],["translate",""],[3,"innerHtml"],[2,"text-align","center"],[1,"container-fluid","well"],[1,"row","fa-4x"],[4,"ngIf"],["class","fa-layers fa-fw",4,"ngIf"],["fxLayoutAlign","center",1,"table-wrapper"],[1,"table-heading","heading"],["fxLayoutAlign","center"],[1,"mat-elevation-z0",3,"dataSource"],["table",""],["matColumnDef","product"],["translate","",4,"matHeaderCellDef"],["class","product-name",4,"matCellDef"],["matColumnDef","price"],["fxShow","","fxHide.lt-md","","translate","",4,"matHeaderCellDef"],["class","product-price","fxShow","","fxHide.lt-md","",4,"matCellDef"],["matColumnDef","quantity"],["class","product-quantity",4,"matCellDef"],["matColumnDef","total price"],["class","product-total",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"bonus-container"],["translate","",3,"translateParams"],[1,"fas","fa-warehouse","confirmation"],[1,"fas","fa-warehouse"],[1,"fas","fa-truck-loading","confirmation"],[1,"fas","fa-truck-loading"],[1,"fas","fa-truck","confirmation"],[1,"fas","fa-truck"],[1,"fa-layers","fa-fw"],[1,"fas","fa-home","confirmation"],[1,"fa-layers-counter","accent-notification",2,"width","max-content"],[1,"fas","fa-home"],[1,"product-name"],["fxShow","","fxHide.lt-md","","translate",""],["fxShow","","fxHide.lt-md","",1,"product-price"],[1,"product-quantity"],[1,"product-total"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"h1"),l.Ub(2,"span",1),l.Hc(3,"TITLE_SEARCH_RESULTS"),l.Tb(),l.Hc(4," - "),l.Pb(5,"span",2),l.Tb(),l.Ub(6,"div",3),l.Ub(7,"h3",1),l.Hc(8,"LABEL_EXPECTED_DELIVERY"),l.Tb(),l.Ub(9,"div",4),l.Ub(10,"div",5),l.Fc(11,It,2,0,"span",6),l.Fc(12,Pt,2,0,"span",6),l.Fc(13,xt,2,0,"span",6),l.Fc(14,_t,2,0,"span",6),l.Fc(15,Ht,2,0,"span",6),l.Fc(16,At,2,0,"span",6),l.Fc(17,Et,6,4,"span",7),l.Fc(18,Lt,6,4,"span",7),l.Tb(),l.Tb(),l.Tb(),l.Ub(19,"div",8),l.Ub(20,"div",9),l.Ub(21,"h2",1),l.Hc(22,"LABEL_PRODUCT_ORDERED"),l.Tb(),l.Tb(),l.Tb(),l.Ub(23,"div",10),l.Ub(24,"mat-table",11,12),l.Sb(26,13),l.Fc(27,Dt,2,0,"mat-header-cell",14),l.Fc(28,Ft,2,1,"mat-cell",15),l.Rb(),l.Sb(29,16),l.Fc(30,Rt,2,0,"mat-header-cell",17),l.Fc(31,Mt,2,1,"mat-cell",18),l.Rb(),l.Sb(32,19),l.Fc(33,Nt,2,0,"mat-header-cell",14),l.Fc(34,Bt,2,1,"mat-cell",20),l.Rb(),l.Sb(35,21),l.Fc(36,jt,2,0,"mat-header-cell",14),l.Fc(37,Gt,2,1,"mat-cell",22),l.Rb(),l.Fc(38,Vt,1,0,"mat-header-row",23),l.Fc(39,qt,1,0,"mat-row",24),l.Tb(),l.Tb(),l.Ub(40,"div",25),l.Ub(41,"h2",26),l.Hc(42,"BONUS_POINTS_EARNED"),l.Tb(),l.Ub(43,"p"),l.Hc(44,"("),l.Pb(45,"span",2),l.hc(46,"translate"),l.Hc(47,")"),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(5),l.mc("innerHtml",e.results.orderNo,l.yc),l.Cb(6),l.mc("ngIf",e.status===e.Status.New),l.Cb(1),l.mc("ngIf",e.status!==e.Status.New),l.Cb(1),l.mc("ngIf",e.status===e.Status.Packing),l.Cb(1),l.mc("ngIf",e.status!==e.Status.Packing),l.Cb(1),l.mc("ngIf",e.status===e.Status.Transit),l.Cb(1),l.mc("ngIf",e.status!==e.Status.Transit),l.Cb(1),l.mc("ngIf",e.status===e.Status.Delivered),l.Cb(1),l.mc("ngIf",e.status!==e.Status.Delivered),l.Cb(6),l.mc("dataSource",e.dataSource),l.Cb(14),l.mc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.mc("matRowDefColumns",e.displayedColumns),l.Cb(2),l.mc("translateParams",l.rc(16,Jt,e.results.bonus)),l.Cb(4),l.mc("innerHtml",l.ic(46,14,"BONUS_FOR_FUTURE_PURCHASES"),l.yc))},directives:[y.a,U.a,Q.l,w.c,W.n,W.c,W.i,W.b,W.k,W.m,W.h,W.a,K.b,W.j,W.l],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%], .table-heading[_ngcontent-%COMP%], mat-table[_ngcontent-%COMP%]{width:90%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);height:35px;justify-content:center;padding:0 20px}.product-name[_ngcontent-%COMP%]{margin-right:25px}.table-wrapper[_ngcontent-%COMP%]{margin-top:30px}.table-heading[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0}.row.fa-4x[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.bonus-container[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;margin-top:10px;place-content:stretch center}.bonus-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}"]}),Qt),Zt=((Wt=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Feedbacks"}return s(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Wt)(l.Yb(b.b))},Wt.\u0275prov=l.Kb({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),Wt),Xt=((zt=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/captcha"}return s(t,[{key:"getCaptcha",value:function(){return this.http.get(this.host+"/").pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||zt)(l.Yb(b.b))},zt.\u0275prov=l.Kb({token:zt,factory:zt.\u0275fac,providedIn:"root"}),zt),te=((Yt=function(){function t(e){r(this,t),this._document=e}return s(t,[{key:"attachEnterKeyHandler",value:function(t,e,n){var a=this._document.getElementById(t),i=this._document.getElementById(e);a.addEventListener("keyup",function(t){t.preventDefault(),13!==t.keyCode||i.disabled||n()})}}]),t}()).\u0275fac=function(t){return new(t||Yt)(l.Yb(Q.d))},Yt.\u0275prov=l.Kb({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt),ee=i("Q2Ze"),ne=i("e6WT"),ae=i("mPVK");function ie(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_COMMENT "),l.Tb())}function oe(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_CAPTCHA "),l.Tb())}function re(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"INVALID_CAPTCHA "),l.Tb())}var ce=function(){return{length:"160"}};g.b.add(C.L,C.A),g.a.watch();var se,le,ue,be=((ue=function(){function t(e,n,a,i,o,c){r(this,t),this.userService=e,this.captchaService=n,this.feedbackService=a,this.formSubmitService=i,this.translate=o,this.snackBarHelperService=c,this.authorControl=new m.d({value:"",disabled:!0},[]),this.feedbackControl=new m.d("",[m.y.required,m.y.maxLength(160)]),this.captchaControl=new m.d("",[m.y.required,m.y.pattern("-?[\\d]*")]),this.userIdControl=new m.d("",[]),this.rating=0,this.feedback=void 0}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.feedback={},t.userIdControl.setValue(e.id),t.feedback.UserId=e.id,t.authorControl.setValue(e.email?"***"+e.email.slice(3):"anonymous")},function(e){t.feedback=void 0,console.log(e)}),this.getNewCaptcha(),this.formSubmitService.attachEnterKeyHandler("feedback-form","submitButton",function(){return t.save()})}},{key:"getNewCaptcha",value:function(){var t=this;this.captchaService.getCaptcha().subscribe(function(e){t.captcha=e.captcha,t.captchaId=e.captchaId},function(t){return t})}},{key:"save",value:function(){var t=this;this.feedback.captchaId=this.captchaId,this.feedback.captcha=this.captchaControl.value,this.feedback.comment="".concat(this.feedbackControl.value," (").concat(this.authorControl.value,")"),this.feedback.rating=this.rating,this.feedback.UserId=this.userIdControl.value,this.feedbackService.save(this.feedback).subscribe(function(e){5===e.rating?t.translate.get("FEEDBACK_FIVE_STAR_THANK_YOU").subscribe(function(e){t.snackBarHelperService.open(e)},function(e){t.snackBarHelperService.open(e)}):t.translate.get("FEEDBACK_THANK_YOU").subscribe(function(e){t.snackBarHelperService.open(e)},function(e){t.snackBarHelperService.open(e)}),t.feedback={},t.ngOnInit(),t.resetForm()},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.feedback={},t.resetCaptcha()})}},{key:"resetForm",value:function(){this.authorControl.markAsUntouched(),this.authorControl.markAsPristine(),this.authorControl.setValue(""),this.feedbackControl.markAsUntouched(),this.feedbackControl.markAsPristine(),this.feedbackControl.setValue(""),this.rating=0,this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue("")}},{key:"resetCaptcha",value:function(){this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue("")}},{key:"formatRating",value:function(t){return t+"\u2605"}}]),t}()).\u0275fac=function(t){return new(t||ue)(l.Ob(R),l.Ob(Xt),l.Ob(Zt),l.Ob(te),l.Ob(U.e),l.Ob(z))},ue.\u0275cmp=l.Ib({type:ue,selectors:[["app-contact"]],decls:52,vars:26,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["id","feedback-form",1,"form-container"],["hidden","","type","text","id","userId",3,"formControl"],["appearance","outline","color","accent"],["matInput","","type","text","aria-label","Field with the name of the author",3,"formControl"],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["id","comment","matInput","","matAutosizeMinRows","4","matAutosizeMaxRows","4","matTextareaAutosize","","cols","50","maxlength","160","aria-label","Field for entering the comment or the feedback",3,"formControl","placeholder"],["comment",""],["align","end"],["translate","",4,"ngIf"],[1,"rating-container"],["translate","",2,"font-weight","500","margin-right","8px","float","left"],["id","rating","min","1","max","5","thumbLabel","","tickInterval","1","aria-label","Slider for selecting the star rating",3,"value","displayWith","valueChange"],[2,"margin-bottom","10px","margin-top","10px"],[2,"font-weight","500"],["translate","",2,"font-size","small"],["id","captcha","aria-label","CAPTCHA code which must be solved"],[2,"font-size","small"],["id","captchaControl","matInput","","type","text","aria-label","Field for the result of the CAPTCHA code","pattern","-?[\\d]*",3,"formControl","placeholder"],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Button to send the review",3,"disabled","click"],[1,"material-icons"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"SECTION_CUSTOMER_FEEDBACK"),l.Tb(),l.Ub(4,"div",3),l.Pb(5,"input",4),l.Ub(6,"mat-form-field",5),l.Ub(7,"mat-label",2),l.Hc(8,"LABEL_AUTHOR"),l.Tb(),l.Pb(9,"input",6),l.Tb(),l.Ub(10,"mat-form-field",5),l.Ub(11,"mat-label",2),l.Hc(12,"LABEL_COMMENT"),l.Tb(),l.Ub(13,"mat-hint",2),l.Pb(14,"i",7),l.Ub(15,"em",8),l.Hc(16),l.hc(17,"translate"),l.Tb(),l.Tb(),l.Pb(18,"textarea",9,10),l.hc(20,"translate"),l.Ub(21,"mat-hint",11),l.Hc(22),l.Tb(),l.Fc(23,ie,2,0,"mat-error",12),l.Tb(),l.Ub(24,"div",13),l.Ub(25,"label",14),l.Hc(26,"LABEL_RATING"),l.Tb(),l.Ub(27,"mat-slider",15),l.cc("valueChange",function(t){return e.rating=t}),l.Tb(),l.Tb(),l.Ub(28,"div",16),l.Ub(29,"label",17),l.Hc(30,"CAPTCHA:"),l.Tb(),l.Hc(31,"\xa0\xa0"),l.Ub(32,"span",18),l.Hc(33,"LABEL_WHAT_IS"),l.Tb(),l.Hc(34,"\xa0 "),l.Ub(35,"code",19),l.Hc(36),l.Tb(),l.Hc(37,"\xa0"),l.Ub(38,"label",20),l.Hc(39,"?"),l.Tb(),l.Tb(),l.Ub(40,"mat-form-field",5),l.Ub(41,"mat-label",2),l.Hc(42,"LABEL_RESULT"),l.Tb(),l.Pb(43,"input",21),l.hc(44,"translate"),l.Fc(45,oe,2,0,"mat-error",12),l.Fc(46,re,2,0,"mat-error",12),l.Tb(),l.Tb(),l.Ub(47,"button",22),l.cc("click",function(){return e.save()}),l.Ub(48,"i",23),l.Hc(49," send "),l.Tb(),l.Hc(50),l.hc(51,"translate"),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(19);l.Cb(5),l.mc("formControl",e.userIdControl),l.Cb(4),l.mc("formControl",e.authorControl),l.Cb(7),l.Ic(l.jc(17,16,"MAX_TEXTAREA_LENGTH",l.qc(25,ce))),l.Cb(2),l.nc("placeholder",l.ic(20,19,"WRITE_REVIEW_PLACEHOLDER")),l.mc("formControl",e.feedbackControl),l.Cb(4),l.Jc("",(null==n.value?null:n.value.length)||0,"/160"),l.Cb(1),l.mc("ngIf",e.feedbackControl.invalid&&e.feedbackControl.errors.required),l.Cb(4),l.mc("value",e.rating)("displayWith",e.formatRating),l.Cb(9),l.Ic(e.captcha),l.Cb(7),l.nc("placeholder",l.ic(44,21,"MANDATORY_CAPTCHA")),l.mc("formControl",e.captchaControl),l.Cb(2),l.mc("ngIf",e.captchaControl.invalid&&e.captchaControl.errors.required),l.Cb(1),l.mc("ngIf",e.captchaControl.invalid&&e.captchaControl.errors.pattern),l.Cb(1),l.mc("disabled",e.authorControl.invalid||e.feedbackControl.invalid||e.captchaControl.invalid||!e.rating),l.Cb(3),l.Jc(" ",l.ic(51,23,"BTN_SUBMIT")," ")}},directives:[w.c,y.a,U.a,m.c,m.o,m.e,ee.c,ee.g,ne.b,ee.f,ne.d,m.j,Q.l,ae.a,m.u,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:30%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.rating-container[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.star[_ngcontent-%COMP%]{color:#c8c8c8}.active[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{color:gold}[_nghost-%COMP%]     .br{margin:0!important}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}"]}),ue),de=((le=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/SecurityQuestions"}return s(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"findBy",value:function(t){return this.http.get(this.hostServer+"/rest/user/security-question?email="+t).pipe(Object(f.a)(function(t){return t.question}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||le)(l.Yb(b.b))},le.\u0275prov=l.Kb({token:le,factory:le.\u0275fac,providedIn:"root"}),le),me=((se=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/user"}return s(t,[{key:"erase",value:function(t){return this.http.post(this.host+"/erasure-request",t).pipe(Object(p.a)(function(t){throw t}))}},{key:"dataExport",value:function(t){return this.http.post(this.host+"/data-export",t).pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||se)(l.Yb(b.b))},se.\u0275prov=l.Kb({token:se,factory:se.\u0275fac,providedIn:"root"}),se);function fe(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_EMAIL"),l.Tb())}function pe(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"INVALID_EMAIL"),l.Tb())}function he(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_SECURITY_ANSWER"),l.Tb())}function ge(t,e){if(1&t&&(l.Ub(0,"div",12),l.Ub(1,"mat-form-field",6),l.Ub(2,"mat-label"),l.Hc(3),l.Tb(),l.Pb(4,"input",13),l.Fc(5,he,2,0,"mat-error",8),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(3),l.Ic(n.securityQuestion),l.Cb(2),l.mc("ngIf",n.securityQuestionForm)}}g.b.add(C.L,C.m),g.a.watch();var ve,Ce=((ve=function(){function t(e,n,a,i,o,c,s,l,u){r(this,t),this.securityQuestionService=e,this.dataSubjectService=n,this.ngZone=a,this.router=i,this.cookieService=o,this.userService=c,this.translateService=s,this.snackBar=l,this.snackBarHelperService=u,this.dataSubjectGroup=new m.g({emailControl:new m.d("",[m.y.required,m.y.email]),securityQuestionControl:new m.d("",[m.y.required])})}return s(t,[{key:"ngOnInit",value:function(){this.findSecurityQuestion()}},{key:"emailForm",get:function(){return this.dataSubjectGroup.get("emailControl")}},{key:"securityQuestionForm",get:function(){return this.dataSubjectGroup.get("securityQuestionControl")}},{key:"findSecurityQuestion",value:function(){var t=this;this.securityQuestion=void 0,this.emailForm.value&&this.securityQuestionService.findBy(this.emailForm.value).subscribe(function(e){e&&(t.securityQuestion=e.question)},function(t){return t})}},{key:"save",value:function(){var t=this;this.dataSubjectService.erase({email:this.emailForm.value,securityAnswer:this.securityQuestionForm.value}).subscribe(function(e){t.error=void 0,t.logout()},function(e){t.error=e.message,t.resetForm()})}},{key:"logout",value:function(){var t=this;this.userService.saveLastLoginIp().subscribe(function(e){t.noop()},function(t){return console.log(t)}),localStorage.removeItem("token"),this.cookieService.delete("token","/"),sessionStorage.removeItem("bid"),this.userService.isLoggedIn.next(!1),this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),this.snackBarHelperService.open("CONFIRM_ERASURE_REQUEST")}},{key:"noop",value:function(){}},{key:"resetForm",value:function(){this.emailForm.markAsUntouched(),this.emailForm.markAsPristine(),this.emailForm.setValue(""),this.securityQuestionForm.markAsUntouched(),this.securityQuestionForm.markAsPristine(),this.securityQuestionForm.setValue("")}}]),t}()).\u0275fac=function(t){return new(t||ve)(l.Ob(de),l.Ob(me),l.Ob(l.B),l.Ob(M.b),l.Ob(d.a),l.Ob(R),l.Ob(U.e),l.Ob(Y.a),l.Ob(z))},ve.\u0275cmp=l.Ib({type:ve,selectors:[["app-erasure-request"]],decls:23,vars:10,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],[1,"data-subject-container"],[1,"error",3,"hidden"],["id","data-subject-form","color","warn",1,"form-container",3,"formGroup","ngSubmit"],["appearance","outline","color","accent"],["id","email","formControlName","emailControl","type","text","matInput","","placeholder","Enter your email",3,"ngModelChange"],["translate","",4,"ngIf"],["class","form-container","id","forgot-form",4,"ngIf"],["type","submit","id","deleteUserButton","mat-raised-button","","color","primary",3,"disabled"],[1,"fas","fa-exclamation-triangle","fa-lg"],["id","forgot-form",1,"form-container"],["id","securityAnswer","formControlName","securityQuestionControl","type","password","matInput","","placeholder",""]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"GDPR_HEADING"),l.Tb(),l.Ub(4,"p",2),l.Hc(5,"GDPR_MESSAGE"),l.Tb(),l.Ub(6,"h3",2),l.Hc(7,"DATA_SUBJECT_TITLE"),l.Tb(),l.Ub(8,"div",3),l.Ub(9,"div",4),l.Hc(10),l.Tb(),l.Ub(11,"form",5),l.cc("ngSubmit",function(){return e.save()}),l.Ub(12,"mat-form-field",6),l.Ub(13,"mat-label",2),l.Hc(14,"LABEL_EMAIL"),l.Tb(),l.Ub(15,"input",7),l.cc("ngModelChange",function(){return e.findSecurityQuestion()}),l.Tb(),l.Fc(16,fe,2,0,"mat-error",8),l.Fc(17,pe,2,0,"mat-error",8),l.Tb(),l.Fc(18,ge,6,2,"div",9),l.Ub(19,"button",10),l.Pb(20,"i",11),l.Hc(21),l.hc(22,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(9),l.mc("hidden",!e.error),l.Cb(1),l.Ic(e.error),l.Cb(1),l.mc("formGroup",e.dataSubjectGroup),l.Cb(5),l.mc("ngIf",e.emailForm.invalid&&e.emailForm.errors.required),l.Cb(1),l.mc("ngIf",e.emailForm.invalid&&e.emailForm.errors.email),l.Cb(1),l.mc("ngIf",e.securityQuestion),l.Cb(1),l.mc("disabled",e.emailForm.invalid||e.securityQuestionForm.invalid),l.Cb(2),l.Jc(" ",l.ic(22,8,"DELETE_DATA_LABEL")," "))},directives:[w.c,y.a,U.a,m.A,m.p,m.h,ee.c,ee.g,m.c,ne.b,m.o,m.f,Q.l,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;margin-bottom:30px;min-width:320px;width:30%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#deleteUserButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:1.2rem;width:60%}"]}),ve),Te=i("5VOe");function ye(t,e){if(1&t&&(l.Ub(0,"a",14),l.Ub(1,"button",15),l.Pb(2,"i",16),l.Hc(3," Twitter"),l.Tb(),l.Tb()),2&t){var n=l.gc(2);l.mc("href",n.twitterUrl,l.Ac)}}function we(t,e){if(1&t&&(l.Ub(0,"a",17),l.Ub(1,"button",15),l.Pb(2,"i",18),l.Hc(3," Facebook"),l.Tb(),l.Tb()),2&t){var n=l.gc(2);l.mc("href",n.facebookUrl,l.Ac)}}function Ue(t,e){if(1&t&&(l.Ub(0,"a",19),l.Ub(1,"button",15),l.Pb(2,"i",20),l.Hc(3," Slack"),l.Tb(),l.Tb()),2&t){var n=l.gc(2);l.mc("href",n.slackUrl,l.Ac)}}function Se(t,e){if(1&t&&(l.Ub(0,"a",21),l.Ub(1,"button",15),l.Pb(2,"i",22),l.Hc(3," Reddit"),l.Tb(),l.Tb()),2&t){var n=l.gc(2);l.mc("href",n.redditUrl,l.Ac)}}function Oe(t,e){if(1&t&&(l.Ub(0,"a",23),l.Ub(1,"button",15),l.Pb(2,"i",24),l.Hc(3," Press Kit"),l.Tb(),l.Tb()),2&t){var n=l.gc(2);l.mc("href",n.pressKitUrl,l.Ac)}}function ke(t,e){if(1&t&&(l.Ub(0,"div",8),l.Ub(1,"h3"),l.Ub(2,"span",3),l.Hc(3,"SECTION_SOCIAL_MEDIA"),l.Tb(),l.Tb(),l.Fc(4,ye,4,1,"a",9),l.Fc(5,we,4,1,"a",10),l.Fc(6,Ue,4,1,"a",11),l.Fc(7,Se,4,1,"a",12),l.Fc(8,Oe,4,1,"a",13),l.Tb()),2&t){var n=l.gc();l.Cb(4),l.mc("ngIf",n.twitterUrl),l.Cb(1),l.mc("ngIf",n.facebookUrl),l.Cb(1),l.mc("ngIf",n.slackUrl),l.Cb(1),l.mc("ngIf",n.redditUrl),l.Cb(1),l.mc("ngIf",n.pressKitUrl)}}g.b.add(v.c,v.k,v.i,v.h,T.e,T.f,C.L),g.a.watch();var Ie,Pe,xe=((Pe=function(){function t(e,n,a){r(this,t),this.configurationService=e,this.feedbackService=n,this.sanitizer=a,this.slideshowDataSource=[],this.images=["assets/public/images/carousel/1.jpg","assets/public/images/carousel/2.jpg","assets/public/images/carousel/3.jpg","assets/public/images/carousel/4.jpg","assets/public/images/carousel/5.png","assets/public/images/carousel/6.jpg","assets/public/images/carousel/7.jpg"],this.stars=[null,'<i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>']}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.populateSlideshowFromFeedbacks(),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.social)&&(e.application.social.twitterUrl&&(t.twitterUrl=e.application.social.twitterUrl),e.application.social.facebookUrl&&(t.facebookUrl=e.application.social.facebookUrl),e.application.social.slackUrl&&(t.slackUrl=e.application.social.slackUrl),e.application.social.redditUrl&&(t.redditUrl=e.application.social.redditUrl),e.application.social.pressKitUrl&&(t.pressKitUrl=e.application.social.pressKitUrl))},function(t){return console.log(t)})}},{key:"populateSlideshowFromFeedbacks",value:function(){var t=this;this.feedbackService.find().subscribe(function(e){for(var n=0;n<e.length;n++)e[n].comment='<span style="width: 90%; display:block;">'.concat(e[n].comment,"<br/> (").concat(t.stars[e[n].rating],")</span>"),e[n].comment=t.sanitizer.bypassSecurityTrustHtml(e[n].comment),t.slideshowDataSource.push({url:t.images[n%t.images.length],caption:e[n].comment})},function(t){console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Pe)(l.Ob(h),l.Ob(Zt),l.Ob(u.c))},Pe.\u0275cmp=l.Ib({type:Pe,selectors:[["app-about"]],decls:17,vars:7,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],[1,"about-us"],["translate",""],[1,"text-justify"],["href","ftp/legal.md","aria-label","Link to the Terms of Use","translate",""],[3,"height","autoPlay","arrowSize","showArrows","showDots","imageUrls"],["class","social",4,"ngIf"],[1,"social"],["target","_blank","rel","noopener noreferrer","style","margin-left: 0px;","aria-label","Button for the Twitter page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Facebook page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Slack page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Reddit page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the PressKit page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Twitter page of the shop",2,"margin-left","0px",3,"href"],["mat-raised-button","","color","accent"],[1,"fab","fa-twitter","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Facebook page of the shop",3,"href"],[1,"fab","fa-facebook","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Slack page of the shop",3,"href"],[1,"fab","fa-slack","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Reddit page of the shop",3,"href"],[1,"fab","fa-reddit","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the PressKit page of the shop",3,"href"],[1,"far","fa-newspaper","fa-lg"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"section",2),l.Ub(3,"h1",3),l.Hc(4,"TITLE_ABOUT"),l.Tb(),l.Ub(5,"h3",3),l.Hc(6,"SECTION_CORPORATE_HISTORY"),l.Tb(),l.Ub(7,"p",4),l.Hc(8," Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. "),l.Ub(9,"a",5),l.Hc(10,"LINK_TERMS_OF_USE"),l.Tb(),l.Hc(11," At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. "),l.Tb(),l.Ub(12,"h3"),l.Ub(13,"span",3),l.Hc(14,"SECTION_CUSTOMER_FEEDBACK"),l.Tb(),l.Tb(),l.Pb(15,"slideshow",6),l.Fc(16,ke,9,5,"div",7),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(15),l.mc("height","300px")("autoPlay",!0)("arrowSize","10px")("showArrows",!0)("showDots",!1)("imageUrls",e.slideshowDataSource),l.Cb(1),l.mc("ngIf",e.twitterUrl||e.facebookUrl))},directives:[w.c,y.a,U.a,Te.b,Q.l,S.a],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-bottom:30px;margin-left:auto;margin-right:auto;width:80%}.about-us[_ngcontent-%COMP%]{margin-left:8.33333%;margin-right:8.33333%;width:83.3333%}.social[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{margin:5px}.text-justify[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word}"]}),Pe),_e=((Ie=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/SecurityAnswers"}return s(t,[{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Ie)(l.Yb(b.b))},Ie.\u0275prov=l.Kb({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie),He=i("jMqV"),Ae=i("sOue"),Ee=i("ZTz/"),Le=i("UhP/");function De(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_EMAIL"),l.Tb())}function Fe(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"INVALID_EMAIL"),l.Tb())}function Re(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_PASSWORD "),l.Tb())}var Me=function(){return{length:"5-20"}};function Ne(t,e){1&t&&(l.Ub(0,"mat-error",30),l.Hc(1,"INVALID_PASSWORD_LENGTH "),l.Tb()),2&t&&l.mc("translateParams",l.qc(1,Me))}function Be(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_PASSWORD_REPEAT "),l.Tb())}function je(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," PASSWORDS_NOT_MATCHING "),l.Tb())}var Ge=function(){return{value:8}};function Ve(t,e){if(1&t&&(l.Pb(0,"mat-password-strength-info",31),l.hc(1,"translate"),l.hc(2,"translate"),l.hc(3,"translate"),l.hc(4,"translate"),l.hc(5,"translate")),2&t){l.gc();var n=l.uc(41);l.mc("passwordComponent",n)("lowerCaseCriteriaMsg",l.ic(1,6,"LOWER_CASE_CRITERIA_MSG"))("upperCaseCriteriaMsg",l.ic(2,8,"UPPER_CASE_CRITERIA_MSG"))("digitsCriteriaMsg",l.ic(3,10,"DIGITS_CRITERIA_MSG"))("specialCharsCriteriaMsg",l.ic(4,12,"SPECIAL_CHARS_CRITERIA_MSG"))("minCharsCriteriaMsg",l.jc(5,14,"MIN_CHARS_CRITERIA_MSG",l.qc(17,Ge)))}}function qe(t,e){if(1&t&&(l.Ub(0,"mat-option",32),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.mc("value",n.id),l.Cb(1),l.Jc(" ",n.question," ")}}function Je(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_SECURITY_QUESTION "),l.Tb())}function Ye(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_SECURITY_ANSWER "),l.Tb())}g.b.add(C.fb,C.l),g.a.watch();var ze,We=((ze=function(){function t(e,n,a,i,o,c,s,l,u){var b;r(this,t),this.securityQuestionService=e,this.userService=n,this.securityAnswerService=a,this.router=i,this.formSubmitService=o,this.translateService=c,this.snackBar=s,this.snackBarHelperService=l,this.ngZone=u,this.emailControl=new m.d("",[m.y.required,m.y.email]),this.passwordControl=new m.d("",[m.y.required,m.y.minLength(5),m.y.maxLength(20)]),this.repeatPasswordControl=new m.d("",[m.y.required,(b=this.passwordControl,function(t){return b.value!==t.value?{notSame:!0}:null})]),this.securityQuestionControl=new m.d("",[m.y.required]),this.securityAnswerControl=new m.d("",[m.y.required]),this.error=null}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.securityQuestionService.find(null).subscribe(function(e){t.securityQuestions=e},function(t){return console.log(t)}),this.formSubmitService.attachEnterKeyHandler("registration-form","registerButton",function(){return t.save()})}},{key:"save",value:function(){var t=this,e={email:this.emailControl.value,password:this.passwordControl.value,passwordRepeat:this.repeatPasswordControl.value,securityQuestion:this.securityQuestions.find(function(e){return e.id===t.securityQuestionControl.value}),securityAnswer:this.securityAnswerControl.value};this.userService.save(e).subscribe(function(e){t.securityAnswerService.save({UserId:e.id,answer:t.securityAnswerControl.value,SecurityQuestionId:t.securityQuestionControl.value}).subscribe(function(){t.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/login"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),t.snackBarHelperService.open("CONFIRM_REGISTER")})},function(e){var n;if(console.log(e),null===(n=e.error)||void 0===n?void 0:n.errors){var a=e.error.errors[0];t.error=a.message?a.message[0].toUpperCase()+a.message.slice(1):a}})}}]),t}()).\u0275fac=function(t){return new(t||ze)(l.Ob(de),l.Ob(R),l.Ob(_e),l.Ob(M.b),l.Ob(te),l.Ob(U.e),l.Ob(Y.a),l.Ob(z),l.Ob(l.B))},ze.\u0275cmp=l.Ib({type:ze,selectors:[["app-register"]],decls:69,vars:39,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["ng-if","error",1,"error"],["id","registration-form",1,"form-container"],["appearance","outline","color","accent"],["id","emailControl","type","text","matInput","","aria-label","Email address field",3,"formControl","focus"],["translate","",4,"ngIf"],["id","passwordControl","type","password","matInput","","aria-label","Field for the password",3,"formControl","focus"],["password",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["align","end"],["translate","",3,"translateParams",4,"ngIf"],["id","repeatPasswordControl","type","password","matInput","","aria-label","Field to confirm the password",3,"formControl","focus"],["repeatPassword",""],[3,"color"],["passwordInfoToggle",""],[3,"password"],["passwordStrength",""],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg",4,"ngIf"],[1,"security-container"],["color","accent","appearance","outline"],["placeholder","","name","securityQuestion","aria-label","Selection list for the security question",3,"formControl","value","valueChange","focus"],[3,"value",4,"ngFor","ngForOf"],["id","securityAnswerControl","type","text","matInput","","aria-label","Field for the answer to the security question",3,"formControl","placeholder","focus"],["type","submit","id","registerButton","mat-raised-button","","color","primary","aria-label","Button to complete the registration",3,"disabled","click"],[1,"material-icons"],["id","alreadyACustomerLink"],["routerLink","/login","translate","",1,"primary-link"],["translate","",3,"translateParams"],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg"],[3,"value"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_REGISTRATION"),l.Tb(),l.Ub(4,"div",3),l.Hc(5),l.Tb(),l.Ub(6,"div",4),l.Ub(7,"mat-form-field",5),l.Ub(8,"mat-label",2),l.Hc(9,"LABEL_EMAIL"),l.Tb(),l.Ub(10,"input",6),l.cc("focus",function(){return e.error=null}),l.Tb(),l.Fc(11,De,2,0,"mat-error",7),l.Fc(12,Fe,2,0,"mat-error",7),l.Tb(),l.Ub(13,"mat-form-field",5),l.Ub(14,"mat-label",2),l.Hc(15,"LABEL_PASSWORD"),l.Tb(),l.Ub(16,"input",8,9),l.cc("focus",function(){return e.error=null}),l.Tb(),l.Ub(18,"mat-hint",2),l.Pb(19,"i",10),l.Ub(20,"em",11),l.Hc(21),l.hc(22,"translate"),l.Tb(),l.Tb(),l.Ub(23,"mat-hint",12),l.Hc(24),l.Tb(),l.Fc(25,Re,2,0,"mat-error",7),l.Fc(26,Ne,2,2,"mat-error",13),l.Tb(),l.Ub(27,"mat-form-field",5),l.Ub(28,"mat-label",2),l.Hc(29,"LABEL_PASSWORD_REPEAT"),l.Tb(),l.Ub(30,"input",14,15),l.cc("focus",function(){return e.error=null}),l.Tb(),l.Ub(32,"mat-hint",12),l.Hc(33),l.Tb(),l.Fc(34,Be,2,0,"mat-error",7),l.Fc(35,je,2,0,"mat-error",7),l.Tb(),l.Ub(36,"mat-slide-toggle",16,17),l.Hc(38),l.hc(39,"translate"),l.Tb(),l.Pb(40,"mat-password-strength",18,19),l.Fc(42,Ve,6,18,"mat-password-strength-info",20),l.Ub(43,"div",21),l.Ub(44,"mat-form-field",22),l.Ub(45,"mat-label"),l.Hc(46),l.hc(47,"translate"),l.Tb(),l.Ub(48,"mat-select",23),l.cc("valueChange",function(t){return e.selected=t})("focus",function(){return e.error=null}),l.Fc(49,qe,2,2,"mat-option",24),l.Tb(),l.Ub(50,"mat-hint",2),l.Pb(51,"i",10),l.Ub(52,"em",11),l.Hc(53,"CANNOT_BE_CHANGED_LATER"),l.Tb(),l.Tb(),l.Fc(54,Je,2,0,"mat-error",7),l.Tb(),l.Ub(55,"mat-form-field",5),l.Ub(56,"mat-label",2),l.Hc(57,"SECURITY_ANSWER"),l.Tb(),l.Ub(58,"input",25),l.cc("focus",function(){return e.error=null}),l.hc(59,"translate"),l.Tb(),l.Fc(60,Ye,2,0,"mat-error",7),l.Tb(),l.Tb(),l.Ub(61,"button",26),l.cc("click",function(){return e.save()}),l.Ub(62,"i",27),l.Hc(63," person_add "),l.Tb(),l.Hc(64),l.hc(65,"translate"),l.Tb(),l.Ub(66,"div",28),l.Ub(67,"a",29),l.Hc(68,"ALREADY_A_CUSTOMER"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(17),a=l.uc(31),i=l.uc(37),o=l.uc(41);l.Cb(5),l.Ic(e.error),l.Cb(5),l.mc("formControl",e.emailControl),l.Cb(1),l.mc("ngIf",e.emailControl.invalid&&e.emailControl.errors.required),l.Cb(1),l.mc("ngIf",e.emailControl.invalid&&e.emailControl.errors.email),l.Cb(4),l.mc("formControl",e.passwordControl),l.Cb(5),l.Ic(l.jc(22,27,"INVALID_PASSWORD_LENGTH",l.qc(38,Me))),l.Cb(3),l.Jc("",(null==n.value?null:n.value.length)||0,"/20"),l.Cb(1),l.mc("ngIf",e.passwordControl.invalid&&e.passwordControl.errors.required),l.Cb(1),l.mc("ngIf",e.passwordControl.invalid&&(e.passwordControl.errors.minlength||e.passwordControl.errors.maxlength)),l.Cb(4),l.mc("formControl",e.repeatPasswordControl),l.Cb(3),l.Jc("",(null==a.value?null:a.value.length)||0,"/20"),l.Cb(1),l.mc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.required),l.Cb(1),l.mc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.notSame),l.Cb(1),l.mc("color",o.color),l.Cb(2),l.Ic(l.ic(39,30,"SHOW_PASSWORD_ADVICE")),l.Cb(2),l.mc("password",n.value),l.Cb(2),l.mc("ngIf",i.checked),l.Cb(4),l.Jc(" ",l.ic(47,32,"LABEL_SECURITY_QUESTION")," "),l.Cb(2),l.mc("formControl",e.securityQuestionControl)("value",e.selected),l.Cb(1),l.mc("ngForOf",e.securityQuestions),l.Cb(5),l.mc("ngIf",e.securityQuestionControl.invalid&&e.securityQuestionControl.errors.required),l.Cb(4),l.mc("formControl",e.securityAnswerControl)("placeholder",l.ic(59,34,"SECURITY_ANSWER_PLACEHOLDER")),l.Cb(2),l.mc("ngIf",e.securityAnswerControl.invalid&&e.securityAnswerControl.errors.required),l.Cb(1),l.mc("disabled",e.emailControl.invalid||e.passwordControl.invalid||e.repeatPasswordControl.invalid||e.securityQuestionControl.invalid||e.securityAnswerControl.invalid),l.Cb(3),l.Jc(" ",l.ic(65,36,"BTN_REGISTER")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.c,m.o,m.e,Q.l,ee.f,He.a,Ae.a,Ee.a,Q.k,S.a,M.d,ee.b,Ae.b,Le.k],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#registerButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}#alreadyACustomerLink[_ngcontent-%COMP%]{align-self:center;font-size:12px;margin-top:40px}.security-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}  mat-option .mat-option-text{font-size:14px}"]}),ze),Qe=i("Tj54"),Ke=i("ZFy/");function $e(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_EMAIL"),l.Tb())}function Ze(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"INVALID_EMAIL"),l.Tb())}function Xe(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_SECURITY_ANSWER "),l.Tb())}function tn(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_NEW_PASSWORD "),l.Tb())}function en(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_PASSWORD_REPEAT "),l.Tb())}function nn(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," PASSWORDS_NOT_MATCHING "),l.Tb())}var an=function(){return{length:"5-20"}};function on(t,e){1&t&&(l.Ub(0,"mat-error",28),l.Hc(1,"INVALID_PASSWORD_LENGTH "),l.Tb()),2&t&&l.mc("translateParams",l.qc(1,an))}var rn=function(){return{value:8}};function cn(t,e){if(1&t&&(l.Pb(0,"mat-password-strength-info",29),l.hc(1,"translate"),l.hc(2,"translate"),l.hc(3,"translate"),l.hc(4,"translate"),l.hc(5,"translate")),2&t){l.gc();var n=l.uc(55);l.mc("passwordComponent",n)("lowerCaseCriteriaMsg",l.ic(1,6,"LOWER_CASE_CRITERIA_MSG"))("upperCaseCriteriaMsg",l.ic(2,8,"UPPER_CASE_CRITERIA_MSG"))("digitsCriteriaMsg",l.ic(3,10,"DIGITS_CRITERIA_MSG"))("specialCharsCriteriaMsg",l.ic(4,12,"SPECIAL_CHARS_CRITERIA_MSG"))("minCharsCriteriaMsg",l.jc(5,14,"MIN_CHARS_CRITERIA_MSG",l.qc(17,rn)))}}g.b.add(C.F,T.c),g.a.watch();var sn,ln,un=((sn=function(){function t(e,n,a){var i;r(this,t),this.securityQuestionService=e,this.userService=n,this.translate=a,this.emailControl=new m.d("",[m.y.required,m.y.email]),this.securityQuestionControl=new m.d({disabled:!0,value:""},[m.y.required]),this.passwordControl=new m.d({disabled:!0,value:""},[m.y.required,m.y.minLength(5)]),this.repeatPasswordControl=new m.d({disabled:!0,value:""},[m.y.required,(i=this.passwordControl,function(t){return i.value!==t.value?{notSame:!0}:null})]),this.timeoutDuration=1e3}return s(t,[{key:"findSecurityQuestion",value:function(){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.securityQuestion=void 0,t.emailControl.value?t.securityQuestionService.findBy(t.emailControl.value).subscribe(function(e){e?(t.securityQuestion=e.question,t.securityQuestionControl.enable(),t.passwordControl.enable(),t.repeatPasswordControl.enable()):(t.securityQuestionControl.disable(),t.passwordControl.disable(),t.repeatPasswordControl.disable())},function(t){return t}):(t.securityQuestionControl.disable(),t.passwordControl.disable(),t.repeatPasswordControl.disable())},this.timeoutDuration)}},{key:"resetPassword",value:function(){var t=this;this.userService.resetPassword({email:this.emailControl.value,answer:this.securityQuestionControl.value,new:this.passwordControl.value,repeat:this.repeatPasswordControl.value}).subscribe(function(){t.error=void 0,t.translate.get("PASSWORD_SUCCESSFULLY_CHANGED").subscribe(function(e){t.confirmation=e},function(e){t.confirmation=e}),t.resetForm()},function(e){t.error=e.error,t.confirmation=void 0,t.resetErrorForm()})}},{key:"resetForm",value:function(){this.emailControl.setValue(""),this.emailControl.markAsPristine(),this.emailControl.markAsUntouched(),this.securityQuestionControl.setValue(""),this.securityQuestionControl.markAsPristine(),this.securityQuestionControl.markAsUntouched(),this.passwordControl.setValue(""),this.passwordControl.markAsPristine(),this.passwordControl.markAsUntouched(),this.repeatPasswordControl.setValue(""),this.repeatPasswordControl.markAsPristine(),this.repeatPasswordControl.markAsUntouched()}},{key:"resetErrorForm",value:function(){this.emailControl.markAsPristine(),this.emailControl.markAsUntouched(),this.securityQuestionControl.setValue(""),this.securityQuestionControl.markAsPristine(),this.securityQuestionControl.markAsUntouched(),this.passwordControl.setValue(""),this.passwordControl.markAsPristine(),this.passwordControl.markAsUntouched(),this.repeatPasswordControl.setValue(""),this.repeatPasswordControl.markAsPristine(),this.repeatPasswordControl.markAsUntouched()}}]),t}()).\u0275fac=function(t){return new(t||sn)(l.Ob(de),l.Ob(R),l.Ob(U.e))},sn.\u0275cmp=l.Ib({type:sn,selectors:[["app-forgot-password"]],decls:61,vars:39,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],[1,"confirmation",3,"hidden"],[1,"error",3,"hidden"],[1,"form-container"],["appearance","outline","color","accent"],["id","email","type","email","matInput","","placeholder","Enter your email","aria-label","Email address field",3,"formControl","ngModelChange"],["matSuffix","","matTooltipPosition","right","aria-label","Please enter your email address to proceed",3,"matTooltip"],["translate","",4,"ngIf"],["id","forgot-form",1,"form-container"],["id","securityAnswer","type","password","matInput","","aria-label","Field for the answer to the security question",3,"formControl","placeholder"],["matSuffix","","matTooltipPosition","right","aria-label","Please answer your selected security question",3,"matTooltip"],["id","newPassword","type","password","matInput","","placeholder","","aria-label","Field for New Password",3,"formControl"],["password",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["align","end"],["id","newPasswordRepeat","type","password","matInput","","placeholder","","aria-label","Field to confirm the new password",3,"formControl"],["repeatPassword",""],["translate","",3,"translateParams",4,"ngIf"],[3,"color"],["passwordInfoToggle",""],[3,"password"],["passwordStrength",""],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg",4,"ngIf"],["type","submit","id","resetButton","mat-raised-button","","color","primary","aria-label","Button to confirm the changes",3,"disabled","click"],["aria-hidden","true",1,"far","fa-edit","fa-lg"],["translate","",3,"translateParams"],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_FORGOT_PASSWORD"),l.Tb(),l.Ub(4,"div",3),l.Hc(5),l.Tb(),l.Ub(6,"div",4),l.Hc(7),l.Tb(),l.Ub(8,"div",5),l.Ub(9,"mat-form-field",6),l.Ub(10,"mat-label",2),l.Hc(11,"LABEL_EMAIL"),l.Tb(),l.Ub(12,"input",7),l.cc("ngModelChange",function(){return e.findSecurityQuestion()}),l.Tb(),l.Ub(13,"mat-icon",8),l.hc(14,"translate"),l.Hc(15,"help_outline "),l.Tb(),l.Fc(16,$e,2,0,"mat-error",9),l.Fc(17,Ze,2,0,"mat-error",9),l.Tb(),l.Tb(),l.Ub(18,"div",10),l.Ub(19,"mat-form-field",6),l.Ub(20,"mat-label",2),l.Hc(21,"LABEL_SECURITY_QUESTION"),l.Tb(),l.Pb(22,"input",11),l.Ub(23,"mat-icon",12),l.hc(24,"translate"),l.Hc(25,"help_outline "),l.Tb(),l.Fc(26,Xe,2,0,"mat-error",9),l.Tb(),l.Ub(27,"mat-form-field",6),l.Ub(28,"mat-label",2),l.Hc(29,"LABEL_NEW_PASSWORD"),l.Tb(),l.Pb(30,"input",13,14),l.Ub(32,"mat-hint",2),l.Pb(33,"i",15),l.Ub(34,"em",16),l.Hc(35),l.hc(36,"translate"),l.Tb(),l.Tb(),l.Ub(37,"mat-hint",17),l.Hc(38),l.Tb(),l.Fc(39,tn,2,0,"mat-error",9),l.Tb(),l.Ub(40,"mat-form-field",6),l.Ub(41,"mat-label",2),l.Hc(42,"LABEL_REPEAT_NEW_PASSWORD"),l.Tb(),l.Pb(43,"input",18,19),l.Ub(45,"mat-hint",17),l.Hc(46),l.Tb(),l.Fc(47,en,2,0,"mat-error",9),l.Fc(48,nn,2,0,"mat-error",9),l.Fc(49,on,2,2,"mat-error",20),l.Tb(),l.Ub(50,"mat-slide-toggle",21,22),l.Hc(52),l.hc(53,"translate"),l.Tb(),l.Pb(54,"mat-password-strength",23,24),l.Fc(56,cn,6,18,"mat-password-strength-info",25),l.Tb(),l.Ub(57,"button",26),l.cc("click",function(){return e.resetPassword()}),l.Pb(58,"i",27),l.Hc(59),l.hc(60,"translate"),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(31),a=l.uc(44),i=l.uc(51),o=l.uc(55);l.Cb(4),l.mc("hidden",!(e.confirmation&&!e.emailControl.dirty&&!e.securityQuestionControl.dirty&&!e.passwordControl.dirty&&!e.repeatPasswordControl.dirty)),l.Cb(1),l.Jc(" ",e.confirmation," "),l.Cb(1),l.mc("hidden",!(e.error&&!e.emailControl.dirty&&!e.securityQuestionControl.dirty&&!e.passwordControl.dirty&&!e.repeatPasswordControl.dirty)),l.Cb(1),l.Jc(" ",e.error," "),l.Cb(5),l.mc("formControl",e.emailControl),l.Cb(1),l.nc("matTooltip",l.ic(14,27,"MANDATORY_EMAIL")),l.Cb(3),l.mc("ngIf",e.emailControl.invalid&&e.emailControl.errors.required),l.Cb(1),l.mc("ngIf",e.emailControl.invalid&&e.emailControl.errors.email),l.Cb(5),l.nc("placeholder",e.securityQuestion),l.mc("formControl",e.securityQuestionControl),l.Cb(1),l.nc("matTooltip",l.ic(24,29,"MANDATORY_SECURITY_ANSWER")),l.Cb(3),l.mc("ngIf",e.securityQuestionControl.invalid&&e.securityQuestionControl.errors.required),l.Cb(4),l.mc("formControl",e.passwordControl),l.Cb(5),l.Ic(l.jc(36,31,"INVALID_PASSWORD_LENGTH",l.qc(38,an))),l.Cb(3),l.Jc("",(null==n.value?null:n.value.length)||0,"/20"),l.Cb(1),l.mc("ngIf",e.passwordControl.invalid&&e.passwordControl.errors.required),l.Cb(4),l.mc("formControl",e.repeatPasswordControl),l.Cb(3),l.Jc("",(null==a.value?null:a.value.length)||0,"/20"),l.Cb(1),l.mc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.required),l.Cb(1),l.mc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.notSame),l.Cb(1),l.mc("ngIf",e.repeatPasswordControl.invalid&&((null==e.repeatPasswordControl?null:e.repeatPasswordControl.errors.minlength)||(null==e.repeatPasswordControl?null:e.repeatPasswordControl.errors.maxlength))),l.Cb(1),l.mc("color",o.color),l.Cb(2),l.Ic(l.ic(53,34,"SHOW_PASSWORD_ADVICE")),l.Cb(2),l.mc("password",n.value),l.Cb(2),l.mc("ngIf",i.checked),l.Cb(1),l.mc("disabled",e.emailControl.invalid||e.securityQuestionControl.invalid||e.passwordControl.invalid||e.repeatPasswordControl.invalid||e.repeatPasswordControl.disabled),l.Cb(2),l.Jc(" ",l.ic(60,36,"BTN_CHANGE")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.c,m.o,m.e,Qe.a,ee.h,Ke.a,Q.l,ee.f,He.a,Ae.a,S.a,ee.b,Ae.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}button[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:30px;width:60%}"]}),sn),bn=i("iELJ"),dn=((ln=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/products"}return s(t,[{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t,"/reviews")).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"create",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t,"/reviews"),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"patch",value:function(t){return this.http.patch(this.host+"/reviews",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"like",value:function(t){return this.http.post(this.host+"/reviews",{id:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||ln)(l.Yb(b.b))},ln.\u0275prov=l.Kb({token:ln,factory:ln.\u0275fac,providedIn:"root"}),ln);function mn(t,e){1&t&&(l.Ub(0,"mat-error",1),l.Hc(1,"MANDATORY_REVIEW"),l.Tb())}g.b.add(C.A,C.b),g.a.watch();var fn,pn=((fn=function(){function t(e,n,a,i,o){r(this,t),this.data=e,this.productReviewService=n,this.dialogRef=a,this.snackBar=i,this.snackBarHelperService=o,this.editReviewControl=new m.d("",[m.y.required,m.y.minLength(1),m.y.maxLength(160)]),this.error=null}return s(t,[{key:"ngOnInit",value:function(){this.editReviewControl.setValue(this.data.reviewData.message)}},{key:"editReview",value:function(){var t=this;this.productReviewService.patch({id:this.data.reviewData._id,message:this.editReviewControl.value}).subscribe(function(){t.dialogRef.close()},function(e){console.log(e),t.error=e}),this.snackBarHelperService.open("CONFIRM_CHANGES_SAVED")}}]),t}()).\u0275fac=function(t){return new(t||fn)(l.Ob(bn.a),l.Ob(dn),l.Ob(bn.g),l.Ob(Y.a),l.Ob(z))},fn.\u0275cmp=l.Ib({type:fn,selectors:[["app-product-review-edit"]],decls:27,vars:13,consts:[["fxLayout","column",1,"container","mat-typography"],["translate",""],["appearance","outline","color","accent","hintLabel","Max 160 characters","floatLabel","always"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","2","maxlength","160","matAutosizeMaxRows","4","aria-label","Text field to edit a product review",3,"formControl","placeholder","focus"],["textPut",""],["align","end"],["translate","",4,"ngIf"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog"],[1,"material-icons"],["type","submit","mat-raised-button","","color","primary","aria-label","Send the review",2,"margin-left","5px",3,"disabled","click"]],template:function(t,e){if(1&t&&(l.Ub(0,"mat-dialog-content"),l.Ub(1,"div",0),l.Ub(2,"h1",1),l.Hc(3,"LABEL_EDIT_REVIEW"),l.Tb(),l.Ub(4,"div"),l.Ub(5,"mat-form-field",2),l.Ub(6,"mat-label",1),l.Hc(7,"LABEL_REVIEW"),l.Tb(),l.Ub(8,"textarea",3,4),l.cc("focus",function(){return e.error=null}),l.hc(10,"translate"),l.Tb(),l.Ub(11,"mat-hint",5),l.Hc(12),l.Tb(),l.Fc(13,mn,2,0,"mat-error",6),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(14,"mat-dialog-actions",5),l.Ub(15,"button",7),l.Ub(16,"i",8),l.Hc(17," close "),l.Tb(),l.Ub(18,"span"),l.Hc(19),l.hc(20,"translate"),l.Tb(),l.Tb(),l.Ub(21,"button",9),l.cc("click",function(){return e.editReview()}),l.Ub(22,"i",8),l.Hc(23," send "),l.Tb(),l.Ub(24,"span"),l.Hc(25),l.hc(26,"translate"),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(9);l.Cb(8),l.nc("placeholder",l.ic(10,7,"WRITE_REVIEW_PLACEHOLDER")),l.mc("formControl",e.editReviewControl),l.Cb(4),l.Jc("",(null==n.value?null:n.value.length)||0,"/160"),l.Cb(1),l.mc("ngIf",e.editReviewControl.invalid),l.Cb(6),l.Jc(" ",l.ic(20,9,"BTN_CLOSE"),""),l.Cb(2),l.mc("disabled",e.editReviewControl.invalid),l.Cb(4),l.Jc(" ",l.ic(26,11,"BTN_SUBMIT"),"")}},directives:[bn.e,w.d,U.a,ee.c,ee.g,ne.b,ne.d,m.c,m.j,m.o,m.e,ee.f,Q.l,bn.c,S.a,bn.d,ee.b],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),fn),hn=i("BSbQ"),gn=i("o4Yh");function vn(t,e){if(1&t&&(l.Ub(0,"div",24),l.hc(1,"translate"),l.Ub(2,"span",25),l.Pb(3,"i",26),l.Ub(4,"span",27),l.Hc(5),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.gc();l.nc("matTooltip",l.ic(1,2,"LABEL_BONUS")),l.Cb(5),l.Ic(n.data.productData.points)}}function Cn(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",29),l.Ub(1,"div",30),l.Ub(2,"div",31),l.cc("click",function(){l.xc(n);var t=e.$implicit,a=l.gc(2);return"Anonymous"!==t.author&&t.author===a.author&&a.editReview(t)}),l.hc(3,"translate"),l.Ub(4,"cite"),l.Hc(5),l.Tb(),l.Ub(6,"p"),l.Hc(7),l.Tb(),l.Tb(),l.Ub(8,"div"),l.Ub(9,"button",32),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).likeReview(t)}),l.Ub(10,"span",25),l.Ub(11,"mat-icon"),l.Hc(12,"thumb_up"),l.Tb(),l.Ub(13,"span",33),l.Hc(14),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc(2);l.Cb(2),l.nc("matTooltipDisabled",a.author!==i.author),l.nc("matTooltip",l.ic(3,6,"LABEL_EDIT_REVIEW")),l.Cb(3),l.Ic(a.author),l.Cb(2),l.Ic(a.message),l.Cb(2),l.mc("disabled",a.liked||!i.isLoggedIn()),l.Cb(5),l.Ic(a.likesCount)}}function Tn(t,e){if(1&t&&(l.Ub(0,"div"),l.Fc(1,Cn,15,8,"div",28),l.hc(2,"async"),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.mc("ngForOf",l.ic(2,1,n.reviews$))}}function yn(t,e){1&t&&(l.Ub(0,"div"),l.Ub(1,"span",34),l.Hc(2," EMPTY_REVIEW_LIST "),l.Tb(),l.Tb())}var wn=function(){return{length:"160"}};g.b.add(C.A,C.b,C.eb,C.T,C.k),g.a.watch();var Un,Sn,On,kn,In=((Sn=function(){function t(e,n,a,i,o,c){r(this,t),this.dialog=e,this.data=n,this.productReviewService=a,this.userService=i,this.snackBar=o,this.snackBarHelperService=c,this.author="Anonymous",this.reviewControl=new m.d("",[m.y.maxLength(160)])}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.data.productData.points=Math.round(this.data.productData.price/10),this.reviews$=this.productReviewService.get(this.data.productData.id),this.userSubscription=this.userService.whoAmI().subscribe(function(e){t.author=(null==e?void 0:e.email)?e.email:"Anonymous"},function(t){return console.log(t)})}},{key:"ngOnDestroy",value:function(){this.userSubscription&&this.userSubscription.unsubscribe()}},{key:"addReview",value:function(t){var e=this,n={message:t.value,author:this.author};t.value="",this.productReviewService.create(this.data.productData.id,n).subscribe(function(){e.reviews$=e.productReviewService.get(e.data.productData.id)},function(t){return console.log(t)}),this.snackBarHelperService.open("CONFIRM_REVIEW_SAVED")}},{key:"editReview",value:function(t){var e=this;this.dialog.open(pn,{width:"500px",height:"max-content",data:{reviewData:t}}).afterClosed().subscribe(function(){return e.reviews$=e.productReviewService.get(e.data.productData.id)})}},{key:"likeReview",value:function(t){var e=this;this.productReviewService.like(t._id).subscribe(function(){console.log("Liked "+t._id)}),setTimeout(function(){return e.reviews$=e.productReviewService.get(e.data.productData.id)},200)}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}}]),t}()).\u0275fac=function(t){return new(t||Sn)(l.Ob(bn.b),l.Ob(bn.a),l.Ob(dn),l.Ob(R),l.Ob(Y.a),l.Ob(z))},Sn.\u0275cmp=l.Ib({type:Sn,selectors:[["app-product-details"]],decls:59,vars:36,consts:[["fxLayout","column",1,"container","mat-typography"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutGap","20px"],["fxFlex","noshrink"],[1,"img-thumbnail",3,"src","alt"],[3,"innerHTML"],[1,"item-price"],["aria-label","Bonus points when buying the product",3,"matTooltip",4,"ngIf"],[1,"detail-divider"],["mat-button","",2,"height","0","position","absolute"],["aria-label","Expand for Reviews",1,"mat-elevation-z0"],["translate","",2,"margin-right","5px"],[4,"ngIf","ngIfElse"],["emptyResult",""],["translate",""],["appearance","outline","color","accent","floatLabel","always"],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["cols","50","matInput","","matTextareaAutosize","","matAutosizeMinRows","2","maxlength","160","matAutosizeMaxRows","4","aria-label","Text field to review a product",3,"formControl","placeholder"],["textPut",""],["align","end"],["align","end",1,"dialogAction"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog","buttons"],[1,"material-icons"],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Send the review",1,"buttons",2,"margin-bottom","5px","margin-top","5px","margin-left","5px",3,"disabled","click"],["aria-label","Bonus points when buying the product",3,"matTooltip"],[1,"fa-2x","fa-layers","fa-fw"],[1,"fas","fa-crown"],[1,"fa-layers-counter","fa-layers-bottom-left","fa-2x","warn-notification",2,"font-size","47px"],["class","comment",4,"ngFor","ngForOf"],[1,"comment"],["fxLayout","row"],["matTooltipPosition","right",1,"review-text",3,"matTooltipDisabled","matTooltip","click"],["mat-icon-button","","aria-label","Rate a helpful review",1,"rw-button",3,"disabled","click"],[1,"fa-layers-counter","fa-layers-bottom-right","accent-notification",2,"font-size","32px"],["translate","",1,"noResultText"]],template:function(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-dialog-content"),l.Ub(1,"div",0),l.Ub(2,"div",1),l.Ub(3,"div",2),l.Pb(4,"img",3),l.Tb(),l.Ub(5,"div"),l.Ub(6,"h1"),l.Hc(7),l.Tb(),l.Pb(8,"div",4),l.Pb(9,"br"),l.Ub(10,"div"),l.Ub(11,"p",5),l.Hc(12),l.Tb(),l.Fc(13,vn,6,4,"div",6),l.Tb(),l.Tb(),l.Tb(),l.Pb(14,"mat-divider",7),l.Pb(15,"button",8),l.Ub(16,"mat-expansion-panel",9),l.Ub(17,"mat-expansion-panel-header"),l.Ub(18,"mat-panel-title"),l.Ub(19,"span",10),l.Hc(20,"LABEL_REVIEWS"),l.Tb(),l.Ub(21,"span"),l.Hc(22),l.hc(23,"async"),l.Tb(),l.Tb(),l.Tb(),l.Pb(24,"button",8),l.Fc(25,Tn,3,3,"div",11),l.hc(26,"async"),l.Fc(27,yn,3,0,"ng-template",null,12,l.Gc),l.Tb(),l.Ub(29,"div"),l.Pb(30,"mat-divider",7),l.Ub(31,"h4",13),l.Hc(32,"WRITE_REVIEW"),l.Tb(),l.Ub(33,"mat-form-field",14),l.Ub(34,"mat-label",13),l.Hc(35,"LABEL_REVIEW"),l.Tb(),l.Ub(36,"mat-hint",13),l.Pb(37,"i",15),l.Ub(38,"em",16),l.Hc(39),l.hc(40,"translate"),l.Tb(),l.Tb(),l.Pb(41,"textarea",17,18),l.hc(43,"translate"),l.Ub(44,"mat-hint",19),l.Hc(45),l.Tb(),l.Tb(),l.Ub(46,"mat-dialog-actions",20),l.Ub(47,"button",21),l.Ub(48,"i",22),l.Hc(49," close "),l.Tb(),l.Ub(50,"span"),l.Hc(51),l.hc(52,"translate"),l.Tb(),l.Tb(),l.Ub(53,"button",23),l.cc("click",function(){l.xc(n);var t=l.uc(42);return e.addReview(t)}),l.Ub(54,"i",22),l.Hc(55," send "),l.Tb(),l.Ub(56,"span"),l.Hc(57),l.hc(58,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a,i,o=l.uc(28),r=l.uc(42);l.Cb(4),l.nc("alt",e.data.productData.name),l.mc("src","assets/public/images/products/"+e.data.productData.image,l.Ac),l.Cb(3),l.Ic(e.data.productData.name),l.Cb(1),l.mc("innerHTML",e.data.productData.description,l.yc),l.Cb(4),l.Jc("",e.data.productData.price,"\xa4"),l.Cb(1),l.mc("ngIf",e.data.productData.points>0),l.Cb(9),l.Jc("(",null==(a=l.ic(23,22,e.reviews$))?null:a.length,")"),l.Cb(3),l.mc("ngIf",(null==(i=l.ic(26,24,e.reviews$))?null:i.length)>=1)("ngIfElse",o),l.Cb(6),l.Cc("display",e.isLoggedIn()?"block":"none"),l.Cb(2),l.Cc("display",e.isLoggedIn()?"block":"none"),l.Cb(6),l.Ic(l.jc(40,26,"MAX_TEXTAREA_LENGTH",l.qc(35,wn))),l.Cb(2),l.nc("placeholder",l.ic(43,29,"WRITE_REVIEW_PLACEHOLDER")),l.mc("formControl",e.reviewControl),l.Cb(4),l.Jc("",(null==r.value?null:r.value.length)||0,"/160"),l.Cb(6),l.Jc(" ",l.ic(52,31,"BTN_CLOSE"),""),l.Cb(2),l.Cc("display",e.isLoggedIn()?"block":"none"),l.mc("disabled",!r.value.trim()),l.Cb(4),l.Jc(" ",l.ic(58,33,"BTN_SUBMIT")," ")}},directives:[bn.e,w.d,w.e,w.b,Q.l,hn.a,S.a,gn.b,gn.d,gn.e,U.a,ee.c,ee.g,ee.f,ne.b,ne.d,m.c,m.j,m.o,m.e,bn.c,bn.d,Ke.a,Q.k,Qe.a],pipes:[Q.b,U.d],styles:[".img-thumbnail[_ngcontent-%COMP%]{height:auto;max-width:100%;padding:0;width:200px}mat-form-field[_ngcontent-%COMP%]{width:100%}p[_ngcontent-%COMP%]{word-break:break-all}.btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){left:530px;width:50px}.detail-divider[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px}.rw-button[_ngcontent-%COMP%]{margin-left:8px}.comment[_ngcontent-%COMP%]{margin-bottom:8px}.review-link[_ngcontent-%COMP%]{font-size:11px;margin-top:-10px;text-decoration:none}#submitButton[_ngcontent-%COMP%]{float:right}.item-price[_ngcontent-%COMP%]{float:left;margin-right:40px;margin-top:8px}.noResultText[_ngcontent-%COMP%]{display:block;font-size:small;margin-left:auto;margin-right:auto;text-align:center}.dialogAction[_ngcontent-%COMP%]{margin-bottom:0!important}.buttons[_ngcontent-%COMP%]{padding-left:13px;padding-right:13px}"]}),Sn),Pn=((Un=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Products"}return s(t,[{key:"search",value:function(t){return this.http.get("".concat(this.hostServer,"/rest/products/search?q=").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t,"?d=").concat(encodeURIComponent((new Date).toDateString()))).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Un)(l.Yb(b.b))},Un.\u0275prov=l.Kb({token:Un,factory:Un.\u0275fac,providedIn:"root"}),Un),xn=i("5QHs"),_n=i("cp0P"),Hn=i("jifJ"),An=((kn=function(){function t(e){var n=this;r(this,t),this.ngZone=e,this.ngZone.runOutsideAngular(function(){n._socket=Object(Hn.io)(window.location.origin,{path:(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")+"socket.io"})})}return s(t,[{key:"socket",value:function(){return this._socket}}]),t}()).\u0275fac=function(t){return new(t||kn)(l.Yb(l.B))},kn.\u0275prov=l.Kb({token:kn,factory:kn.\u0275fac,providedIn:"root"}),kn),En=((On=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Quantitys"}return s(t,[{key:"getAll",value:function(){return this.http.get(this.host+"/").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||On)(l.Yb(b.b))},On.\u0275prov=l.Kb({token:On,factory:On.\u0275fac,providedIn:"root"}),On),Ln=i("40+f");function Dn(t,e){if(1&t&&(l.Ub(0,"div"),l.Ub(1,"span"),l.Hc(2),l.hc(3,"translate"),l.Tb(),l.Pb(4,"span",9),l.Tb()),2&t){var n=l.gc();l.Cb(2),l.Jc("",l.ic(3,2,"TITLE_SEARCH_RESULTS")," - "),l.Cb(2),l.mc("innerHTML",n.searchValue,l.yc)}}function Fn(t,e){1&t&&(l.Ub(0,"div"),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t&&(l.Cb(1),l.Ic(l.ic(2,1,"TITLE_ALL_PRODUCTS")))}var Rn=function(t){return{quantity:t}};function Mn(t,e){if(1&t&&(l.Ub(0,"div",24),l.Ub(1,"span",25),l.Hc(2,"LABEL_ONLY_QUANTITY_LEFT"),l.Tb(),l.Tb()),2&t){var n=l.gc().$implicit;l.Cb(1),l.mc("translateParams",l.rc(1,Rn,n.quantity))}}function Nn(t,e){1&t&&(l.Ub(0,"div",26),l.Ub(1,"span",27),l.Hc(2,"LABEL_SOLD_OUT"),l.Tb(),l.Tb())}function Bn(t,e){if(1&t&&(l.Ub(0,"span"),l.Hc(1),l.Tb()),2&t){var n=l.gc().$implicit;l.Cb(1),l.Jc("",n.price,"\xa4")}}function jn(t,e){if(1&t&&(l.Ub(0,"span"),l.Ub(1,"s"),l.Hc(2),l.Tb(),l.Hc(3),l.Tb()),2&t){var n=l.gc().$implicit;l.Cb(2),l.Ic(n.price),l.Cb(1),l.Jc(" ",n.deluxePrice,"\xa4")}}function Gn(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",28),l.cc("click",function(){l.xc(n);var t=l.gc().$implicit;return l.gc(2).addToBasket(t.id)}),l.Ub(1,"span",27),l.Hc(2,"ADD_BASKET"),l.Tb(),l.Tb()}}function Vn(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-grid-tile"),l.Ub(1,"mat-card",13),l.Fc(2,Mn,3,3,"div",14),l.Fc(3,Nn,3,0,"div",15),l.Ub(4,"div",16),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).showDetail(t)}),l.Ub(5,"div",17),l.Pb(6,"img",18),l.Tb(),l.Ub(7,"div",19),l.Ub(8,"div",20),l.Hc(9),l.Tb(),l.Ub(10,"div",21),l.Fc(11,Bn,2,1,"span",3),l.Fc(12,jn,4,2,"span",3),l.Tb(),l.Tb(),l.Tb(),l.Ub(13,"div",22),l.Fc(14,Gn,3,0,"button",23),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc(2);l.Cb(1),l.Cc("width","100%"),l.Cb(1),l.mc("ngIf",a.quantity<=5&&a.quantity>0),l.Cb(1),l.mc("ngIf",a.quantity<=0),l.Cb(3),l.nc("alt",a.name),l.mc("src","assets/public/images/products/"+a.image,l.Ac),l.Cb(3),l.Jc(" ",a.name," "),l.Cb(2),l.mc("ngIf",!i.isDeluxe()||a.price===a.deluxePrice),l.Cb(1),l.mc("ngIf",i.isDeluxe()&&a.price!==a.deluxePrice),l.Cb(2),l.mc("ngIf",i.isLoggedIn())}}function qn(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"mat-grid-list",10,11),l.cc("resize",function(t){return l.xc(n),l.gc().onResize(t)},!1,l.wc),l.Fc(3,Vn,15,10,"mat-grid-tile",12),l.hc(4,"async"),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(1),l.mc("cols",a.breakpoint),l.Cb(2),l.mc("ngForOf",l.ic(4,2,a.gridDataSource))}}function Jn(t,e){1&t&&(l.Ub(0,"mat-card",29),l.Pb(1,"img",30),l.Ub(2,"mat-card-title"),l.Ub(3,"span",31),l.Hc(4," NO_SEARCH_RESULT "),l.Tb(),l.Tb(),l.Ub(5,"mat-card-content"),l.Ub(6,"span",31),l.Hc(7," EMPTY_SEARCH_RESULT "),l.Tb(),l.Tb(),l.Tb())}g.b.add(C.n,C.e),g.a.watch();var Yn,zn,Wn=((zn=function(){function n(t,e,a,i,o,c,s,l,u,b,d,m,f){r(this,n),this.deluxeGuard=t,this.dialog=e,this.productService=a,this.quantityService=i,this.basketService=o,this.translateService=c,this.router=s,this.route=l,this.sanitizer=u,this.ngZone=b,this.io=d,this.snackBarHelperService=m,this.cdRef=f,this.displayedColumns=["Image","Product","Description","Price","Select"],this.pageSizeOptions=[],this.resultsLength=0,this.paginator=null,this.breakpoint=6,this.emptyState=!1}return s(n,[{key:"ngAfterViewInit",value:function(){var n=this,a=this.productService.search(""),i=this.quantityService.getAll();Object(_n.a)([i,a]).subscribe(function(a){var i=e(a,2),o=i[0],r=i[1],c=[];n.tableData=r,n.trustProductDescription(r);var s,l=t(r);try{for(l.s();!(s=l.n()).done;){var u=s.value;c.push({name:u.name,price:u.price,deluxePrice:u.deluxePrice,id:u.id,image:u.image,description:u.description})}}catch(h){l.e(h)}finally{l.f()}var b,d=t(o);try{var m=function(){var t=b.value,e=c.find(function(e){return e.id===t.ProductId});void 0!==e&&(e.quantity=t.quantity)};for(d.s();!(b=d.n()).done;)m()}catch(h){d.e(h)}finally{d.f()}n.dataSource=new W.o(c);for(var f=1;f<=Math.ceil(n.dataSource.data.length/12);f++)n.pageSizeOptions.push(12*f);n.paginator.pageSizeOptions=n.pageSizeOptions,n.dataSource.paginator=n.paginator,n.gridDataSource=n.dataSource.connect(),n.resultsLength=n.dataSource.data.length,n.filterTable(),n.routerSubscription=n.router.events.subscribe(function(){n.filterTable()});var p=n.route.snapshot.queryParams.challenge;p&&n.route.snapshot.url.join("").match(/hacking-instructor/)&&n.startHackingInstructor(decodeURIComponent(p)),window.innerWidth<2600?(n.breakpoint=4,window.innerWidth<1740&&(n.breakpoint=3,window.innerWidth<1280&&(n.breakpoint=2,window.innerWidth<850&&(n.breakpoint=1)))):n.breakpoint=6,n.cdRef.detectChanges()},function(t){return console.log(t)})}},{key:"ngOnDestroy",value:function(){this.routerSubscription&&this.routerSubscription.unsubscribe(),this.productSubscription&&this.productSubscription.unsubscribe(),this.dataSource&&this.dataSource.disconnect()}},{key:"filterTable",value:function(){var t=this,e=this.route.snapshot.queryParams.q;e?(e=e.trim(),this.ngZone.runOutsideAngular(function(){t.io.socket().emit("verifyLocalXssChallenge",e)}),this.dataSource.filter=e.toLowerCase(),this.searchValue=this.sanitizer.bypassSecurityTrustHtml(e),this.gridDataSource.subscribe(function(e){t.emptyState=0===e.length})):(this.dataSource.filter="",this.searchValue=void 0,this.emptyState=!1)}},{key:"startHackingInstructor",value:function(t){console.log('Starting instructions for challenge "'.concat(t,'"')),i.e(5).then(i.bind(null,"s2oO")).then(function(e){e.startHackingInstructorFor(t)})}},{key:"showDetail",value:function(t){this.dialog.open(In,{width:"500px",height:"max-content",data:{productData:t}})}},{key:"addToBasket",value:function(t){var e=this;this.basketService.find(Number(sessionStorage.getItem("bid"))).subscribe(function(n){for(var a=n.Products,i=!1,o=0;o<a.length;o++)if(a[o].id===t){i=!0,e.basketService.get(a[o].BasketItem.id).subscribe(function(t){e.basketService.put(t.id,{quantity:t.quantity+1}).subscribe(function(t){e.productService.get(t.ProductId).subscribe(function(t){e.translateService.get("BASKET_ADD_SAME_PRODUCT",{product:t.name}).subscribe(function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()},function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()})},function(t){return console.log(t)})},function(t){var n;e.snackBarHelperService.open(null===(n=t.error)||void 0===n?void 0:n.error,"errorBar"),console.log(t)})},function(t){return console.log(t)});break}i||e.basketService.save({ProductId:t,BasketId:sessionStorage.getItem("bid"),quantity:1}).subscribe(function(t){e.productService.get(t.ProductId).subscribe(function(t){e.translateService.get("BASKET_ADD_PRODUCT",{product:t.name}).subscribe(function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()},function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()})},function(t){return console.log(t)})},function(t){var n;e.snackBarHelperService.open(null===(n=t.error)||void 0===n?void 0:n.error,"errorBar"),console.log(t)})},function(t){return console.log(t)})}},{key:"trustProductDescription",value:function(t){for(var e=0;e<t.length;e++)t[e].description=this.sanitizer.bypassSecurityTrustHtml(t[e].description)}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"onResize",value:function(t){t.target.innerWidth<2600?(this.breakpoint=4,t.target.innerWidth<1740&&(this.breakpoint=3,t.target.innerWidth<1280&&(this.breakpoint=2,t.target.innerWidth<850&&(this.breakpoint=1)))):this.breakpoint=6}},{key:"isDeluxe",value:function(){return this.deluxeGuard.isDeluxe()}}]),n}()).\u0275fac=function(t){return new(t||zn)(l.Ob(J),l.Ob(bn.b),l.Ob(Pn),l.Ob(En),l.Ob(B),l.Ob(U.e),l.Ob(M.b),l.Ob(M.a),l.Ob(u.c),l.Ob(l.B),l.Ob(An),l.Ob(z),l.Ob(l.h))},zn.\u0275cmp=l.Ib({type:zn,selectors:[["app-search-result"]],viewQuery:function(t,e){var n;1&t&&l.Mc(xn.a,3),2&t&&l.tc(n=l.dc())&&(e.paginator=n.first)},decls:12,vars:7,consts:[["fxLayoutAlign","center"],[1,"table-container","custom-slate"],[1,"heading","mat-elevation-z6"],[4,"ngIf"],["id","search-result-heading"],[4,"ngIf","ngIfElse"],["emptyResult",""],["color","accent",1,"mat-elevation-z6",3,"pageSize","pageSizeOptions","length"],["paginator",""],["id","searchValue",3,"innerHTML"],["gutterSize","30px",3,"cols","resize"],["table",""],[4,"ngFor","ngForOf"],[1,"mat-elevation-z6","ribbon-card"],["class","ribbon ribbon-top-left",4,"ngIf"],["class","ribbon ribbon-top-left ribbon-sold",4,"ngIf"],["aria-label","Click for more information about the product","matTooltip","Click for more information","matTooltipPosition","above",1,"product",3,"click"],["fxFlexAlign","center","fxFlex","60%",1,"img-container"],["mat-card-image","","role","button",1,"img-responsive","img-thumbnail",3,"src","alt"],["fxFlexAlign","center","fxFlex","40%"],[1,"item-name"],[1,"item-price"],[2,"display","flex","justify-content","center"],["aria-label","Add to Basket","class","btn-basket","color","primary","mat-button","","mat-raised-button","",3,"click",4,"ngIf"],[1,"ribbon","ribbon-top-left"],["translate","",3,"translateParams"],[1,"ribbon","ribbon-top-left","ribbon-sold"],["translate",""],["aria-label","Add to Basket","color","primary","mat-button","","mat-raised-button","",1,"btn-basket",3,"click"],[1,"mat-elevation-z6","emptyState"],["alt"," No results found","src","assets/public/images/products/no-results.png",1,"img-responsive","noResult"],["translate","",1,"noResultText"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Fc(3,Dn,5,4,"div",3),l.Fc(4,Fn,3,3,"div",3),l.Pb(5,"div",4),l.Tb(),l.Fc(6,qn,5,4,"div",5),l.Fc(7,Jn,8,0,"ng-template",null,6,l.Gc),l.Pb(9,"mat-divider"),l.Pb(10,"mat-paginator",7,8),l.Tb(),l.Tb()),2&t){var n=l.uc(8);l.Cb(3),l.mc("ngIf",e.searchValue),l.Cb(1),l.mc("ngIf",!e.searchValue),l.Cb(2),l.mc("ngIf",!e.emptyState)("ngIfElse",n),l.Cb(4),l.mc("pageSize",12)("pageSizeOptions",e.pageSizeOptions)("length",e.resultsLength)}},directives:[w.c,Q.l,hn.a,xn.a,Ln.a,Q.k,Ln.c,y.a,Ke.a,w.a,w.b,y.d,U.a,S.a,y.g,y.b],pipes:[U.d,Q.b],styles:['.table-container[_ngcontent-%COMP%]{min-width:350px;width:80%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}.img-thumbnail[_ngcontent-%COMP%]{width:100%}.product[_ngcontent-%COMP%]{cursor:pointer}.btn-basket[_ngcontent-%COMP%]{bottom:10%}mat-card[_ngcontent-%COMP%]{height:calc(100% - 70px)}.item-price[_ngcontent-%COMP%]{font-size:medium;margin-top:12px;text-align:center}.item-name[_ngcontent-%COMP%]{font-size:large;text-align:center}.emptyState[_ngcontent-%COMP%]{display:block;height:auto!important;margin:20px auto;width:50%}.noResult[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:60%}.noResultText[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center}.ribbon-card[_ngcontent-%COMP%]{position:relative}.ribbon[_ngcontent-%COMP%]{height:150px;overflow:hidden;pointer-events:none;position:absolute;width:150px}.ribbon[_ngcontent-%COMP%]:before{content:"";z-index:-1}.ribbon[_ngcontent-%COMP%]:before, .ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;position:absolute}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-shadow:0 5px 10px rgba(0,0,0,.1);color:#fff;font:700 18px/1 Lato,sans-serif;padding:15px 0;text-align:center;text-shadow:0 1px 1px rgba(0,0,0,.2);width:225px}.ribbon-top-left[_ngcontent-%COMP%]{left:-10px;top:-10px}.ribbon-top-left[_ngcontent-%COMP%]:before{border-left-color:transparent;border-top-color:transparent;right:0;top:0}.ribbon-top-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{right:-25px;top:30px;transform:rotate(-45deg)}']}),zn),Qn=((Yn=function(){function t(){r(this,t)}return s(t,[{key:"nativeWindow",get:function(){return window}}]),t}()).\u0275fac=function(t){return new(t||Yn)},Yn.\u0275prov=l.Kb({token:Yn,factory:Yn.\u0275fac,providedIn:"root"}),Yn),Kn=i("pMoy");function $n(t,e){if(1&t&&(l.Ub(0,"div",20),l.Hc(1),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.Ic(n.error)}}function Zn(t,e){1&t&&(l.Ub(0,"mat-error",5),l.Hc(1,"MANDATORY_EMAIL"),l.Tb())}function Xn(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",21),l.cc("click",function(){l.xc(n);var t=l.gc();return t.hide=!t.hide}),l.hc(1,"translate"),l.Pb(2,"i",22),l.Tb()}2&t&&l.nc("matTooltip",l.ic(1,1,"SHOW_PWD_TOOLTIP"))}function ta(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",23),l.cc("click",function(){l.xc(n);var t=l.gc();return t.hide=!t.hide}),l.hc(1,"translate"),l.Pb(2,"i",24),l.Tb()}2&t&&l.nc("matTooltip",l.ic(1,1,"HIDE_PWD_TOOLTIP"))}function ea(t,e){1&t&&(l.Ub(0,"mat-error",5),l.Hc(1,"MANDATORY_PASSWORD"),l.Tb())}function na(t,e){1&t&&(l.Ub(0,"div",25),l.Ub(1,"div",26),l.Pb(2,"div"),l.Tb(),l.Ub(3,"div",27),l.Hc(4,"LABEL_OR"),l.Tb(),l.Ub(5,"div",26),l.Pb(6,"div"),l.Tb(),l.Tb())}function aa(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",28),l.cc("click",function(){return l.xc(n),l.gc().googleLogin()}),l.Pb(1,"i",29),l.Hc(2),l.hc(3,"translate"),l.Tb()}2&t&&(l.Cb(2),l.Jc(" ",l.ic(3,1,"BTN_GOOGLE_LOGIN")," "))}g.b.add(C.w,C.n,C.o,v.f),g.a.watch();var ia,oa=((ia=function(){function t(e,n,a,i,o,c,s,l){r(this,t),this.configurationService=e,this.userService=n,this.windowRefService=a,this.cookieService=i,this.router=o,this.formSubmitService=c,this.basketService=s,this.ngZone=l,this.emailControl=new m.d("",[m.y.required]),this.passwordControl=new m.d("",[m.y.required]),this.hide=!0,this.rememberMe=new m.d(!1),this.clientId="1005568560502-6hm16lef8oh46hr2d98vf2ohlnj4nfhq.apps.googleusercontent.com",this.oauthUnavailable=!0,this.redirectUri=""}return s(t,[{key:"ngOnInit",value:function(){var t=this,e=localStorage.getItem("email");e?(this.user={},this.user.email=e,this.rememberMe.setValue(!0)):this.rememberMe.setValue(!1),this.redirectUri="".concat(this.windowRefService.nativeWindow.location.protocol,"//").concat(this.windowRefService.nativeWindow.location.host),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;if(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.googleOauth){t.clientId=e.application.googleOauth.clientId;var a=e.application.googleOauth.authorizedRedirects.find(function(e){return e.uri===t.redirectUri});a?(t.oauthUnavailable=!1,t.redirectUri=a.proxy?a.proxy:a.uri):(t.oauthUnavailable=!0,console.log(t.redirectUri+" is not an authorized redirect URI for this application."))}},function(t){return console.log(t)}),this.formSubmitService.attachEnterKeyHandler("login-form","loginButton",function(){return t.login()})}},{key:"login",value:function(){var t=this;this.user={},this.user.email=this.emailControl.value,this.user.password=this.passwordControl.value,this.userService.login(this.user).subscribe(function(e){localStorage.setItem("token",e.token);var n=new Date;n.setHours(n.getHours()+8),t.cookieService.set("token",e.token,n,"/"),sessionStorage.setItem("bid",e.bid),t.basketService.updateNumberOfCartItems(),t.userService.isLoggedIn.next(!0),t.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/search"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))},function(e){var n=e.error;if(n.status&&n.data&&"totp_token_required"===n.status)return localStorage.setItem("totp_tmp_token",n.data.tmpToken),void t.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/2fa/enter"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));localStorage.removeItem("token"),t.cookieService.delete("token","/"),sessionStorage.removeItem("bid"),t.error=n,t.userService.isLoggedIn.next(!1),t.emailControl.markAsPristine(),t.passwordControl.markAsPristine()}),this.rememberMe.value?localStorage.setItem("email",this.user.email):localStorage.removeItem("email"),this.error&&this.user.email&&this.user.email.match(/support@.*/)&&console.log("@echipa de suport: Secretul nostru comun este \xeenc\u0103 Caoimhe cu parola de master gol!")}},{key:"googleLogin",value:function(){this.windowRefService.nativeWindow.location.replace("https://accounts.google.com/o/oauth2/v2/auth?client_id=".concat(this.clientId,"&response_type=token&scope=email&redirect_uri=").concat(this.redirectUri))}}]),t}()).\u0275fac=function(t){return new(t||ia)(l.Ob(h),l.Ob(R),l.Ob(Qn),l.Ob(d.a),l.Ob(M.b),l.Ob(te),l.Ob(B),l.Ob(l.B))},ia.\u0275cmp=l.Ib({type:ia,selectors:[["app-login"]],decls:35,vars:18,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["class","error",4,"ngIf"],["id","login-form",1,"form-container"],["color","accent","appearance","outline"],["translate",""],["id","email","name","email","matInput","","placeholder","","aria-label","Text field for the login email",3,"formControl","focus"],["email",""],["translate","",4,"ngIf"],["id","password","name","password","matInput","","placeholder","","aria-label","Text field for the login password",3,"formControl","type","focus"],["password",""],["mat-icon-button","","matSuffix","","aria-label","Button to display the password","matTooltipPosition","right",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","matSuffix","","aria-label","Button to hide the password","matTooltipPosition","right",3,"matTooltip","click",4,"ngIf"],["routerLink","/forgot-password","translate","",1,"primary-link","forgot-pw"],["type","submit","id","loginButton","mat-raised-button","","color","primary","aria-label","Login",3,"disabled","click"],["id","rememberMe","aria-label","Checkbox to stay logged in or not logged in",3,"formControl"],["class","breakLine",4,"ngIf"],["id","loginButtonGoogle","mat-raised-button","","color","accent","aria-label","Login with Google","class","google-button",3,"click",4,"ngIf"],["id","newCustomerLink"],["routerLink","/register","translate","",1,"primary-link"],[1,"error"],["mat-icon-button","","matSuffix","","aria-label","Button to display the password","matTooltipPosition","right",3,"matTooltip","click"],["aria-label","Eye",1,"fas","fa-eye"],["mat-icon-button","","matSuffix","","aria-label","Button to hide the password","matTooltipPosition","right",3,"matTooltip","click"],["aria-label","Eye Slash",1,"fas","fa-eye-slash"],[1,"breakLine"],[1,"line"],["translate","",1,"textOnLine"],["id","loginButtonGoogle","mat-raised-button","","color","accent","aria-label","Login with Google",1,"google-button",3,"click"],[1,"fab","fa-google","fa-lg"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1"),l.Hc(3,"Login"),l.Tb(),l.Fc(4,$n,2,1,"div",2),l.Ub(5,"div",3),l.Ub(6,"mat-form-field",4),l.Ub(7,"mat-label",5),l.Hc(8,"LABEL_EMAIL"),l.Tb(),l.Ub(9,"input",6,7),l.cc("focus",function(){return e.error=null}),l.Tb(),l.Fc(11,Zn,2,0,"mat-error",8),l.Tb(),l.Ub(12,"mat-form-field",4),l.Ub(13,"mat-label",5),l.Hc(14,"LABEL_PASSWORD"),l.Tb(),l.Ub(15,"input",9,10),l.cc("focus",function(){return e.error=null}),l.Tb(),l.Fc(17,Xn,3,3,"button",11),l.Fc(18,ta,3,3,"button",12),l.Fc(19,ea,2,0,"mat-error",8),l.Tb(),l.Ub(20,"a",13),l.Hc(21,"FORGOT_PASSWORD"),l.Tb(),l.Ub(22,"button",14),l.cc("click",function(){return e.login()}),l.Ub(23,"mat-icon"),l.Hc(24," exit_to_app "),l.Tb(),l.Hc(25),l.hc(26,"translate"),l.Tb(),l.Ub(27,"mat-checkbox",15),l.Hc(28),l.hc(29,"translate"),l.Tb(),l.Fc(30,na,7,0,"div",16),l.Fc(31,aa,4,3,"button",17),l.Ub(32,"div",18),l.Ub(33,"a",19),l.Hc(34,"NO_CUSTOMER"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.mc("ngIf",e.error),l.Cb(5),l.mc("formControl",e.emailControl),l.Cb(2),l.mc("ngIf",e.emailControl.invalid),l.Cb(4),l.mc("formControl",e.passwordControl)("type",e.hide?"password":"text"),l.Cb(2),l.mc("ngIf",e.hide),l.Cb(1),l.mc("ngIf",!e.hide),l.Cb(1),l.mc("ngIf",e.passwordControl.invalid),l.Cb(3),l.mc("disabled",!e.emailControl.value||!e.passwordControl.value),l.Cb(3),l.Jc(" ",l.ic(26,14,"BTN_LOGIN")," "),l.Cb(2),l.mc("formControl",e.rememberMe),l.Cb(1),l.Jc(" ",l.ic(29,16,"REMEMBER_ME")," "),l.Cb(2),l.mc("ngIf",!e.oauthUnavailable),l.Cb(1),l.mc("ngIf",!e.oauthUnavailable))},directives:[w.c,y.a,Q.l,ee.c,ee.g,U.a,ne.b,m.c,m.o,m.e,M.d,S.a,Qe.a,Kn.a,ee.b,ee.h,Ke.a],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.forgot-pw[_ngcontent-%COMP%]{font-size:11px;margin-top:-15px}mat-checkbox[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:20%;margin-top:5px}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}mat-form-field[_ngcontent-%COMP%]:nth-child(2){padding-bottom:20px}#loginButton[_ngcontent-%COMP%], #loginButtonGoogle[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.breakLine[_ngcontent-%COMP%]{display:table}.breakLine[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:table-cell;white-space:nowrap}.line[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-bottom:1px solid silver;height:1px}.textOnLine[_ngcontent-%COMP%]{padding:0 5px}.line[_ngcontent-%COMP%]{vertical-align:middle;width:50%}#newCustomerLink[_ngcontent-%COMP%]{align-self:center;font-size:12px;margin-top:40px}[_nghost-%COMP%]     .mat-form-field-suffix{margin-bottom:auto!important;margin-top:auto!important}[_nghost-%COMP%]     .mat-icon-button{height:40px!important;width:24px!important}"]}),ia);g.b.add(C.b),g.a.watch();var ra,ca,sa=((ca=function(){function t(e,n){r(this,t),this.dialogData=e,this.userService=n}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.get(this.dialogData.id).subscribe(function(e){t.user=e},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||ca)(l.Ob(bn.a),l.Ob(R))},ca.\u0275cmp=l.Ib({type:ca,selectors:[["app-user-details"]],decls:29,vars:10,consts:[[1,"mat-typography"],["fxLayout","column",1,"container"],["fxLayout","row","fxLayoutGap","10px"],["translate","LABEL_EMAIL"],["translate","LABEL_CREATED_AT"],["translate","LABEL_UPDATED_AT"],["align","end",1,"dialogAction"],["mat-button","",2,"height","0","position","absolute"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog","buttons"],[1,"material-icons"]],template:function(t,e){1&t&&(l.Ub(0,"mat-dialog-content",0),l.Ub(1,"header"),l.Ub(2,"h1"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Tb(),l.Pb(5,"mat-divider"),l.Ub(6,"div",1),l.Ub(7,"div",2),l.Ub(8,"div"),l.Pb(9,"strong",3),l.Ub(10,"p"),l.Hc(11),l.Tb(),l.Tb(),l.Tb(),l.Ub(12,"div",2),l.Ub(13,"div"),l.Pb(14,"strong",4),l.Ub(15,"p"),l.Hc(16),l.Tb(),l.Tb(),l.Ub(17,"div"),l.Pb(18,"strong",5),l.Ub(19,"p"),l.Hc(20),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(21,"mat-dialog-actions",6),l.Pb(22,"button",7),l.Ub(23,"button",8),l.Ub(24,"i",9),l.Hc(25," close "),l.Tb(),l.Ub(26,"span"),l.Hc(27),l.hc(28,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.Kc("",l.ic(4,6,"LABEL_USER")," #",null==e.user?null:e.user.id,""),l.Cb(8),l.Ic(null==e.user?null:e.user.email),l.Cb(5),l.Ic(null==e.user?null:e.user.createdAt),l.Cb(4),l.Ic(null==e.user?null:e.user.updatedAt),l.Cb(7),l.Jc(" ",l.ic(28,8,"BTN_CLOSE"),""))},directives:[bn.e,hn.a,w.d,w.e,U.a,bn.c,S.a,bn.d],pipes:[U.d],styles:["mat-divider[_ngcontent-%COMP%]{margin-bottom:10px}.dialogAction[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),ca),la=((ra=function(){function t(e){r(this,t),this.dialogData=e}return s(t,[{key:"ngOnInit",value:function(){this.feedback=this.dialogData.feedback,this.id=this.dialogData.id}}]),t}()).\u0275fac=function(t){return new(t||ra)(l.Ob(bn.a))},ra.\u0275cmp=l.Ib({type:ra,selectors:[["app-feedback-details"]],decls:23,vars:11,consts:[[1,"mat-typography"],["fxLayout","column",1,"container"],["fxLayout","row","fxLayoutGap","10px"],[2,"margin-top","10px !important"],[3,"innerHTML"],["align","end",1,"dialogAction"],["mat-button","",2,"height","0","position","absolute"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog","buttons"],[1,"material-icons"]],template:function(t,e){1&t&&(l.Ub(0,"mat-dialog-content",0),l.Ub(1,"header"),l.Ub(2,"h1"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Tb(),l.Pb(5,"mat-divider"),l.Ub(6,"div",1),l.Ub(7,"div",2),l.Ub(8,"span"),l.Hc(9),l.hc(10,"translate"),l.Tb(),l.Ub(11,"p"),l.Hc(12),l.Tb(),l.Tb(),l.Ub(13,"div",3),l.Pb(14,"cite",4),l.Tb(),l.Tb(),l.Ub(15,"mat-dialog-actions",5),l.Pb(16,"button",6),l.Ub(17,"button",7),l.Ub(18,"i",8),l.Hc(19," close "),l.Tb(),l.Ub(20,"span"),l.Hc(21),l.hc(22,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.Ic(l.ic(4,5,"LABEL_COMMENT")),l.Cb(6),l.Jc("",l.ic(10,7,"LABEL_USER"),":"),l.Cb(3),l.Jc("#",e.id,""),l.Cb(2),l.mc("innerHTML",e.feedback,l.yc),l.Cb(7),l.Jc(" ",l.ic(22,9,"BTN_CLOSE"),""))},directives:[bn.e,hn.a,w.d,w.e,bn.c,S.a,bn.d],pipes:[U.d],styles:["mat-divider[_ngcontent-%COMP%]{margin-bottom:10px}.dialogAction[_ngcontent-%COMP%]{margin-bottom:0!important}mat-dialog-content[_ngcontent-%COMP%]{max-width:320px;min-width:280px}"]}),ra),ua=["paginatorUsers"],ba=["paginatorFeedb"];function da(t,e){1&t&&l.Pb(0,"mat-header-cell")}function ma(t,e){1&t&&l.Pb(0,"i",30)}function fa(t,e){if(1&t&&(l.Ub(0,"mat-cell",28),l.Fc(1,ma,1,0,"i",29),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("ngIf",n.token)}}function pa(t,e){1&t&&l.Pb(0,"mat-header-cell",1)}function ha(t,e){1&t&&l.Pb(0,"mat-cell",31),2&t&&l.mc("innerHTML",e.$implicit.email,l.yc)}function ga(t,e){1&t&&l.Pb(0,"mat-header-cell")}function va(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell"),l.Ub(1,"button",32),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc().showUserDetail(t.id)}),l.Pb(2,"i",33),l.Tb(),l.Tb()}}function Ca(t,e){1&t&&l.Pb(0,"mat-header-row")}function Ta(t,e){1&t&&l.Pb(0,"mat-row")}function ya(t,e){1&t&&l.Pb(0,"mat-header-cell")}function wa(t,e){1&t&&l.Pb(0,"mat-cell",28)}function Ua(t,e){1&t&&l.Pb(0,"mat-header-cell",1)}function Sa(t,e){1&t&&l.Pb(0,"mat-cell",31),2&t&&l.mc("innerHTML",e.$implicit.email,l.yc)}function Oa(t,e){1&t&&l.Pb(0,"mat-header-cell")}function ka(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell"),l.Ub(1,"button",32),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc().showUserDetail(t.id)}),l.Pb(2,"i",33),l.Tb(),l.Tb()}}function Ia(t,e){1&t&&l.Pb(0,"mat-header-row")}function Pa(t,e){1&t&&l.Pb(0,"mat-row")}function xa(t,e){1&t&&l.Pb(0,"mat-header-cell",1)}function _a(t,e){if(1&t&&(l.Ub(0,"mat-cell"),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.UserId,"")}}function Ha(t,e){1&t&&l.Pb(0,"mat-header-cell",1)}function Aa(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",34),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc().showFeedbackDetails(t.comment,t.UserId)}),l.Pb(1,"p",35),l.Tb()}if(2&t){var a=e.$implicit;l.Cb(1),l.mc("innerHTML",a.comment,l.yc)}}function Ea(t,e){1&t&&l.Pb(0,"mat-header-cell",1)}function La(t,e){1&t&&(l.Ub(0,"mat-icon"),l.Hc(1," star_rate "),l.Tb())}function Da(t,e){if(1&t&&(l.Ub(0,"mat-cell"),l.Fc(1,La,2,0,"mat-icon",36),l.Tb()),2&t){var n=e.$implicit,a=l.gc();l.Cb(1),l.mc("ngForOf",a.times(n.rating))}}function Fa(t,e){1&t&&l.Pb(0,"mat-header-cell")}function Ra(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell"),l.Ub(1,"button",32),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc().deleteFeedback(t.id)}),l.Pb(2,"i",37),l.Tb(),l.Tb()}}function Ma(t,e){1&t&&l.Pb(0,"mat-header-row")}function Na(t,e){1&t&&l.Pb(0,"mat-row")}g.b.add(C.cb,C.n,C.u,C.a,C.V),g.a.watch();var Ba,ja=((Ba=function(){function e(t,n,a,i){r(this,e),this.dialog=t,this.userService=n,this.feedbackService=a,this.sanitizer=i,this.userColumns=["user","email","user_detail"],this.feedbackColumns=["user","comment","rating","remove"],this.resultsLengthUser=0,this.resultsLengthFeedback=0}return s(e,[{key:"ngOnInit",value:function(){this.findAllUsers(),this.findAllFeedbacks()}},{key:"findAllUsers",value:function(){var e=this;this.userService.find().subscribe(function(n){e.userDataSource=n,e.userDataSourceHidden=n;var a,i=t(e.userDataSource);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.email=e.sanitizer.bypassSecurityTrustHtml('<span class="'.concat(o.token?"confirmation":"error",'">').concat(o.email,"</span>"))}}catch(r){i.e(r)}finally{i.f()}e.userDataSource=new W.o(e.userDataSource),e.userDataSource.paginator=e.paginatorUsers,e.resultsLengthUser=n.length},function(t){e.error=t,console.log(e.error)})}},{key:"findAllFeedbacks",value:function(){var e=this;this.feedbackService.find().subscribe(function(n){e.feedbackDataSource=n;var a,i=t(e.feedbackDataSource);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.comment=e.sanitizer.bypassSecurityTrustHtml(o.comment)}}catch(r){i.e(r)}finally{i.f()}e.feedbackDataSource=new W.o(e.feedbackDataSource),e.feedbackDataSource.paginator=e.paginatorFeedb,e.resultsLengthFeedback=n.length},function(t){e.error=t,console.log(e.error)})}},{key:"deleteFeedback",value:function(t){var e=this;this.feedbackService.del(t).subscribe(function(){e.findAllFeedbacks()},function(t){e.error=t,console.log(e.error)})}},{key:"showUserDetail",value:function(t){this.dialog.open(sa,{data:{id:t}})}},{key:"showFeedbackDetails",value:function(t,e){this.dialog.open(la,{data:{feedback:t,id:e}})}},{key:"times",value:function(t){return Array(t).fill("\u2605")}}]),e}()).\u0275fac=function(t){return new(t||Ba)(l.Ob(bn.b),l.Ob(R),l.Ob(Zt),l.Ob(u.c))},Ba.\u0275cmp=l.Ib({type:Ba,selectors:[["app-administration"]],viewQuery:function(t,e){var n;1&t&&(l.Mc(ua,1),l.Mc(ba,1)),2&t&&(l.tc(n=l.dc())&&(e.paginatorUsers=n.first),l.tc(n=l.dc())&&(e.paginatorFeedb=n.first))},decls:58,vars:13,consts:[[1,"mat-elevation-z6","mat-own-card"],["translate",""],["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px",1,"container"],["fxFlexAlign","center",1,"user-container"],[1,"user-table"],[1,"heading"],[2,"height","700px",3,"dataSource"],["matColumnDef","user"],[4,"matHeaderCellDef"],["style","vertical-align: middle",4,"matCellDef"],["matColumnDef","email"],["translate","",4,"matHeaderCellDef"],["style","vertical-align: middle",3,"innerHTML",4,"matCellDef"],["matColumnDef","user_detail"],[4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["color","accent",1,"mat-elevation-z0",3,"pageSize","length"],["paginatorUsers",""],[2,"visibility","hidden","height","0px",3,"dataSource"],["fxFlexAlign.lt-md","center",1,"customer-container"],[1,"customer-table"],["matColumnDef","comment"],[3,"click",4,"matCellDef"],["matColumnDef","rating"],["matColumnDef","remove"],["paginatorFeedb",""],["src","assets/public/images/padding/19px.png"],[2,"vertical-align","middle"],["class","fas fa-user fa-lg confirmation",4,"ngIf"],[1,"fas","fa-user","fa-lg","confirmation"],[2,"vertical-align","middle",3,"innerHTML"],["mat-button","",3,"click"],[1,"fas","fa-eye"],[3,"click"],["matTooltip","Click for more information","matTooltipPosition","above",3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"fas","fa-trash-alt"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"h1",1),l.Hc(2,"TITLE_ADMINISTRATION"),l.Tb(),l.Ub(3,"div",2),l.Ub(4,"div",3),l.Ub(5,"div",4),l.Ub(6,"div",5),l.Ub(7,"span",1),l.Hc(8,"SECTION_USER"),l.Tb(),l.Tb(),l.Ub(9,"mat-table",6),l.Sb(10,7),l.Fc(11,da,1,0,"mat-header-cell",8),l.Fc(12,fa,2,1,"mat-cell",9),l.Rb(),l.Sb(13,10),l.Fc(14,pa,1,0,"mat-header-cell",11),l.Fc(15,ha,1,1,"mat-cell",12),l.Rb(),l.Sb(16,13),l.Fc(17,ga,1,0,"mat-header-cell",8),l.Fc(18,va,3,0,"mat-cell",14),l.Rb(),l.Fc(19,Ca,1,0,"mat-header-row",15),l.Fc(20,Ta,1,0,"mat-row",16),l.Tb(),l.Pb(21,"mat-paginator",17,18),l.Tb(),l.Ub(23,"mat-table",19),l.Sb(24,7),l.Fc(25,ya,1,0,"mat-header-cell",8),l.Fc(26,wa,1,0,"mat-cell",9),l.Rb(),l.Sb(27,10),l.Fc(28,Ua,1,0,"mat-header-cell",11),l.Fc(29,Sa,1,1,"mat-cell",12),l.Rb(),l.Sb(30,13),l.Fc(31,Oa,1,0,"mat-header-cell",8),l.Fc(32,ka,3,0,"mat-cell",14),l.Rb(),l.Fc(33,Ia,1,0,"mat-header-row",15),l.Fc(34,Pa,1,0,"mat-row",16),l.Tb(),l.Tb(),l.Ub(35,"div",20),l.Ub(36,"div",21),l.Ub(37,"div",5),l.Ub(38,"span",1),l.Hc(39,"SECTION_CUSTOMER_FEEDBACK"),l.Tb(),l.Tb(),l.Ub(40,"mat-table",6),l.Sb(41,7),l.Fc(42,xa,1,0,"mat-header-cell",11),l.Fc(43,_a,2,1,"mat-cell",14),l.Rb(),l.Sb(44,22),l.Fc(45,Ha,1,0,"mat-header-cell",11),l.Fc(46,Aa,2,1,"mat-cell",23),l.Rb(),l.Sb(47,24),l.Fc(48,Ea,1,0,"mat-header-cell",11),l.Fc(49,Da,2,1,"mat-cell",14),l.Rb(),l.Sb(50,25),l.Fc(51,Fa,1,0,"mat-header-cell",8),l.Fc(52,Ra,3,0,"mat-cell",14),l.Rb(),l.Fc(53,Ma,1,0,"mat-header-row",15),l.Fc(54,Na,1,0,"mat-row",16),l.Tb(),l.Pb(55,"mat-paginator",17,26),l.Tb(),l.Tb(),l.Pb(57,"img",27),l.Tb(),l.Tb()),2&t&&(l.Cb(9),l.mc("dataSource",e.userDataSource),l.Cb(10),l.mc("matHeaderRowDef",e.userColumns),l.Cb(1),l.mc("matRowDefColumns",e.userColumns),l.Cb(1),l.mc("pageSize",10)("length",e.resultsLengthUser),l.Cb(2),l.mc("dataSource",e.userDataSourceHidden),l.Cb(10),l.mc("matHeaderRowDef",e.userColumns),l.Cb(1),l.mc("matRowDefColumns",e.userColumns),l.Cb(6),l.mc("dataSource",e.feedbackDataSource),l.Cb(13),l.mc("matHeaderRowDef",e.feedbackColumns),l.Cb(1),l.mc("matRowDefColumns",e.feedbackColumns),l.Cb(1),l.mc("pageSize",10)("length",e.resultsLengthFeedback))},directives:[y.a,U.a,w.d,w.e,w.a,W.n,W.c,W.i,W.b,W.k,W.m,xn.a,W.h,W.a,Q.l,S.a,W.j,W.l,Ke.a,Q.k,Qe.a],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);font-size:large;margin-bottom:10px;padding:12px}.container[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{justify-content:center}mat-table[_ngcontent-%COMP%]{height:767px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}.customer-container[_ngcontent-%COMP%], .user-container[_ngcontent-%COMP%]{max-width:600px;min-width:300px;width:70%}.customer-table[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]{margin-bottom:25px}.mat-column-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .mat-column-user_detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:38%}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{align-items:normal;display:block}.mat-column-comment[_ngcontent-%COMP%]{flex:0 0 55%!important;width:55%!important}.mat-column-comment[_ngcontent-%COMP%], .mat-column-user[_ngcontent-%COMP%]{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;padding:5px;white-space:unset!important;word-break:break-word;word-wrap:break-word!important}.mat-column-user[_ngcontent-%COMP%]{flex:0 0 7%!important;width:7%!important}.mat-column-rating[_ngcontent-%COMP%]{flex:0 0 20%!important;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;white-space:unset!important;width:20%!important;word-break:break-word;word-wrap:break-word!important}mat-cell[_ngcontent-%COMP%]:last-child, mat-footer-cell[_ngcontent-%COMP%]:last-child, mat-header-cell[_ngcontent-%COMP%]:last-child{padding-right:50px}mat-row[_ngcontent-%COMP%]{height:69px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-bottom:20px;margin-left:10%;margin-right:10%}p[_ngcontent-%COMP%]{-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:2;overflow:hidden}"]}),Ba);function Ga(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_CURRENT_PASSWORD"),l.Tb())}function Va(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_NEW_PASSWORD "),l.Tb())}var qa=function(){return{length:"5-20"}};function Ja(t,e){1&t&&(l.Ub(0,"mat-error",19),l.Hc(1,"INVALID_PASSWORD_LENGTH "),l.Tb()),2&t&&l.mc("translateParams",l.qc(1,qa))}function Ya(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_PASSWORD_REPEAT"),l.Tb())}function za(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," PASSWORDS_NOT_MATCHING "),l.Tb())}g.b.add(C.F,T.c),g.a.watch();var Wa,Qa,Ka=((Qa=function(){function t(e,n,a){var i;r(this,t),this.userService=e,this.formSubmitService=n,this.translate=a,this.passwordControl=new m.d("",[m.y.required]),this.newPasswordControl=new m.d("",[m.y.required,m.y.minLength(5),m.y.maxLength(20)]),this.repeatNewPasswordControl=new m.d("",[m.y.required,m.y.minLength(5),m.y.maxLength(20),(i=this.newPasswordControl,function(t){return i.value!==t.value?{notSame:!0}:null})])}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.formSubmitService.attachEnterKeyHandler("password-form","changeButton",function(){return t.changePassword()})}},{key:"changePassword",value:function(){var t=this;this.userService.changePassword({current:this.passwordControl.value,new:this.newPasswordControl.value,repeat:this.repeatNewPasswordControl.value}).subscribe(function(e){t.error=void 0,t.translate.get("PASSWORD_SUCCESSFULLY_CHANGED").subscribe(function(e){t.confirmation=e},function(e){t.confirmation={error:e}}),t.resetForm()},function(e){console.log(e),t.error=e,t.confirmation=void 0,t.resetPasswords()})}},{key:"resetForm",value:function(){this.passwordControl.setValue(""),this.passwordControl.markAsPristine(),this.passwordControl.markAsUntouched(),this.newPasswordControl.setValue(""),this.newPasswordControl.markAsPristine(),this.newPasswordControl.markAsUntouched(),this.repeatNewPasswordControl.setValue(""),this.repeatNewPasswordControl.markAsPristine(),this.repeatNewPasswordControl.markAsUntouched()}},{key:"resetPasswords",value:function(){this.newPasswordControl.setValue(""),this.newPasswordControl.markAsPristine(),this.newPasswordControl.markAsUntouched(),this.repeatNewPasswordControl.setValue(""),this.repeatNewPasswordControl.markAsPristine(),this.repeatNewPasswordControl.markAsUntouched()}}]),t}()).\u0275fac=function(t){return new(t||Qa)(l.Ob(R),l.Ob(te),l.Ob(U.e))},Qa.\u0275cmp=l.Ib({type:Qa,selectors:[["app-change-password"]],decls:42,vars:26,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6",2,"margin-bottom","20px"],["translate",""],[1,"confirmation",3,"hidden"],[1,"error",3,"hidden"],["id","password-form",1,"form-container"],["appearance","outline","color","accent"],["id","currentPassword","type","password","matInput","","aria-label","Field to enter the current password",3,"formControl","placeholder"],["translate","",4,"ngIf"],["id","newPassword","type","password","matInput","","aria-label","Field for the new password",3,"formControl"],["password",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["align","end"],["translate","",3,"translateParams",4,"ngIf"],["id","newPasswordRepeat","type","password","matInput","","aria-label","Field to repeat the new password",3,"formControl"],["passwordRepeat",""],["type","submit","id","changeButton","mat-raised-button","","color","primary","aria-label","Button to confirm the change",3,"disabled","click"],["aria-hidden","true",1,"far","fa-edit","fa-lg"],["translate","",3,"translateParams"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_CHANGE_PASSWORD"),l.Tb(),l.Ub(4,"div",3),l.Hc(5),l.Tb(),l.Ub(6,"div",4),l.Hc(7),l.Tb(),l.Ub(8,"div",5),l.Ub(9,"mat-form-field",6),l.Ub(10,"mat-label",2),l.Hc(11,"LABEL_CURRENT_PASSWORD"),l.Tb(),l.Pb(12,"input",7),l.hc(13,"translate"),l.Fc(14,Ga,2,0,"mat-error",8),l.Tb(),l.Ub(15,"mat-form-field",6),l.Ub(16,"mat-label",2),l.Hc(17,"LABEL_NEW_PASSWORD"),l.Tb(),l.Pb(18,"input",9,10),l.Ub(20,"mat-hint",2),l.Pb(21,"i",11),l.Ub(22,"em",12),l.Hc(23),l.hc(24,"translate"),l.Tb(),l.Tb(),l.Ub(25,"mat-hint",13),l.Hc(26),l.Tb(),l.Fc(27,Va,2,0,"mat-error",8),l.Fc(28,Ja,2,2,"mat-error",14),l.Tb(),l.Ub(29,"mat-form-field",6),l.Ub(30,"mat-label",2),l.Hc(31,"LABEL_REPEAT_NEW_PASSWORD"),l.Tb(),l.Pb(32,"input",15,16),l.Ub(34,"mat-hint",13),l.Hc(35),l.Tb(),l.Fc(36,Ya,2,0,"mat-error",8),l.Fc(37,za,2,0,"mat-error",8),l.Tb(),l.Tb(),l.Ub(38,"button",17),l.cc("click",function(){return e.changePassword()}),l.Pb(39,"i",18),l.Hc(40),l.hc(41,"translate"),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(19),a=l.uc(33);l.Cb(4),l.mc("hidden",!(e.confirmation&&!e.passwordControl.dirty&&!e.newPasswordControl.dirty&&!e.repeatNewPasswordControl.dirty)),l.Cb(1),l.Jc(" ",e.confirmation," "),l.Cb(1),l.mc("hidden",!(e.error&&!e.passwordControl.dirty&&!e.newPasswordControl.dirty&&!e.repeatNewPasswordControl.dirty)),l.Cb(1),l.Jc(" ",e.error," "),l.Cb(5),l.nc("placeholder",l.ic(13,18,"MANDATORY_CURRENT_PASSWORD")),l.mc("formControl",e.passwordControl),l.Cb(2),l.mc("ngIf",e.passwordControl.invalid),l.Cb(4),l.mc("formControl",e.newPasswordControl),l.Cb(5),l.Ic(l.jc(24,20,"INVALID_PASSWORD_LENGTH",l.qc(25,qa))),l.Cb(3),l.Jc("",(null==n.value?null:n.value.length)||0,"/20"),l.Cb(1),l.mc("ngIf",(null==e.newPasswordControl?null:e.newPasswordControl.invalid)&&(null==e.newPasswordControl?null:e.newPasswordControl.errors.required)),l.Cb(1),l.mc("ngIf",(null==e.newPasswordControl?null:e.newPasswordControl.invalid)&&((null==e.newPasswordControl?null:e.newPasswordControl.errors.minlength)||(null==e.newPasswordControl?null:e.newPasswordControl.errors.maxlength))),l.Cb(4),l.mc("formControl",e.repeatNewPasswordControl),l.Cb(3),l.Jc("",(null==a.value?null:a.value.length)||0,"/20"),l.Cb(1),l.mc("ngIf",e.repeatNewPasswordControl.invalid&&e.repeatNewPasswordControl.errors.required),l.Cb(1),l.mc("ngIf",e.repeatNewPasswordControl.invalid&&e.repeatNewPasswordControl.errors.notSame),l.Cb(1),l.mc("disabled",e.passwordControl.invalid||e.newPasswordControl.invalid||e.repeatNewPasswordControl.invalid),l.Cb(2),l.Jc(" ",l.ic(41,23,"BTN_CHANGE")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.c,m.o,m.e,Q.l,ee.f,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}button[_ngcontent-%COMP%]{margin-top:5px}#changeButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}"]}),Qa),$a=((Wa=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Complaints"}return s(t,[{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Wa)(l.Yb(b.b))},Wa.\u0275prov=l.Kb({token:Wa,factory:Wa.\u0275fac,providedIn:"root"}),Wa),Za=i("pYyI"),Xa=["fileControl"],ti=function(){return{type:"PDF, ZIP"}};function ei(t,e){1&t&&(l.Ub(0,"div",20),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t&&(l.Cb(1),l.Jc("",l.jc(2,1,"INVALID_FILE_TYPE",l.qc(4,ti))," "))}var ni=function(){return{size:"100 KB"}};function ai(t,e){1&t&&(l.Ub(0,"div",20),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t&&(l.Cb(1),l.Jc("",l.jc(2,1,"INVALID_FILE_SIZE",l.qc(4,ni))," "))}function ii(t,e){1&t&&(l.Ub(0,"mat-error"),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t&&(l.Cb(1),l.Jc("",l.ic(2,1,"MANDATORY_MESSAGE")," "))}var oi=function(){return{length:"160"}};g.b.add(C.c),g.a.watch();var ri,ci,si=((ci=function(){function t(e,n,a,i){r(this,t),this.userService=e,this.complaintService=n,this.formSubmitService=a,this.translate=i,this.customerControl=new m.d({value:"",disabled:!0},[]),this.messageControl=new m.d("",[m.y.required,m.y.maxLength(160)]),this.fileUploadError=void 0,this.uploader=new Za.c({url:"./file-upload",authToken:"Bearer "+localStorage.getItem("token"),allowedMimeType:["application/pdf","application/xml","text/xml","application/zip","application/x-zip-compressed","multipart/x-zip"],maxFileSize:1e5}),this.userEmail=void 0,this.complaint=void 0}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.initComplaint(),this.uploader.onWhenAddingFileFailed=function(e,n){throw t.fileUploadError=n,new Error("Error due to : "+n.name)},this.uploader.onAfterAddingFile=function(){t.fileUploadError=void 0},this.uploader.onSuccessItem=function(){t.saveComplaint(),t.uploader.clearQueue()},this.formSubmitService.attachEnterKeyHandler("complaint-form","submitButton",function(){return t.save()})}},{key:"initComplaint",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.complaint={},t.complaint.UserId=e.id,t.userEmail=e.email,t.customerControl.setValue(t.userEmail)},function(e){t.complaint=void 0,console.log(e)})}},{key:"save",value:function(){this.uploader.queue[0]?(this.uploader.queue[0].upload(),this.fileControl.nativeElement.value=null):this.saveComplaint()}},{key:"saveComplaint",value:function(){var t=this;this.complaint.message=this.messageControl.value,this.complaintService.save(this.complaint).subscribe(function(e){t.translate.get("CUSTOMER_SUPPORT_COMPLAINT_REPLY",{ref:e.id}).subscribe(function(e){t.confirmation=e},function(e){t.confirmation=e}),t.initComplaint(),t.resetForm(),t.fileUploadError=void 0},function(t){return t})}},{key:"resetForm",value:function(){this.messageControl.setValue(""),this.messageControl.markAsUntouched(),this.messageControl.markAsPristine(),this.fileControl.nativeElement.value=null}}]),t}()).\u0275fac=function(t){return new(t||ci)(l.Ob(R),l.Ob($a),l.Ob(te),l.Ob(U.e))},ci.\u0275cmp=l.Ib({type:ci,selectors:[["app-complaint"]],viewQuery:function(t,e){var n;1&t&&l.Mc(Xa,3),2&t&&l.tc(n=l.dc())&&(e.fileControl=n.first)},decls:39,vars:21,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],[1,"confirmation",3,"hidden"],["class","error fileUploadError",4,"ngIf"],["id","complaint-form",1,"form-container"],["appearance","outline","color","accent"],["type","text","matInput","","aria-label","Text field for the mail address of the user",3,"formControl"],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["id","complaintMessage","matAutosizeMinRows","4","matAutosizeMaxRows","4","matTextareaAutosize","","cols","50","maxlength","160","matInput","","aria-label","Field for entering the complaint",3,"formControl","placeholder"],["complaintMessage",""],[4,"ngIf"],["align","end"],[2,"margin-top","15px"],["for","file","translate",""],["ng2FileSelect","","id","file","type","file","accept",".pdf,.zip","aria-label","Input area for uploading a single invoice PDF or XML B2B order file or a ZIP archive containing multiple invoices or orders\x3c!----\x3e",2,"margin-left","10px",3,"uploader"],["fileControl",""],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Button to send the complaint",3,"disabled","click"],[1,"material-icons"],[1,"error","fileUploadError"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"NAV_COMPLAIN"),l.Tb(),l.Ub(4,"div",3),l.Hc(5),l.Tb(),l.Fc(6,ei,3,5,"div",4),l.Fc(7,ai,3,5,"div",4),l.Ub(8,"div",5),l.Ub(9,"mat-form-field",6),l.Ub(10,"mat-label",2),l.Hc(11,"LABEL_CUSTOMER"),l.Tb(),l.Pb(12,"input",7),l.Tb(),l.Ub(13,"mat-form-field",6),l.Ub(14,"mat-label",2),l.Hc(15,"LABEL_MESSAGE"),l.Tb(),l.Ub(16,"mat-hint",2),l.Pb(17,"i",8),l.Ub(18,"em",9),l.Hc(19),l.hc(20,"translate"),l.Tb(),l.Tb(),l.Pb(21,"textarea",10,11),l.hc(23,"translate"),l.Fc(24,ii,3,3,"mat-error",12),l.Ub(25,"mat-hint",13),l.Hc(26),l.Tb(),l.Tb(),l.Ub(27,"div",14),l.Ub(28,"label",15),l.Hc(29,"LABEL_INVOICE"),l.Ub(30,"span"),l.Hc(31,":"),l.Tb(),l.Tb(),l.Pb(32,"input",16,17),l.Tb(),l.Tb(),l.Ub(34,"button",18),l.cc("click",function(){return e.save()}),l.Ub(35,"i",19),l.Hc(36," send "),l.Tb(),l.Hc(37),l.hc(38,"translate"),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(22);l.Cb(4),l.mc("hidden",!(e.confirmation&&!e.messageControl.dirty)),l.Cb(1),l.Ic(e.confirmation),l.Cb(1),l.mc("ngIf",e.fileUploadError&&"mimeType"==e.fileUploadError.name),l.Cb(1),l.mc("ngIf",e.fileUploadError&&"fileSize"==e.fileUploadError.name),l.Cb(5),l.mc("formControl",e.customerControl),l.Cb(7),l.Ic(l.jc(20,13,"MAX_TEXTAREA_LENGTH",l.qc(20,oi))),l.Cb(2),l.nc("placeholder",l.ic(23,16,"WRITE_MESSAGE_PLACEHOLDER")),l.mc("formControl",e.messageControl),l.Cb(3),l.mc("ngIf",e.messageControl.invalid&&(null==e.messageControl?null:e.messageControl.errors.required)),l.Cb(2),l.Jc("",(null==n.value?null:n.value.length)||0,"/160"),l.Cb(6),l.mc("uploader",e.uploader),l.Cb(2),l.mc("disabled",e.messageControl.invalid||e.fileUploadError),l.Cb(3),l.Jc(" ",l.ic(38,18,"BTN_SUBMIT")," ")}},directives:[w.c,y.a,U.a,Q.l,ee.c,ee.g,ne.b,m.c,m.o,m.e,ee.f,ne.d,m.j,Za.a,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:30%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}"]}),ci),li=((ri=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/chatbot"}return s(t,[{key:"getChatbotStatus",value:function(){return this.http.get(this.host+"/status").pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"getResponse",value:function(t,e){return this.http.post(this.host+"/respond",{action:t,query:e}).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||ri)(l.Yb(b.b))},ri.\u0275prov=l.Kb({token:ri,factory:ri.\u0275fac,providedIn:"root"}),ri);function ui(t,e){if(1&t&&l.Pb(0,"img",16),2&t){var n=l.gc(2);l.nc("src",n.juicyImageSrc,l.Ac)}}function bi(t,e){if(1&t&&l.Pb(0,"img",17),2&t){var n=l.gc(2);l.nc("src",n.profileImageSrc,l.Ac)}}function di(t,e){if(1&t&&(l.Ub(0,"div",13),l.Fc(1,ui,1,1,"img",14),l.Fc(2,bi,1,1,"img",15),l.Ub(3,"div"),l.Hc(4),l.Tb(),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("ngIf","bot"==n.author),l.Cb(1),l.mc("ngIf","user"==n.author),l.Cb(1),l.Eb("user"==n.author?"speech-bubble-right":"speech-bubble-left"),l.Cb(1),l.Jc(" ",n.body," ")}}var mi=function(){return{chatbot:"juicy-chat-bot"}};g.b.add(C.c),g.a.watch();var fi,pi,hi,gi=function(t){return t.user="user",t.bot="bot",t}({}),vi=((hi=function(){function t(e,n,a,i,o){r(this,t),this.userService=e,this.chatbotService=n,this.cookieService=a,this.formSubmitService=i,this.translate=o,this.messageControl=new m.d,this.messages=[],this.juicyImageSrc="assets/public/images/ChatbotAvatar.png",this.profileImageSrc="assets/public/images/uploads/default.svg",this.messageActions={response:"query",namequery:"setname"},this.currentAction=this.messageActions.response}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.chatbotService.getChatbotStatus().subscribe(function(e){t.messages.push({author:gi.bot,body:e.body}),e.action&&(t.currentAction=t.messageActions[e.action])}),this.userService.whoAmI().subscribe(function(e){t.profileImageSrc=e.profileImage},function(t){console.log(t)})}},{key:"handleResponse",value:function(t){if(this.messages.push({author:gi.bot,body:t.body}),this.currentAction=this.messageActions[t.action],t.token){localStorage.setItem("token",t.token);var e=new Date;e.setHours(e.getHours()+8),this.cookieService.set("token",t.token,e,"/")}}},{key:"sendMessage",value:function(){var t=this,e=this.messageControl.value;e&&(this.messages.push({author:gi.user,body:e}),this.messageControl.setValue(""),this.chatbotService.getChatbotStatus().subscribe(function(n){n.status||n.action?t.chatbotService.getResponse(t.currentAction,e).subscribe(function(e){t.handleResponse(e)}):t.messages.push({author:gi.bot,body:n.body});var a=document.getElementById("chat-window");a.scrollTop=a.scrollHeight}))}}]),t}()).\u0275fac=function(t){return new(t||hi)(l.Ob(R),l.Ob(li),l.Ob(d.a),l.Ob(te),l.Ob(U.e))},hi.\u0275cmp=l.Ib({type:hi,selectors:[["app-chatbot"]],decls:20,vars:13,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],[1,"powered-by"],["id","chat-container"],["id","chat-box"],["id","chat-window"],["class","message-container",4,"ngFor","ngForOf"],[1,"message-box-container"],[1,"form-wrapper"],["color","accent","appearance","outline"],["translate",""],["id","message-input","name","message","matInput","","aria-label","Text field for a chat message",3,"formControl","placeholder","keyup.enter"],["message",""],[1,"message-container"],["class","juicy-chat-bot-image",3,"src",4,"ngIf"],["class","profile-image",3,"src",4,"ngIf"],[1,"juicy-chat-bot-image",3,"src"],[1,"profile-image",3,"src"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1"),l.Hc(3),l.hc(4,"translate"),l.Ub(5,"span",2),l.Hc(6),l.hc(7,"translate"),l.Tb(),l.Tb(),l.Ub(8,"mat-card",3),l.Ub(9,"mat-card",4),l.Ub(10,"div",5),l.Fc(11,di,5,6,"div",6),l.Tb(),l.Ub(12,"div",7),l.Ub(13,"div",8),l.Ub(14,"mat-form-field",9),l.Ub(15,"mat-label",10),l.Hc(16,"LABEL_MESSAGE"),l.Tb(),l.Ub(17,"input",11,12),l.cc("keyup.enter",function(){return e.sendMessage()}),l.hc(19,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.Jc("",l.ic(4,5,"SECTION_SUPPORT_CHAT")," "),l.Cb(3),l.Jc("(",l.jc(7,7,"LABEL_POWERED_BY_CHATBOT",l.qc(12,mi)),")"),l.Cb(5),l.mc("ngForOf",e.messages),l.Cb(6),l.nc("placeholder",l.ic(19,10,"ASK_ME_ANYTHING_PLACEHOLDER")),l.mc("formControl",e.messageControl))},directives:[w.c,y.a,Q.k,ee.c,ee.g,U.a,ne.b,m.c,m.o,m.e,Q.l],pipes:[U.d],styles:['mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:60%}mat-form-field[_ngcontent-%COMP%]{display:block;height:0;margin:auto;width:70%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}#chat-container[_ngcontent-%COMP%]{box-shadow:none;display:flex;position:relative;width:95%}#chat-box[_ngcontent-%COMP%]{align-content:space-between;background-color:rgba(0,0,0,.3);display:block;display:flex;flex-direction:column;height:650px;margin-left:auto;margin-right:auto;padding:0;width:80%}.form-wrapper[_ngcontent-%COMP%]{font-size:10px}#chat-window[_ngcontent-%COMP%]{height:90%;overflow-y:auto;padding:20px}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{background:none;width:20px}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:red;border-radius:10px}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b30000}.message-box-container[_ngcontent-%COMP%]{border-top:1px solid #fff;height:10%;padding-top:15px;width:auto}.message-container[_ngcontent-%COMP%]{height:auto;margin-right:25px;overflow:hidden;width:auto}.speech-bubble-right[_ngcontent-%COMP%]{background:#546e7a;border-radius:4px;float:right;font-size:15px;line-height:1.3;margin-bottom:25px;max-width:500px;padding:15px;position:relative}.speech-bubble-right[_ngcontent-%COMP%]:after{border-left:20px solid transparent;border-top:20px solid #546e7a;bottom:-20px;content:"";position:absolute;right:20px}.speech-bubble-left[_ngcontent-%COMP%]{background:#546e7a;border-radius:4px;float:left;font-size:15px;line-height:1.3;margin-bottom:25px;max-width:500px;padding:15px;position:relative}.speech-bubble-left[_ngcontent-%COMP%]:after{border-right:20px solid transparent;border-top:20px solid #546e7a;bottom:-20px;content:"";left:20px;position:absolute}.juicy-chat-bot-image[_ngcontent-%COMP%]{float:left;height:70px;margin-top:20px}.profile-image[_ngcontent-%COMP%]{border-radius:50%;float:right;height:40px;margin-left:10px;margin-top:20px}.powered-by[_ngcontent-%COMP%]{font-size:xx-small}']}),hi),Ci=((pi=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Recycles"}return s(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||pi)(l.Yb(b.b))},pi.\u0275prov=l.Kb({token:pi,factory:pi.\u0275fac,providedIn:"root"}),pi),Ti=((fi=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Addresss"}return s(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getById",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||fi)(l.Yb(b.b))},fi.\u0275prov=l.Kb({token:fi,factory:fi.\u0275fac,providedIn:"root"}),fi),yi=i("CtHx"),wi=i("zQhy");function Ui(t,e){1&t&&(l.Ub(0,"h1",5),l.Hc(1,"TITLE_SELECT_ADDRESS"),l.Tb())}function Si(t,e){1&t&&(l.Ub(0,"h1",5),l.Hc(1,"MY_SAVED_ADRESSES"),l.Tb())}function Oi(t,e){1&t&&l.Pb(0,"mat-header-cell",20)}function ki(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",20),l.Ub(1,"mat-radio-button",21),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).emitSelectionToParent(t.id)})("change",function(t){l.xc(n);var a=e.$implicit,i=l.gc(2);return t?i.selection.toggle(a):null}),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc(2);l.Cb(1),l.mc("checked",i.selection.isSelected(a))}}function Ii(t,e){1&t&&l.Pb(0,"mat-header-cell",22)}function Pi(t,e){if(1&t&&(l.Ub(0,"mat-cell",20),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",null==n?null:n.fullName," ")}}function xi(t,e){1&t&&l.Pb(0,"mat-header-cell",22)}function _i(t,e){if(1&t&&(l.Ub(0,"mat-cell",23),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Lc(" ",null==n?null:n.streetAddress,", ",null==n?null:n.city,", ",null==n?null:n.state,", ",null==n?null:n.zipCode," ")}}function Hi(t,e){1&t&&l.Pb(0,"mat-header-cell",22)}function Ai(t,e){if(1&t&&(l.Ub(0,"mat-cell",20),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Ic(null==n?null:n.country)}}function Ei(t,e){1&t&&l.Pb(0,"mat-header-cell",22)}function Li(t,e){if(1&t&&(l.Ub(0,"mat-cell",24),l.Ub(1,"button",25),l.Pb(2,"i",26),l.Tb(),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.oc("routerLink","/address/edit/",n.id,"")}}function Di(t,e){1&t&&l.Pb(0,"mat-header-cell",22)}function Fi(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",24),l.Ub(1,"button",27),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).deleteAddress(t.id)}),l.Pb(2,"i",28),l.Tb(),l.Tb()}}function Ri(t,e){1&t&&l.Pb(0,"mat-header-row")}function Mi(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-row",29),l.cc("click",function(){l.xc(n);var t=e.$implicit,a=e.$implicit,i=l.gc(2);return i.selection.toggle(t),i.emitSelectionToParent(a.id)}),l.Tb()}}function Ni(t,e){if(1&t&&(l.Ub(0,"mat-table",6),l.Sb(1,7),l.Fc(2,Oi,1,0,"mat-header-cell",8),l.Fc(3,ki,2,1,"mat-cell",9),l.Rb(),l.Sb(4,10),l.Fc(5,Ii,1,0,"mat-header-cell",11),l.Fc(6,Pi,2,1,"mat-cell",9),l.Rb(),l.Sb(7,12),l.Fc(8,xi,1,0,"mat-header-cell",11),l.Fc(9,_i,2,4,"mat-cell",13),l.Rb(),l.Sb(10,14),l.Fc(11,Hi,1,0,"mat-header-cell",11),l.Fc(12,Ai,2,1,"mat-cell",9),l.Rb(),l.Sb(13,15),l.Fc(14,Ei,1,0,"mat-header-cell",11),l.Fc(15,Li,3,1,"mat-cell",16),l.Rb(),l.Sb(16,17),l.Fc(17,Di,1,0,"mat-header-cell",11),l.Fc(18,Fi,3,0,"mat-cell",16),l.Rb(),l.Fc(19,Ri,1,0,"mat-header-row",18),l.Fc(20,Mi,1,0,"mat-row",19),l.Tb()),2&t){var n=l.gc();l.mc("dataSource",n.dataSource),l.Cb(19),l.mc("matHeaderRowDef",n.displayedColumns),l.Cb(1),l.mc("matRowDefColumns",n.displayedColumns)}}function Bi(t,e){1&t&&(l.Ub(0,"div",30),l.Ub(1,"button",31),l.Ub(2,"mat-icon"),l.Hc(3," add "),l.Tb(),l.Ub(4,"span",5),l.Hc(5,"ADD_NEW_ADDRESS"),l.Tb(),l.Tb(),l.Tb())}function ji(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",32),l.cc("click",function(){return l.xc(n),l.gc().chooseAddress()}),l.Ub(1,"mat-icon"),l.Hc(2," navigate_next "),l.Tb(),l.Ub(3,"span",5),l.Hc(4,"LABEL_CONTINUE"),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.mc("disabled",void 0===a.addressId)}}g.b.add(T.c,T.g),g.a.watch();var Gi,Vi=((Gi=function(){function t(e,n,a,i,o){r(this,t),this.addressService=e,this.translate=n,this.router=a,this.ngZone=i,this.snackBarHelperService=o,this.emitSelection=new l.o,this.allowEdit=!1,this.addNewAddressDiv=!0,this.showNextButton=!1,this.addressId=void 0,this.displayedColumns=["Name","Address","Country"],this.selection=new yi.c(!1,[]),this.addressExist=!1}return s(t,[{key:"ngOnInit",value:function(){this.allowEdit?this.displayedColumns.push("Edit","Remove"):this.displayedColumns.unshift("Selection"),this.load()}},{key:"load",value:function(){var t=this;this.addressService.get().subscribe(function(e){t.addressExist=e.length,t.storedAddresses=e,t.dataSource=new W.o(t.storedAddresses)},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),console.log(e)})}},{key:"emitSelectionToParent",value:function(t){this.selection.hasValue()?(this.emitSelection.emit(t),this.addressId=t):(this.emitSelection.emit(void 0),this.addressId=void 0)}},{key:"chooseAddress",value:function(){var t=this;sessionStorage.setItem("addressId",this.addressId),this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/delivery-method"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}},{key:"deleteAddress",value:function(t){var e=this;this.addressService.del(t).subscribe(function(){e.error=null,e.translate.get("ADDRESS_REMOVED").subscribe(function(t){e.snackBarHelperService.open(t,"confirmBar")},function(t){e.snackBarHelperService.open(t,"confirmBar")}),e.load()},function(t){var n;e.snackBarHelperService.open(null===(n=t.error)||void 0===n?void 0:n.error,"errorBar"),console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Gi)(l.Ob(Ti),l.Ob(U.e),l.Ob(M.b),l.Ob(l.B),l.Ob(z))},Gi.\u0275cmp=l.Ib({type:Gi,selectors:[["app-address"]],inputs:{allowEdit:"allowEdit",addNewAddressDiv:"addNewAddressDiv",showNextButton:"showNextButton"},outputs:{emitSelection:"emitSelection"},decls:6,vars:7,consts:[[1,"mat-elevation-z6"],["translate","",4,"ngIf"],[3,"dataSource",4,"ngIf"],["style","margin-top: 20px;",4,"ngIf"],["mat-raised-button","","mat-button","","class","btn btn-next","color","primary","aria-label","Proceed to payment selection",3,"disabled","click",4,"ngIf"],["translate",""],[3,"dataSource"],["matColumnDef","Selection"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","Name"],["style","display: none;",4,"matHeaderCellDef"],["matColumnDef","Address"],["fxFlex","40%",4,"matCellDef"],["matColumnDef","Country"],["matColumnDef","Edit"],["fxflex","10%",4,"matCellDef"],["matColumnDef","Remove"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],["fxFlex","20%"],[3,"checked","click","change"],[2,"display","none"],["fxFlex","40%"],["fxflex","10%"],["mat-icon-button","",3,"routerLink"],[1,"far","fa-edit"],["mat-icon-button","",3,"click"],[1,"far","fa-trash-alt"],[3,"click"],[2,"margin-top","20px"],["mat-raised-button","","mat-button","","color","primary","aria-label","Add a new address","routerLink","/address/create",1,"btn","btn-new-address"],["mat-raised-button","","mat-button","","color","primary","aria-label","Proceed to payment selection",1,"btn","btn-next",3,"disabled","click"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Fc(1,Ui,2,0,"h1",1),l.Fc(2,Si,2,0,"h1",1),l.Fc(3,Ni,21,3,"mat-table",2),l.Fc(4,Bi,6,0,"div",3),l.Fc(5,ji,5,1,"button",4),l.Tb()),2&t&&(l.Gb("div-boundary",!e.addNewAddressDiv),l.Cb(1),l.mc("ngIf",e.showNextButton),l.Cb(1),l.mc("ngIf",!e.showNextButton),l.Cb(1),l.mc("ngIf",e.addressExist),l.Cb(1),l.mc("ngIf",e.addNewAddressDiv),l.Cb(1),l.mc("ngIf",e.showNextButton))},directives:[y.a,Q.l,U.a,W.n,W.c,W.i,W.b,W.k,W.m,W.h,w.b,W.a,wi.a,S.a,M.c,W.j,W.l,Qe.a],styles:[".btn-new-address[_ngcontent-%COMP%]{display:block;margin-left:0;margin-right:auto}.btn-next[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0;margin-top:-37px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large}.heading-text[_ngcontent-%COMP%]{justify-content:center;padding:12px 20px}.div-boundary[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.3);border-radius:5px;box-shadow:0 0 0!important}"]}),Gi),qi=i("TN/R"),Ji=["addressComp"];function Yi(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_QUANTITY "),l.Tb())}var zi=function(){return{range:"10-1000"}};function Wi(t,e){1&t&&(l.Ub(0,"mat-error",21),l.Hc(1,"INVALID_QUANTITY "),l.Tb()),2&t&&l.mc("translateParams",l.qc(1,zi))}function Qi(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"INVALID_DATE"),l.Tb())}function Ki(t,e){if(1&t&&(l.Ub(0,"mat-form-field",22),l.Ub(1,"mat-label",2),l.Hc(2,"LABEL_PICKUP_DATE"),l.Tb(),l.Pb(3,"input",23),l.Pb(4,"mat-datepicker-toggle",24),l.Pb(5,"mat-datepicker",null,25),l.Fc(7,Qi,2,0,"mat-error",7),l.Tb()),2&t){var n=l.uc(6),a=l.gc();l.Cb(3),l.mc("formControl",a.pickUpDateControl)("matDatepicker",n),l.Cb(1),l.mc("for",n),l.Cb(3),l.mc("ngIf",a.pickUpDateControl.invalid)}}function $i(t,e){if(1&t&&(l.Ub(0,"mat-checkbox",26),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t){var n=l.gc();l.mc("formControl",n.pickup),l.Cb(1),l.Jc("",l.ic(2,2,"REQUEST_PICKUP")," ")}}g.b.add(C.A),g.a.watch();var Zi,Xi,to,eo=((Xi=function(){function t(e,n,a,i,o,c){r(this,t),this.recycleService=e,this.userService=n,this.configurationService=a,this.formSubmitService=i,this.translate=o,this.snackBarHelperService=c,this.requestorControl=new m.d({value:"",disabled:!0},[]),this.recycleQuantityControl=new m.d("",[m.y.required,m.y.min(10),m.y.max(1e3)]),this.pickUpDateControl=new m.d,this.pickup=new m.d(!1),this.recycle={},this.addressId=void 0}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.recyclePage)&&(t.topImage="assets/public/images/products/"+e.application.recyclePage.topProductImage,t.bottomImage="assets/public/images/products/"+e.application.recyclePage.bottomProductImage)},function(t){return console.log(t)}),this.initRecycle(),this.findAll(),this.formSubmitService.attachEnterKeyHandler("recycle-form","recycleButton",function(){return t.save()})}},{key:"initRecycle",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.recycle={},t.recycle.UserId=e.id,t.userEmail=e.email,t.requestorControl.setValue(t.userEmail)},function(t){return console.log(t)})}},{key:"save",value:function(){var t=this;this.recycle.AddressId=this.addressId,this.recycle.quantity=this.recycleQuantityControl.value,this.pickup.value&&(this.recycle.isPickUp=this.pickup.value,this.recycle.date=this.pickUpDateControl.value),this.recycleService.save(this.recycle).subscribe(function(e){e.isPickup?t.translate.get("CONFIRM_RECYCLING_PICKUP",{pickupdate:e.pickupDate}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")}):t.translate.get("CONFIRM_RECYCLING_BOX").subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")}),t.addressComponent.load(),t.initRecycle(),t.resetForm()},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),console.log(e)})}},{key:"findAll",value:function(){var t=this;this.recycleService.find().subscribe(function(e){t.recycles=e},function(t){console.log(t)})}},{key:"resetForm",value:function(){this.addressId=void 0,this.recycleQuantityControl.setValue(""),this.recycleQuantityControl.markAsPristine(),this.recycleQuantityControl.markAsUntouched(),this.pickUpDateControl.setValue(""),this.pickUpDateControl.markAsPristine(),this.pickUpDateControl.markAsUntouched(),this.pickup.setValue(!1)}},{key:"getMessage",value:function(t){this.addressId=t}}]),t}()).\u0275fac=function(t){return new(t||Xi)(l.Ob(Ci),l.Ob(R),l.Ob(h),l.Ob(te),l.Ob(U.e),l.Ob(z))},Xi.\u0275cmp=l.Ib({type:Xi,selectors:[["app-recycle"]],viewQuery:function(t,e){var n;1&t&&l.Mc(Ji,3),2&t&&l.tc(n=l.dc())&&(e.addressComponent=n.first)},decls:41,vars:16,consts:[["fxLayout","row","fxLayoutGap","5%","fxLayout.lt-md","column","fxLayoutGap.lt-md","20px",1,"mat-elevation-z6","mat-own-card"],["fxLayout","column","fxLayoutGap","20px","fxFlex","50%"],["translate",""],["id","recycle-form",1,"form-container"],["appearance","outline","color","accent"],["type","text","matInput","",3,"formControl"],["type","number","matInput","",3,"formControl","placeholder"],["translate","",4,"ngIf"],["translate","",3,"translateParams",4,"ngIf"],[1,"mat-elevation-z0",3,"addNewAddressDiv","emitSelection"],["addressComp",""],["appearance","outline",4,"ngIf"],[3,"formControl",4,"ngIf"],["type","submit","id","recycleButton","mat-raised-button","","color","primary",3,"disabled","click"],[1,"fas","fa-paper-plane","fa-lg"],["fxFlex","50%"],["fxLayout","column","fxLayoutGap","20px","fxLayoutAlign","center"],["translate","",1,"responsibility-header"],["fxLayout","row","fxLayoutGap","20px",1,"mat-elevation-z0"],["mat-card-image","",3,"src"],[1,"fill-remaining-space"],["translate","",3,"translateParams"],["appearance","outline"],["matInput","",3,"formControl","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[3,"formControl"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"div",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_RECYCLE"),l.Tb(),l.Ub(4,"div",3),l.Ub(5,"mat-form-field",4),l.Ub(6,"mat-label",2),l.Hc(7,"LABEL_REQUESTOR"),l.Tb(),l.Pb(8,"input",5),l.Tb(),l.Ub(9,"mat-form-field",4),l.Ub(10,"mat-label",2),l.Hc(11,"LABEL_QUANTITY"),l.Tb(),l.Pb(12,"input",6),l.hc(13,"translate"),l.Fc(14,Yi,2,0,"mat-error",7),l.Fc(15,Wi,2,2,"mat-error",8),l.Tb(),l.Ub(16,"app-address",9,10),l.cc("emitSelection",function(t){return e.getMessage(t)}),l.Tb(),l.Fc(18,Ki,8,4,"mat-form-field",11),l.Fc(19,$i,3,4,"mat-checkbox",12),l.Tb(),l.Ub(20,"button",13),l.cc("click",function(){return e.save()}),l.Pb(21,"i",14),l.Hc(22),l.hc(23,"translate"),l.Tb(),l.Tb(),l.Ub(24,"div",15),l.Ub(25,"div",16),l.Ub(26,"h3",17),l.Hc(27,"SECTION_PRESS_JUICE_RESPONSIBLY"),l.Tb(),l.Ub(28,"mat-card",18),l.Pb(29,"img",19),l.Ub(30,"mat-card-content"),l.Ub(31,"div"),l.Ub(32,"small"),l.Hc(33,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. "),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(34,"mat-card",18),l.Pb(35,"img",19),l.Ub(36,"mat-card-content"),l.Ub(37,"div"),l.Ub(38,"small"),l.Hc(39,"Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. "),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Pb(40,"span",20),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(8),l.mc("formControl",e.requestorControl),l.Cb(4),l.mc("formControl",e.recycleQuantityControl)("placeholder",l.ic(13,12,"IN_LITERS_PLACEHOLDER")),l.Cb(2),l.mc("ngIf",e.recycleQuantityControl.invalid&&e.recycleQuantityControl.errors.required),l.Cb(1),l.mc("ngIf",e.recycleQuantityControl.invalid&&(e.recycleQuantityControl.errors.min||e.recycleQuantityControl.errors.max)),l.Cb(1),l.mc("addNewAddressDiv",!1),l.Cb(2),l.mc("ngIf",e.pickup.value&&e.recycleQuantityControl.value>100),l.Cb(1),l.mc("ngIf",e.recycleQuantityControl.value>100),l.Cb(1),l.mc("disabled",void 0===e.addressId||e.recycleQuantityControl.invalid||e.pickUpDateControl.invalid),l.Cb(2),l.Jc(" ",l.ic(23,14,"BTN_SUBMIT")," "),l.Cb(7),l.mc("src",e.topImage,l.Ac),l.Cb(6),l.mc("src",e.bottomImage,l.Ac))},directives:[y.a,w.d,w.e,w.b,U.a,ee.c,ee.g,ne.b,m.c,m.o,m.e,m.t,Q.l,Vi,S.a,w.c,y.d,y.b,ee.b,qi.b,qi.d,ee.h,qi.a,Kn.a],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}button[_ngcontent-%COMP%]{margin-left:20%;margin-top:5px;width:60%}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:10%;margin-right:10%}mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:auto}mat-checkbox[_ngcontent-%COMP%]{margin-bottom:20px}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]}),Xi),no=((Zi=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Challenges"}return s(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"repeatNotification",value:function(t){return this.http.get(this.hostServer+"/rest/repeat-notification",{params:{challenge:t}}).pipe(Object(p.a)(function(t){throw t}))}},{key:"continueCode",value:function(){return this.http.get(this.hostServer+"/rest/continue-code").pipe(Object(f.a)(function(t){return t.continueCode}),Object(p.a)(function(t){throw t}))}},{key:"restoreProgress",value:function(t){return this.http.put(this.hostServer+"/rest/continue-code/apply/"+t,{}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Zi)(l.Yb(b.b))},Zi.\u0275prov=l.Kb({token:Zi,factory:Zi.\u0275fac,providedIn:"root"}),Zi),ao=i("Iab2"),io=i("Cfvw"),oo=((to=function(){function t(e,n,a,i){r(this,t),this.cookieService=e,this.challengeService=n,this.snackBarHelperService=a,this.snackBar=i,this.VERSION=1}return s(t,[{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"owasp_juice_shop",e={version:this.VERSION};e.scoreBoard={displayedDifficulties:localStorage.getItem("displayedDifficulties")?JSON.parse(String(localStorage.getItem("displayedDifficulties"))):void 0,showSolvedChallenges:localStorage.getItem("showSolvedChallenges")?JSON.parse(String(localStorage.getItem("showSolvedChallenges"))):void 0,showDisabledChallenges:localStorage.getItem("showDisabledChallenges")?JSON.parse(String(localStorage.getItem("showDisabledChallenges"))):void 0,showOnlyTutorialChallenges:localStorage.getItem("showOnlyTutorialChallenges")?JSON.parse(String(localStorage.getItem("showOnlyTutorialChallenges"))):void 0,displayedChallengeCategories:localStorage.getItem("displayedChallengeCategories")?JSON.parse(String(localStorage.getItem("displayedChallengeCategories"))):void 0},e.banners={welcomeBannerStatus:this.cookieService.get("welcomebanner_status")?this.cookieService.get("welcomebanner_status"):void 0,cookieConsentStatus:this.cookieService.get("cookieconsent_status")?this.cookieService.get("cookieconsent_status"):void 0},e.language=this.cookieService.get("language")?this.cookieService.get("language"):void 0,e.continueCode=this.cookieService.get("continueCode")?this.cookieService.get("continueCode"):void 0;var n=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf-8"});Object(ao.saveAs)(n,"".concat(t,"-").concat((new Date).toISOString().split("T")[0],".json"))}},{key:"restore",value:function(t){var e=this;return Object(io.a)(t.text().then(function(n){var a,i,o,r,c,s,l,u=JSON.parse(n);u.version===e.VERSION?(e.restoreLocalStorage("displayedDifficulties",null===(a=u.scoreBoard)||void 0===a?void 0:a.displayedDifficulties),e.restoreLocalStorage("showSolvedChallenges",null===(i=u.scoreBoard)||void 0===i?void 0:i.showSolvedChallenges),e.restoreLocalStorage("showDisabledChallenges",null===(o=u.scoreBoard)||void 0===o?void 0:o.showDisabledChallenges),e.restoreLocalStorage("showOnlyTutorialChallenges",null===(r=u.scoreBoard)||void 0===r?void 0:r.showOnlyTutorialChallenges),e.restoreLocalStorage("displayedChallengeCategories",null===(c=u.scoreBoard)||void 0===c?void 0:c.displayedChallengeCategories),e.restoreCookie("welcomebanner_status",null===(s=u.banners)||void 0===s?void 0:s.welcomeBannerStatus),e.restoreCookie("cookieconsent_status",null===(l=u.banners)||void 0===l?void 0:l.cookieConsentStatus),e.restoreCookie("language",u.language),e.restoreCookie("continueCode",u.continueCode),e.snackBar.open("Backup has been restored from "+t.name,"Apply changes now",{duration:1e4}).onAction().subscribe(function(){u.continueCode&&e.challengeService.restoreProgress(encodeURIComponent(u.continueCode)).subscribe(function(){},function(t){console.log(t)}),location.reload()})):e.snackBarHelperService.open("Version ".concat(u.version," is incompatible with expected version ").concat(e.VERSION),"errorBar")}).catch(function(t){e.snackBarHelperService.open("Backup restore operation failed: "+t.message,"errorBar")}))}},{key:"restoreCookie",value:function(t,e){if(e){var n=new Date;n.setFullYear(n.getFullYear()+1),this.cookieService.set(t,e,n,"/")}else this.cookieService.delete(t,"/")}},{key:"restoreLocalStorage",value:function(t,e){e?localStorage.setItem(t,JSON.stringify(e)):localStorage.removeItem(t)}}]),t}()).\u0275fac=function(t){return new(t||to)(l.Yb(d.a),l.Yb(no),l.Yb(z),l.Yb(Y.a))},to.\u0275prov=l.Kb({token:to,factory:to.\u0275fac,providedIn:"root"}),to),ro=i("7g+E"),co=i("BTe0"),so=i("Ynp+"),lo=i("f44v");function uo(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",3),l.cc("click",function(){return l.xc(n),l.gc().repeatNotification()}),l.hc(1,"translate"),l.Ub(2,"mat-icon",4),l.Hc(3,"flag"),l.Tb(),l.Ub(4,"mat-icon",4),l.Hc(5,"check_box"),l.Tb(),l.Ub(6,"span",5),l.Hc(7),l.hc(8,"translate"),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.mc("id",a.challenge.name+".solved")("matTooltip",a.allowRepeatNotifications?l.ic(1,5,"NOTIFICATION_RESEND_INSTRUCTIONS"):null),l.Cb(2),l.mc("hidden",!a.allowRepeatNotifications),l.Cb(2),l.mc("hidden",a.allowRepeatNotifications),l.Cb(3),l.Ic(l.ic(8,7,"STATUS_SOLVED"))}}function bo(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",6),l.cc("click",function(){return l.xc(n),l.gc().openHint()}),l.Ub(1,"mat-icon",4),l.Hc(2,"book"),l.Tb(),l.Ub(3,"mat-icon",4),l.Hc(4,"check_box_outline_blank"),l.Tb(),l.Ub(5,"span",5),l.Hc(6),l.hc(7,"translate"),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.mc("id",a.challenge.name+".notSolved")("matTooltip",a.showChallengeHints?a.challenge.hint:null),l.Cb(1),l.mc("hidden",!a.showChallengeHints||!a.challenge.hintUrl),l.Cb(2),l.mc("hidden",a.showChallengeHints&&a.challenge.hintUrl),l.Cb(3),l.Ic(l.ic(7,5,"STATUS_UNSOLVED"))}}function mo(t,e){if(1&t&&l.Pb(0,"i"),2&t){var n=l.gc(2);l.Eb("icon-"+(null==n.challenge.disabledEnv?null:n.challenge.disabledEnv.toString().toLowerCase()))}}function fo(t,e){if(1&t&&l.Pb(0,"i"),2&t){var n=l.gc(2);l.Eb("fab fa-"+(null==n.challenge.disabledEnv?null:n.challenge.disabledEnv.toString().toLowerCase()))}}function po(t,e){if(1&t&&(l.Ub(0,"button",7),l.Ub(1,"span"),l.Fc(2,mo,1,3,"i",8),l.Fc(3,fo,1,3,"i",8),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t){var n=l.gc();l.mc("id",n.challenge.name+".unavailable")("matTooltip",n.challenge.hint),l.Cb(2),l.mc("ngIf","Windows"!==n.challenge.disabledEnv),l.Cb(1),l.mc("ngIf","Windows"===n.challenge.disabledEnv),l.Cb(1),l.Jc(" ",l.ic(5,5,"STATUS_UNAVAILABLE")," ")}}g.b.add(v.l),g.a.watch();var ho,go=((ho=function(){function t(e,n){r(this,t),this.challengeService=e,this.windowRefService=n,this.challenge={},this.allowRepeatNotifications=!1,this.showChallengeHints=!0}return s(t,[{key:"repeatNotification",value:function(){var t=this;this.allowRepeatNotifications&&this.challengeService.repeatNotification(encodeURIComponent(this.challenge.name)).subscribe(function(){t.windowRefService.nativeWindow.scrollTo(0,0)},function(t){return console.log(t)})}},{key:"openHint",value:function(){this.showChallengeHints&&this.challenge.hintUrl&&this.windowRefService.nativeWindow.open(this.challenge.hintUrl,"_blank")}}]),t}()).\u0275fac=function(t){return new(t||ho)(l.Ob(no),l.Ob(Qn))},ho.\u0275cmp=l.Ib({type:ho,selectors:[["app-challenge-status-badge"]],inputs:{challenge:"challenge",allowRepeatNotifications:"allowRepeatNotifications",showChallengeHints:"showChallengeHints"},decls:3,vars:3,consts:[["mat-raised-button","","color","accent","matTooltipPosition","above",3,"id","matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"id","matTooltip","click",4,"ngIf"],["mat-raised-button","","matTooltipPosition","above",3,"id","matTooltip",4,"ngIf"],["mat-raised-button","","color","accent","matTooltipPosition","above",3,"id","matTooltip","click"],[3,"hidden"],["fxShow","","fxHide.lt-lg",""],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"id","matTooltip","click"],["mat-raised-button","","matTooltipPosition","above",3,"id","matTooltip"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(l.Fc(0,uo,9,9,"button",0),l.Fc(1,bo,8,7,"button",1),l.Fc(2,po,6,7,"button",2)),2&t&&(l.mc("ngIf",!e.challenge.disabledEnv&&e.challenge.solved),l.Cb(1),l.mc("ngIf",!e.challenge.disabledEnv&&!e.challenge.solved),l.Cb(1),l.mc("ngIf",e.challenge.disabledEnv))},directives:[Q.l,S.a,Ke.a,Qe.a,K.b],pipes:[U.d],styles:[""]}),ho),vo=function(t){return{num:t}},Co=function(t){return{tier:t}};function To(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-button-toggle",6),l.cc("change",function(){l.xc(n);var t=e.$implicit;return l.gc().toggleDifficulty(t)}),l.hc(1,"translate"),l.hc(2,"translate"),l.Ub(3,"label"),l.Ub(4,"span",23),l.fc(),l.Ub(5,"svg",24),l.Ub(6,"linearGradient",25),l.Pb(7,"stop",26),l.Pb(8,"stop",27),l.Tb(),l.Pb(9,"path",28),l.Tb(),l.ec(),l.Ub(10,"span",29),l.Hc(11),l.Tb(),l.Ub(12,"span"),l.Hc(13),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc();l.mc("checked",i.displayedDifficulties.includes(a))("disabled",i.restrictToTutorialsFirst&&a>i.tutorialsTier)("matTooltip",i.restrictToTutorialsFirst&&!i.allTutorialsCompleted&&a>i.tutorialsTier?i.isLastTutorialsTier?l.jc(1,13,"INFO_FULL_CHALLENGE_MODE",l.rc(19,vo,i.challenges.length)):l.jc(2,16,"INFO_NEXT_TUTORIAL_TIER",l.rc(21,Co,"\u2605".repeat(i.tutorialsTier))):""),l.Cb(5),l.Cc("fill","url(#"+a+")"),l.Cb(1),l.mc("id",a),l.Cb(1),l.Db("offset",i.challenges?i.offsetValue[a-1]:"100%"),l.Cb(1),l.Db("offset",i.challenges?i.offsetValue[a-1]:"100%"),l.Cb(1),l.Db("fill","inherit"),l.Cb(2),l.Ic(a),l.Cb(1),l.Eb("fa-layers-counter "+(i.solvedChallengesOfDifficulty[a-1].length===i.totalChallengesOfDifficulty[a-1].length?"accent-notification":0===i.solvedChallengesOfDifficulty[a-1].length?"warn-notification":"primary-notification")),l.Cb(1),l.Jc(" ",i.solvedChallengesOfDifficulty[a-1].length+"/"+i.totalChallengesOfDifficulty[a-1].length," ")}}function yo(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-button-toggle",30),l.cc("change",function(){return l.xc(n),l.gc().toggleShowOnlyTutorialChallenges()}),l.hc(1,"translate"),l.Ub(2,"mat-icon"),l.Hc(3," school "),l.Tb(),l.Hc(4),l.hc(5,"translate"),l.Tb()}if(2&t){var a=l.gc();l.mc("checked",a.showOnlyTutorialChallenges)("disabled",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted)("matTooltip",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted?l.jc(1,4,"INFO_FULL_CHALLENGE_MODE",l.rc(9,vo,a.challenges.length)):""),l.Cb(4),l.Jc(" ",l.ic(5,7,"BTN_SHOW_ONLY_TUTORIALS")," ")}}function wo(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-button-toggle",6),l.cc("change",function(){return l.xc(n),l.gc().toggleShowDisabledChallenges()}),l.hc(1,"translate"),l.Pb(2,"i",31),l.Hc(3),l.hc(4,"translate"),l.Tb()}if(2&t){var a=l.gc();l.mc("checked",a.showDisabledChallenges)("disabled",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted)("matTooltip",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted?l.jc(1,4,"INFO_FULL_CHALLENGE_MODE",l.rc(9,vo,a.challenges.length)):""),l.Cb(3),l.Jc(" ",l.ic(4,7,"BTN_SHOW_UNAVAILABLE")," ")}}function Uo(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",32),l.cc("click",function(){return l.xc(n),l.gc().saveBackup()}),l.hc(1,"translate"),l.Ub(2,"mat-icon"),l.Hc(3," save_alt "),l.Tb(),l.Tb()}2&t&&l.nc("matTooltip",l.ic(1,1,"SAVE_BACKUP_TOOLTIP"))}function So(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",33),l.cc("click",function(){return l.xc(n),l.gc(),l.uc(24).click()}),l.hc(1,"translate"),l.Ub(2,"mat-icon"),l.Hc(3," settings_backup_restore "),l.Tb(),l.Tb()}2&t&&l.nc("matTooltip",l.ic(1,1,"RESTORE_BACKUP_TOOLTIP"))}var Oo=function(t,e){return{num:t,env:e}};function ko(t,e){if(1&t&&(l.Pb(0,"div",34),l.hc(1,"translate")),2&t){var n=l.gc();l.mc("innerHTML",l.jc(1,1,"INFO_DISABLED_CHALLENGES",l.sc(4,Oo,n.numDisabledChallenges,n.disabledEnv)),l.yc)}}function Io(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-button-toggle",35),l.cc("change",function(){l.xc(n);var t=e.$implicit;return l.gc().toggleShowChallengeCategory(t)}),l.hc(1,"translate"),l.hc(2,"translate"),l.Hc(3),l.hc(4,"translate"),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc();l.mc("checked",i.displayedChallengeCategories.includes(a))("disabled",i.restrictToTutorialsFirst&&!i.allTutorialsCompleted)("matTooltip",i.restrictToTutorialsFirst&&!i.allTutorialsCompleted?l.jc(1,4,"INFO_FULL_CHALLENGE_MODE",l.rc(11,vo,i.challenges.length)):l.ic(2,7,"CATEGORY_"+(null==a?null:a.toUpperCase().split(" ").join("_"))+"_DESCRIPTION")),l.Cb(3),l.Jc(" ",l.ic(4,9,"CATEGORY_"+(null==a?null:a.toUpperCase().split(" ").join("_")))," ")}}function Po(t,e){1&t&&(l.Ub(0,"mat-header-cell",55),l.Hc(1,"LABEL_NAME"),l.Tb())}function xo(t,e){if(1&t&&(l.Ub(0,"mat-cell"),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.name,"")}}function _o(t,e){1&t&&(l.Ub(0,"mat-header-cell",56),l.Hc(1,"LABEL_DIFFICULTY"),l.Tb())}function Ho(t,e){1&t&&(l.Ub(0,"mat-icon"),l.Hc(1," star_rate "),l.Tb())}function Ao(t,e){if(1&t&&(l.Ub(0,"mat-cell",57),l.Fc(1,Ho,2,0,"mat-icon",58),l.Tb()),2&t){var n=e.$implicit,a=l.gc(2);l.Cb(1),l.mc("ngForOf",a.times(n.difficulty))}}function Eo(t,e){1&t&&(l.Ub(0,"mat-header-cell",59),l.Hc(1,"LABEL_DESCRIPTION "),l.Tb())}function Lo(t,e){if(1&t&&(l.Ub(0,"mat-cell",60),l.Pb(1,"div",61),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("innerHTML",n.description,l.yc)}}function Do(t,e){1&t&&(l.Ub(0,"mat-header-cell",62),l.Hc(1,"LABEL_CATEGORY"),l.Tb())}function Fo(t,e){if(1&t&&(l.Ub(0,"mat-cell",63),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",l.ic(2,1,"CATEGORY_"+(null==n.category?null:n.category.toUpperCase().split(" ").join("_")))," ")}}function Ro(t,e){1&t&&(l.Ub(0,"mat-header-cell",64),l.Hc(1,"LABEL_TAGS"),l.Tb())}function Mo(t,e){if(1&t&&(l.Ub(0,"mat-chip-list"),l.Ub(1,"mat-chip",67),l.hc(2,"translate"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("matTooltip",l.ic(2,2,"TAG_"+(null==n?null:n.toUpperCase().split(" ").join("_"))+"_DESCRIPTION")),l.Cb(2),l.Jc(" ",l.ic(4,4,"TAG_"+(null==n?null:n.toUpperCase().split(" ").join("_")))," ")}}function No(t,e){if(1&t&&(l.Ub(0,"span"),l.Fc(1,Mo,5,6,"mat-chip-list",58),l.Tb()),2&t){var n=l.gc().$implicit;l.Cb(1),l.mc("ngForOf",n.tags.split(",").sort())}}function Bo(t,e){if(1&t&&(l.Ub(0,"mat-cell",65),l.Fc(1,No,2,1,"span",66),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("ngIf",n.tags)}}function jo(t,e){1&t&&(l.Ub(0,"mat-header-cell",55),l.Hc(1,"LABEL_STATUS"),l.Tb())}function Go(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",71),l.cc("click",function(){l.xc(n);var t=l.gc().$implicit;return l.gc(2).startHackingInstructor(t.name)}),l.hc(1,"translate"),l.Ub(2,"mat-icon"),l.Hc(3," school "),l.Tb(),l.Tb()}2&t&&l.mc("matTooltip",l.ic(1,1,"INFO_HACKING_INSTRUCTOR"))}function Vo(t,e){if(1&t&&(l.Ub(0,"a",72),l.Ub(1,"button",73),l.hc(2,"translate"),l.Ub(3,"mat-icon"),l.Hc(4," policy "),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.gc().$implicit;l.mc("href",n.mitigationUrl,l.Ac),l.Cb(1),l.mc("matTooltip",l.ic(2,2,"INFO_VULNERABILITY_MITIGATION_LINK"))}}function qo(t,e){if(1&t&&(l.Ub(0,"mat-cell"),l.Pb(1,"app-challenge-status-badge",68),l.Fc(2,Go,4,3,"button",69),l.Fc(3,Vo,5,4,"a",70),l.Tb()),2&t){var n=e.$implicit,a=l.gc(2);l.Cb(1),l.mc("challenge",n)("allowRepeatNotifications",a.allowRepeatNotifications)("showChallengeHints",a.showChallengeHints),l.Cb(1),l.mc("ngIf",a.showHackingInstructor&&!n.solved&&!n.disabledEnv&&n.hasTutorial),l.Cb(1),l.mc("ngIf",a.showVulnerabilityMitigations&&n.solved&&n.mitigationUrl)}}function Jo(t,e){1&t&&l.Pb(0,"mat-header-row")}function Yo(t,e){1&t&&l.Pb(0,"mat-row")}function zo(t,e){if(1&t&&(l.Ub(0,"mat-table",36),l.Sb(1,37),l.Fc(2,Po,2,0,"mat-header-cell",38),l.Fc(3,xo,2,1,"mat-cell",39),l.Rb(),l.Sb(4,40),l.Fc(5,_o,2,0,"mat-header-cell",41),l.Fc(6,Ao,2,1,"mat-cell",42),l.Rb(),l.Sb(7,43),l.Fc(8,Eo,2,0,"mat-header-cell",44),l.Fc(9,Lo,2,1,"mat-cell",45),l.Rb(),l.Sb(10,46),l.Fc(11,Do,2,0,"mat-header-cell",47),l.Fc(12,Fo,3,3,"mat-cell",48),l.Rb(),l.Sb(13,49),l.Fc(14,Ro,2,0,"mat-header-cell",50),l.Fc(15,Bo,2,1,"mat-cell",51),l.Rb(),l.Sb(16,52),l.Fc(17,jo,2,0,"mat-header-cell",38),l.Fc(18,qo,4,5,"mat-cell",39),l.Rb(),l.Fc(19,Jo,1,0,"mat-header-row",53),l.Fc(20,Yo,1,0,"mat-row",54),l.Tb()),2&t){var n=l.gc();l.mc("dataSource",n.filterToDataSource(n.challenges))("trackBy",n.trackById),l.Cb(19),l.mc("matHeaderRowDef",n.displayedColumns),l.Cb(1),l.mc("matRowDefColumns",n.displayedColumns)}}function Wo(t,e){1&t&&(l.Pb(0,"mat-card",78),l.hc(1,"translate")),2&t&&l.mc("innerHTML",l.ic(1,1,"CALL_FOR_CONTRIBUTIONS"),l.yc)}var Qo=function(t,e){return{appname:t,questionnaire:e}};function Ko(t,e){if(1&t&&(l.Pb(0,"mat-card",79),l.hc(1,"translate")),2&t){var n=l.gc(2);l.mc("innerHTML",l.jc(1,1,"CALL_FOR_FEEDBACK",l.sc(4,Qo,n.appName,n.questionnaireUrl)),l.yc)}}function $o(t,e){if(1&t&&(l.Ub(0,"div",74),l.Fc(1,Wo,2,3,"mat-card",75),l.Pb(2,"span",76),l.Fc(3,Ko,2,7,"mat-card",77),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.mc("ngIf",n.showContributionInfoBox),l.Cb(2),l.mc("ngIf",n.questionnaireUrl)}}g.b.add(C.L,T.d,v.e,v.d,v.b,C.W,C.C),g.a.watch();var Zo,Xo,tr=((Xo=function(){function e(t,n,a,i,o,c,s,l){r(this,e),this.configurationService=t,this.challengeService=n,this.sanitizer=a,this.ngZone=i,this.io=o,this.spinner=c,this.translate=s,this.localBackupService=l,this.availableDifficulties=[1,2,3,4,5,6],this.displayedDifficulties=[1],this.availableChallengeCategories=[],this.displayedChallengeCategories=[],this.toggledMajorityOfDifficulties=!1,this.toggledMajorityOfCategories=!0,this.showSolvedChallenges=!0,this.numDisabledChallenges=0,this.showDisabledChallenges=!1,this.showOnlyTutorialChallenges=!1,this.restrictToTutorialsFirst=!1,this.allTutorialsCompleted=!1,this.isLastTutorialsTier=!1,this.tutorialsTier=1,this.displayedColumns=["name","difficulty","description","category","tags","status"],this.offsetValue=["100%","100%","100%","100%","100%","100%"],this.allowRepeatNotifications=!1,this.showChallengeHints=!0,this.showVulnerabilityMitigations=!0,this.showHackingInstructor=!0,this.challenges=[],this.percentChallengesSolved="0",this.solvedChallengesOfDifficulty=[[],[],[],[],[],[]],this.totalChallengesOfDifficulty=[[],[],[],[],[],[]],this.showContributionInfoBox=!0,this.questionnaireUrl="https://forms.gle/2Tr5m1pqnnesApxN8",this.appName="OWASP Juice Shop",this.localBackupEnabled=!0}return s(e,[{key:"ngOnInit",value:function(){var t=this;this.spinner.show(),this.displayedDifficulties=localStorage.getItem("displayedDifficulties")?JSON.parse(String(localStorage.getItem("displayedDifficulties"))):[1],this.showSolvedChallenges=!localStorage.getItem("showSolvedChallenges")||JSON.parse(String(localStorage.getItem("showSolvedChallenges"))),this.showDisabledChallenges=!!localStorage.getItem("showDisabledChallenges")&&JSON.parse(String(localStorage.getItem("showDisabledChallenges"))),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a,o;t.allowRepeatNotifications=e.challenges.showSolvedNotifications&&(null===(n=e.ctf)||void 0===n?void 0:n.showFlagsInNotifications),t.showChallengeHints=e.challenges.showHints,t.showVulnerabilityMitigations=e.challenges.showMitigations,t.showHackingInstructor=null===(a=e.hackingInstructor)||void 0===a?void 0:a.isEnabled,t.showContributionInfoBox=e.application.showGitHubLinks,t.questionnaireUrl=null===(o=e.application.social)||void 0===o?void 0:o.questionnaireUrl,t.appName=e.application.name,t.restrictToTutorialsFirst=e.challenges.restrictToTutorialsFirst,t.showOnlyTutorialChallenges=localStorage.getItem("showOnlyTutorialChallenges")?JSON.parse(String(localStorage.getItem("showOnlyTutorialChallenges"))):t.restrictToTutorialsFirst,t.localBackupEnabled=e.application.localBackupEnabled,t.challengeService.find({sort:"name"}).subscribe(function(e){t.challenges=e;for(var n=function(n){t.augmentHintText(t.challenges[n]),t.trustDescriptionHtml(t.challenges[n]),"Score Board"===t.challenges[n].name&&(t.challenges[n].solved=!0),t.availableChallengeCategories.includes(e[n].category)||t.availableChallengeCategories.push(e[n].category),t.showHackingInstructor&&i.e(5).then(i.bind(null,"s2oO")).then(function(t){e[n].hasTutorial=t.hasInstructions(e[n].name)})},a=0;a<t.challenges.length;a++)n(a);t.availableChallengeCategories.sort(function(t,e){return t.localeCompare(e)}),t.displayedChallengeCategories=localStorage.getItem("displayedChallengeCategories")?JSON.parse(String(localStorage.getItem("displayedChallengeCategories"))):t.availableChallengeCategories,t.calculateProgressPercentage(),t.populateFilteredChallengeLists(),t.calculateGradientOffsets(e),t.calculateTutorialTier(e),t.toggledMajorityOfDifficulties=t.determineToggledMajorityOfDifficulties(),t.toggledMajorityOfCategories=t.determineToggledMajorityOfCategories(),t.showOnlyTutorialChallenges&&t.challenges.sort(function(t,e){return t.tutorialOrder-e.tutorialOrder}),t.spinner.hide()},function(e){t.challenges=[],console.log(e)})},function(t){return console.log(t)}),this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){if(null==e?void 0:e.challenge){for(var n=0;n<t.challenges.length;n++)if(t.challenges[n].name===e.name){t.challenges[n].solved=!0;break}t.calculateProgressPercentage(),t.populateFilteredChallengeLists(),t.calculateGradientOffsets(t.challenges),t.calculateTutorialTier(t.challenges)}})})}},{key:"augmentHintText",value:function(t){t.disabledEnv?(this.numDisabledChallenges++,this.disabledEnv=t.disabledEnv,this.translate.get("CHALLENGE_UNAVAILABLE",{env:t.disabledEnv}).subscribe(function(e){t.hint=e},function(e){t.hint=e})):t.hintUrl&&(t.hint?this.translate.get("CLICK_FOR_MORE_HINTS").subscribe(function(e){t.hint+=" "+e},function(e){t.hint+=" "+e}):this.translate.get("CLICK_TO_OPEN_HINTS").subscribe(function(e){t.hint=e},function(e){t.hint=e}))}},{key:"trustDescriptionHtml",value:function(t){t.description=this.sanitizer.bypassSecurityTrustHtml(t.description)}},{key:"calculateProgressPercentage",value:function(){for(var t=0,e=0;e<this.challenges.length;e++)t+=this.challenges[e].solved?1:0;this.percentChallengesSolved=(100*t/this.challenges.length).toFixed(0)}},{key:"calculateTutorialTier",value:function(t){var e=this;this.allTutorialsCompleted=!0,this.isLastTutorialsTier=!0,this.tutorialsTier=1;for(var n=function(n){var a=t.filter(function(t){return t.tutorialOrder&&t.difficulty===n}).length,i=t.filter(function(t){return t.tutorialOrder&&t.difficulty===n&&t.solved}).length;e.allTutorialsCompleted=e.allTutorialsCompleted&&a===i,e.tutorialsTier===n&&a===i&&e.tutorialsTier++},a=1;a<=6;a++)n(a);if(!this.allTutorialsCompleted){this.isLastTutorialsTier=0===t.filter(function(t){return t.tutorialOrder&&!t.solved&&t.difficulty>e.tutorialsTier}).length;for(var i=1;i<=this.tutorialsTier;i++)this.displayedDifficulties.includes(i)||this.toggleDifficulty(this.tutorialsTier)}}},{key:"calculateGradientOffsets",value:function(t){for(var e=1;e<=6;e++)this.offsetValue[e-1]=this.calculateGradientOffset(t,e)}},{key:"calculateGradientOffset",value:function(t,e){for(var n=0,a=0,i=0;i<t.length;i++)t[i].difficulty===e&&(a++,t[i].solved&&n++);var o=Math.round(100*n/a);return+(o=100-o)+"%"}},{key:"toggleDifficulty",value:function(t){this.displayedDifficulties.includes(t)?this.displayedDifficulties=this.displayedDifficulties.filter(function(e){return e!==t}):this.displayedDifficulties.push(t),localStorage.setItem("displayedDifficulties",JSON.stringify(this.displayedDifficulties)),this.toggledMajorityOfDifficulties=this.determineToggledMajorityOfDifficulties()}},{key:"toggleAllDifficulty",value:function(){this.toggledMajorityOfDifficulties?(this.displayedDifficulties=[],this.toggledMajorityOfDifficulties=!1):(this.displayedDifficulties=this.availableDifficulties,this.toggledMajorityOfDifficulties=!0),localStorage.setItem("displayedDifficulties",JSON.stringify(this.displayedDifficulties))}},{key:"toggleShowSolvedChallenges",value:function(){this.showSolvedChallenges=!this.showSolvedChallenges,localStorage.setItem("showSolvedChallenges",JSON.stringify(this.showSolvedChallenges))}},{key:"toggleShowDisabledChallenges",value:function(){this.showDisabledChallenges=!this.showDisabledChallenges,localStorage.setItem("showDisabledChallenges",JSON.stringify(this.showDisabledChallenges))}},{key:"toggleShowOnlyTutorialChallenges",value:function(){this.showOnlyTutorialChallenges=!this.showOnlyTutorialChallenges,localStorage.setItem("showOnlyTutorialChallenges",JSON.stringify(this.showOnlyTutorialChallenges)),this.challenges.sort(this.showOnlyTutorialChallenges?function(t,e){return t.tutorialOrder-e.tutorialOrder}:function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})}},{key:"toggleShowChallengeCategory",value:function(t){this.displayedChallengeCategories.includes(t)?this.displayedChallengeCategories=this.displayedChallengeCategories.filter(function(e){return e!==t}):this.displayedChallengeCategories.push(t),localStorage.setItem("displayedChallengeCategories",JSON.stringify(this.displayedChallengeCategories)),this.toggledMajorityOfCategories=this.determineToggledMajorityOfCategories()}},{key:"toggleAllChallengeCategory",value:function(){this.toggledMajorityOfCategories?(this.displayedChallengeCategories=[],this.toggledMajorityOfCategories=!1):(this.displayedChallengeCategories=this.availableChallengeCategories,this.toggledMajorityOfCategories=!0),localStorage.setItem("displayedChallengeCategories",JSON.stringify(this.displayedChallengeCategories))}},{key:"determineToggledMajorityOfDifficulties",value:function(){return this.displayedDifficulties.length>this.availableDifficulties.length/2}},{key:"determineToggledMajorityOfCategories",value:function(){return this.displayedChallengeCategories.length>this.availableChallengeCategories.length/2}},{key:"filterToDataSource",value:function(t){var e=this;t=t.filter(function(t){return!(!e.displayedDifficulties.includes(t.difficulty)||!e.displayedChallengeCategories.includes(t.category)||!e.showSolvedChallenges&&t.solved||!e.showDisabledChallenges&&t.disabledEnv||e.showOnlyTutorialChallenges&&!t.hasTutorial)});var n=new W.o;return n.data=t,n}},{key:"populateFilteredChallengeLists",value:function(){var e,n=this,a=t(this.availableDifficulties);try{var i=function(){var t=e.value;0===n.challenges.length?(n.totalChallengesOfDifficulty[t-1]=[],n.solvedChallengesOfDifficulty[t-1]=[]):(n.totalChallengesOfDifficulty[t-1]=n.challenges.filter(function(e){return e.difficulty===t}),n.solvedChallengesOfDifficulty[t-1]=n.challenges.filter(function(e){return e.difficulty===t&&e.solved}))};for(a.s();!(e=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}},{key:"startHackingInstructor",value:function(t){console.log('Starting instructions for challenge "'.concat(t,'"')),i.e(5).then(i.bind(null,"s2oO")).then(function(e){e.startHackingInstructorFor(t)})}},{key:"trackById",value:function(t,e){return e.id}},{key:"times",value:function(t){return Array(t).fill("\u2605")}},{key:"saveBackup",value:function(){this.localBackupService.save(this.appName.toLowerCase().replace(/ /,"_"))}},{key:"restoreBackup",value:function(t){this.localBackupService.restore(t)}}]),e}()).\u0275fac=function(t){return new(t||Xo)(l.Ob(h),l.Ob(no),l.Ob(u.c),l.Ob(l.B),l.Ob(An),l.Ob(ro.c),l.Ob(U.e),l.Ob(oo))},Xo.\u0275cmp=l.Ib({type:Xo,selectors:[["app-score-board"]],decls:38,vars:34,consts:[["fxLayout","column"],[1,"confirmation"],["mode","determinate",3,"color","value"],["fxLayout","row wrap",1,"star-container"],["matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngFor","ngForOf"],["id","btnToggleAllDifficulties",1,"mat-button",3,"disabled","click"],["matTooltipPosition","above",3,"checked","disabled","matTooltip","change"],["aria-hidden","true",1,"fa-2x","fas","fa-trophy"],["id","btnToggleShowOnlyTutorialChallenges","matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngIf"],["matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngIf"],["mat-fab","","class","backupButton","color","primary","aria-label","Button to save local backup","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],[1,"form-group"],["type","file",2,"display","none",3,"change"],["restoreBackupFile",""],["mat-fab","","class","backupButton","color","primary","aria-label","Button to restore local backup","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["class","disabled-challenges-infoBox mat-button",3,"innerHTML",4,"ngIf"],["fxLayout","row wrap",1,"category-container"],["class","category-toggle","appearance","legacy","matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngFor","ngForOf"],[1,"mat-button",3,"disabled","click"],[3,"dataSource","trackBy",4,"ngIf"],["fxLayout","row","fxLayout.lt-lg","column",4,"ngIf"],["src","assets/public/images/padding/1px.png"],["type","timer","size","large",1,"overlay-fullscreen"],[1,"fa-4x","fa-layers","fa-fw",2,"display","block","margin","5px"],["aria-hidden","true","data-prefix","fa","data-icon","star","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512","data-fa-i2svg","","stroke-width","10",1,"svg-inline--fa","fa-star","fa-w-18","star-border"],["x1","0","x2","0","y1","0","y2","100%",3,"id"],[1,"empty-star"],[1,"filled-star"],["d","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"],["data-fa-transform","shrink-9",1,"fa-layers-text","fa-inverse",2,"font-weight","900"],["id","btnToggleShowOnlyTutorialChallenges","matTooltipPosition","above",3,"checked","disabled","matTooltip","change"],["aria-hidden","true",1,"fa-2x","fas","fa-exclamation-circle"],["mat-fab","","color","primary","aria-label","Button to save local backup","matTooltipPosition","above",1,"backupButton",3,"matTooltip","click"],["mat-fab","","color","primary","aria-label","Button to restore local backup","matTooltipPosition","above",1,"backupButton",3,"matTooltip","click"],[1,"disabled-challenges-infoBox","mat-button",3,"innerHTML"],["appearance","legacy","matTooltipPosition","above",1,"category-toggle",3,"checked","disabled","matTooltip","change"],[3,"dataSource","trackBy"],["matColumnDef","name"],["translate","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","difficulty"],["fxShow","","fxHide.lt-sm","","translate","",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-sm","",4,"matCellDef"],["matColumnDef","description"],["fxFlex","1 1 38%","translate","",4,"matHeaderCellDef"],["fxFlex","1 1 38%",4,"matCellDef"],["matColumnDef","category"],["fxShow","","fxHide.lt-md","","translate","",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-md","",4,"matCellDef"],["matColumnDef","tags"],["fxShow","","fxHide.lt-lg","","translate","",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-lg","",4,"matCellDef"],["matColumnDef","status"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["translate",""],["fxShow","","fxHide.lt-sm","","translate",""],["fxShow","","fxHide.lt-sm",""],[4,"ngFor","ngForOf"],["fxFlex","1 1 38%","translate",""],["fxFlex","1 1 38%"],[3,"innerHTML"],["fxShow","","fxHide.lt-md","","translate",""],["fxShow","","fxHide.lt-md",""],["fxShow","","fxHide.lt-lg","","translate",""],["fxShow","","fxHide.lt-lg",""],[4,"ngIf"],[3,"matTooltip"],[3,"challenge","allowRepeatNotifications","showChallengeHints"],["mat-raised-button","","color","warn","matTooltipPosition","above","class","hacking-instructor-button",3,"matTooltip","click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["mat-raised-button","","color","warn","matTooltipPosition","above",1,"hacking-instructor-button",3,"matTooltip","click"],["target","_blank",3,"href"],["mat-raised-button","","color","accent","matTooltipPosition","above",1,"vulnerability-mitigation-button",3,"matTooltip"],["fxLayout","row","fxLayout.lt-lg","column"],["fxFlex","40%","fxFlex.lt-lg","100%","class","primary-notification",3,"innerHTML",4,"ngIf"],[1,"fill-remaining-space"],["fxFlex","20%","fxFlex.lt-lg","100%","class","warn-notification",3,"innerHTML",4,"ngIf"],["fxFlex","40%","fxFlex.lt-lg","100%",1,"primary-notification",3,"innerHTML"],["fxFlex","20%","fxFlex.lt-lg","100%",1,"warn-notification",3,"innerHTML"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card"),l.Ub(2,"mat-card-title"),l.Hc(3),l.hc(4,"translate"),l.Ub(5,"small",1),l.Hc(6),l.Tb(),l.Tb(),l.Pb(7,"mat-progress-bar",2),l.Tb(),l.Ub(8,"mat-card"),l.Ub(9,"div",3),l.Fc(10,To,14,23,"mat-button-toggle",4),l.Ub(11,"button",5),l.cc("click",function(){return e.toggleAllDifficulty()}),l.Hc(12),l.hc(13,"translate"),l.Tb(),l.Ub(14,"mat-button-toggle",6),l.cc("change",function(){return e.toggleShowSolvedChallenges()}),l.hc(15,"translate"),l.Pb(16,"i",7),l.Hc(17),l.hc(18,"translate"),l.Tb(),l.Fc(19,yo,6,11,"mat-button-toggle",8),l.Fc(20,wo,5,11,"mat-button-toggle",9),l.Fc(21,Uo,4,3,"button",10),l.Ub(22,"div",11),l.Ub(23,"input",12,13),l.cc("change",function(t){return e.restoreBackup(t.target.files.item(0))}),l.Tb(),l.Tb(),l.Fc(25,So,4,3,"button",14),l.Fc(26,ko,2,7,"div",15),l.Tb(),l.Pb(27,"mat-divider"),l.Ub(28,"div",16),l.Fc(29,Io,5,13,"mat-button-toggle",17),l.Ub(30,"button",18),l.cc("click",function(){return e.toggleAllChallengeCategory()}),l.Hc(31),l.hc(32,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Ub(33,"mat-card"),l.Fc(34,zo,21,4,"mat-table",19),l.Tb(),l.Fc(35,$o,4,2,"div",20),l.Tb(),l.Pb(36,"img",21),l.Pb(37,"ngx-spinner",22)),2&t&&(l.Cb(3),l.Jc("",l.ic(4,21,"TITLE_SCORE_BOARD")," "),l.Cb(3),l.Jc("",e.percentChallengesSolved,"%"),l.Cb(1),l.mc("color","accent")("value",e.percentChallengesSolved),l.Cb(3),l.mc("ngForOf",e.availableDifficulties),l.Cb(1),l.mc("disabled",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted),l.Cb(1),l.Ic(l.ic(13,23,e.toggledMajorityOfDifficulties?"BTN_HIDE_ALL":"BTN_SHOW_ALL")),l.Cb(2),l.mc("checked",e.showSolvedChallenges)("disabled",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted)("matTooltip",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted?l.jc(15,25,"INFO_FULL_CHALLENGE_MODE",l.rc(32,vo,e.challenges.length)):""),l.Cb(3),l.Jc(" ",l.ic(18,28,"BTN_SHOW_SOLVED")," "),l.Cb(2),l.mc("ngIf",e.showHackingInstructor),l.Cb(1),l.mc("ngIf",e.numDisabledChallenges>0),l.Cb(1),l.mc("ngIf",e.localBackupEnabled),l.Cb(4),l.mc("ngIf",e.localBackupEnabled),l.Cb(1),l.mc("ngIf",e.numDisabledChallenges>0&&e.showDisabledChallenges),l.Cb(3),l.mc("ngForOf",e.availableChallengeCategories),l.Cb(1),l.mc("disabled",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted),l.Cb(1),l.Ic(l.ic(32,30,e.toggledMajorityOfCategories?"BTN_HIDE_ALL":"BTN_SHOW_ALL")),l.Cb(3),l.mc("ngIf",e.challenges),l.Cb(1),l.mc("ngIf",e.showContributionInfoBox||e.questionnaireUrl))},directives:[w.d,y.a,y.g,co.a,Q.k,so.a,Ke.a,Q.l,hn.a,ro.a,Qe.a,S.a,W.n,W.c,W.i,W.b,W.k,W.m,W.h,U.a,W.a,K.b,w.b,lo.b,lo.a,go,W.j,W.l],pipes:[U.d],styles:["footer[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:35px;margin-left:35px;margin-right:35px;min-width:300px}.category-container[_ngcontent-%COMP%], mat-table[_ngcontent-%COMP%]{margin-top:25px}.star-container[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:25px}.star-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{cursor:pointer}.mat-column-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{cursor:auto}.mat-column-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{cursor:pointer}.heading[_ngcontent-%COMP%]{padding-top:5px}.mat-raised-button[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.category-toggle[_ngcontent-%COMP%]{font-size:small}.overlay-fullscreen[_ngcontent-%COMP%]     .black-overlay{position:fixed}.hacking-instructor-button[_ngcontent-%COMP%], .vulnerability-mitigation-button[_ngcontent-%COMP%]{margin-left:8px}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.disabled-challenges-infoBox[_ngcontent-%COMP%]{align-self:center;color:#e64a19;cursor:default;height:100%;margin:0}.disabled-challenges-infoBox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#546e7a;font-style:normal}.backupButton[_ngcontent-%COMP%]{align-self:center;margin-left:15px}"]}),Xo),er=((Zo=function(){function t(e){r(this,t),this.http=e}return s(t,[{key:"verify",value:function(t){return this.http.post("./rest/2fa/verify",{tmpToken:localStorage.getItem("totp_tmp_token"),totpToken:t}).pipe(Object(f.a)(function(t){return t.authentication}),Object(p.a)(function(t){throw t}))}},{key:"status",value:function(){return this.http.get("./rest/2fa/status").pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"setup",value:function(t,e,n){return this.http.post("./rest/2fa/setup",{password:t,setupToken:n,initialToken:e}).pipe(Object(f.a)(function(){}),Object(p.a)(function(t){throw t}))}},{key:"disable",value:function(t){return this.http.post("./rest/2fa/disable",{password:t}).pipe(Object(f.a)(function(){}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Zo)(l.Yb(b.b))},Zo.\u0275prov=l.Kb({token:Zo,factory:Zo.\u0275fac,providedIn:"root"}),Zo);function nr(t,e){1&t&&(l.Ub(0,"div",13),l.Hc(1,"INVALID_TWO_FACTOR_AUTH_TOKEN"),l.Tb())}g.b.add(C.bb),g.a.watch();var ar,ir=((ar=function(){function t(e,n,a,i,o){r(this,t),this.twoFactorAuthService=e,this.cookieService=n,this.userService=a,this.router=i,this.ngZone=o,this.twoFactorForm=new m.g({token:new m.d("",[m.y.minLength(6),m.y.maxLength(6),m.y.required,m.y.pattern("^[\\d]{6}$")])}),this.errored=!1}return s(t,[{key:"verify",value:function(){var t=this;this.twoFactorAuthService.verify(this.twoFactorForm.value.token).subscribe(function(e){localStorage.setItem("token",e.token);var n=new Date;n.setHours(n.getHours()+8),t.cookieService.set("token",e.token,n,"/"),sessionStorage.setItem("bid",e.bid.toString()),t.userService.isLoggedIn.next(!0),t.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/search"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))},function(e){return t.errored=!0,setTimeout(function(){t.errored=!1},5e3),e})}}]),t}()).\u0275fac=function(t){return new(t||ar)(l.Ob(er),l.Ob(d.a),l.Ob(R),l.Ob(M.b),l.Ob(l.B))},ar.\u0275cmp=l.Ib({type:ar,selectors:[["app-two-factor-auth-enter"]],decls:27,vars:13,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["class","error","style","margin-bottom: 10px;","translate","",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-container"],["id","inputToken","appearance","outline","color","accent"],["formControlName","token","type","text","minlength","6","maxlength","6","pattern","^[\\d]{6}$","matInput","","id","totpToken","aria-label","Field for entering the Two Factor token",3,"placeholder"],["tokenInput",""],["matSuffix","","matTooltipPosition","right","aria-label","The code to be entered from the authenticator must have 6 digits.",3,"matTooltip"],["align","end"],["type","submit","color","primary","mat-raised-button","","id","totpSubmitButton","aria-label","Button to confirm the input",3,"disabled"],[1,"material-icons"],["translate","",1,"error",2,"margin-bottom","10px"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_TWO_FACTOR_AUTHENTICATION"),l.Tb(),l.Ub(4,"p",2),l.Hc(5,"TITLE_TWO_FACTOR_AUTH_ENTER"),l.Tb(),l.Fc(6,nr,2,0,"div",3),l.Ub(7,"form",4),l.cc("ngSubmit",function(){return e.verify()}),l.Ub(8,"div",5),l.Ub(9,"mat-form-field",6),l.Ub(10,"mat-label",2),l.Hc(11,"LABEL_TWO_FACTOR_AUTH_TOKEN"),l.Tb(),l.Pb(12,"input",7,8),l.hc(14,"translate"),l.Ub(15,"mat-icon",9),l.hc(16,"translate"),l.Hc(17," help_outline "),l.Tb(),l.Ub(18,"mat-hint",10),l.Hc(19),l.Tb(),l.Ub(20,"mat-error",2),l.Hc(21,"INVALID_TWO_FACTOR_AUTH_TOKEN"),l.Tb(),l.Tb(),l.Tb(),l.Ub(22,"button",11),l.Ub(23,"i",12),l.Hc(24," lock_open "),l.Tb(),l.Hc(25),l.hc(26,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(13);l.Cb(6),l.mc("ngIf",e.errored),l.Cb(1),l.mc("formGroup",e.twoFactorForm),l.Cb(5),l.nc("placeholder",l.ic(14,7,"2FA_ENTER_CODE_PLACEHOLDER")),l.Cb(3),l.nc("matTooltip",l.ic(16,9,"INITIAL_TOKEN_TOOLTIP")),l.Cb(4),l.Jc("",(null==n.value?null:n.value.length)||0,"/6"),l.Cb(3),l.mc("disabled",e.twoFactorForm.invalid),l.Cb(3),l.Jc(" ",l.ic(26,11,"BTN_LOGIN")," ")}},directives:[w.c,y.a,U.a,Q.l,m.A,m.p,m.h,ee.c,ee.g,m.c,ne.b,m.o,m.f,m.k,m.j,m.u,Qe.a,ee.h,Ke.a,ee.f,ee.b,S.a],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}#totpSubmitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}#inputToken[_ngcontent-%COMP%]{width:100%}"]}),ar);g.b.add(C.hb,C.s),g.a.watch();var or,rr,cr=((or=function(){function t(e,n){r(this,t),this.route=e,this.translate=n,this.error=null}return s(t,[{key:"ngOnInit",value:function(){var t=this,e=this.route.snapshot.queryParams.error;e&&this.translate.get(e).subscribe(function(e){t.error=e},function(e){t.error=e})}}]),t}()).\u0275fac=function(t){return new(t||or)(l.Ob(M.a),l.Ob(U.e))},or.\u0275cmp=l.Ib({type:or,selectors:[["app-error-page"]],decls:7,vars:1,consts:[[1,"warn-notification","mat-elevation-z6"],[1,"mat-display-3"],[1,"fas","fa-hand-paper"],[1,"mat-subheading-2"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"div"),l.Ub(2,"div",1),l.Pb(3,"i",2),l.Hc(4," 403"),l.Tb(),l.Ub(5,"span",3),l.Hc(6),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(6),l.Ic(e.error))},directives:[y.a],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),or),sr=i("HeVh"),lr=i("q7Ft"),ur=((rr=function(){function t(e){r(this,t),this.breakpointObserver=e,this.windowWidth=window.innerWidth,this.isHandset$=this.breakpointObserver.observe(sr.b.Handset).pipe(Object(f.a)(function(t){return t.matches}))}return s(t,[{key:"ngAfterViewInit",value:function(){this.windowWidth=window.innerWidth}}]),t}()).\u0275fac=function(t){return new(t||rr)(l.Ob(sr.a))},rr.\u0275cmp=l.Ib({type:rr,selectors:[["app-privacy-security"]],decls:3,vars:0,consts:[[1,"sidenav-container"]],template:function(t,e){1&t&&(l.Ub(0,"mat-sidenav-container",0),l.Ub(1,"mat-sidenav-content"),l.Pb(2,"router-outlet"),l.Tb(),l.Tb())},directives:[lr.b,lr.c,M.f],styles:[""]}),rr),br=i("WF00");function dr(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",5),l.Ub(1,"p",6),l.Hc(2,"2FA_SUCCESSFUL_SETUP"),l.Tb(),l.Ub(3,"form",7),l.cc("ngSubmit",function(){return l.xc(n),l.gc().disable()}),l.Ub(4,"h2",8),l.Hc(5,"REMOVE_TWO_FACTOR_AUTH"),l.Tb(),l.Ub(6,"div",9),l.Hc(7,"2FA_SETUP_ERROR"),l.Tb(),l.Ub(8,"mat-form-field",10),l.Ub(9,"mat-label",6),l.Hc(10,"LABEL_CURRENT_PASSWORD"),l.Tb(),l.Pb(11,"input",11),l.hc(12,"translate"),l.Tb(),l.Ub(13,"button",12),l.Ub(14,"i",13),l.Hc(15," remove_circle_outline "),l.Tb(),l.Hc(16),l.hc(17,"translate"),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(3),l.mc("formGroup",a.twoFactorDisableForm),l.Cb(3),l.mc("hidden",!(a.errored&&!a.twoFactorDisableForm.dirty)),l.Cb(5),l.nc("placeholder",l.ic(12,5,"MANDATORY_CURRENT_PASSWORD")),l.Cb(2),l.mc("disabled",a.twoFactorDisableForm.invalid),l.Cb(3),l.Jc(" ",l.ic(17,7,"BTN_REMOVE")," ")}}function mr(t,e){if(1&t){var n=l.Vb();l.Ub(0,"form",14),l.cc("ngSubmit",function(){return l.xc(n),l.gc().setup()}),l.Ub(1,"span",15),l.Hc(2,"2FA_AUTH_SETUP_INSTRUCTIONS"),l.Tb(),l.Ub(3,"div",16),l.Pb(4,"qr-code",17),l.Tb(),l.Ub(5,"div",9),l.Hc(6,"2FA_SETUP_ERROR"),l.Tb(),l.Ub(7,"mat-form-field",10),l.Ub(8,"mat-label",6),l.Hc(9,"LABEL_CURRENT_PASSWORD"),l.Tb(),l.Pb(10,"input",18),l.hc(11,"translate"),l.Tb(),l.Ub(12,"mat-form-field",10),l.Ub(13,"mat-label",6),l.Hc(14,"INITIAL_CODE"),l.Tb(),l.Pb(15,"input",19,20),l.hc(17,"translate"),l.Ub(18,"mat-error",6),l.Hc(19,"INVALID_TWO_FACTOR_AUTH_TOKEN"),l.Tb(),l.Ub(20,"mat-icon",21),l.hc(21,"translate"),l.Hc(22," help_outline "),l.Tb(),l.Ub(23,"mat-hint",22),l.Hc(24),l.Tb(),l.Tb(),l.Ub(25,"button",23),l.Ub(26,"i",13),l.Hc(27," save "),l.Tb(),l.Hc(28),l.hc(29,"translate"),l.Tb(),l.Tb()}if(2&t){var a=l.uc(16),i=l.gc();l.mc("formGroup",i.twoFactorSetupForm),l.Cb(4),l.mc("value",i.totpUrl)("size",300)("level","L"),l.Cb(1),l.mc("hidden",!(i.errored&&!i.twoFactorSetupForm.dirty)),l.Cb(5),l.nc("placeholder",l.ic(11,12,"MANDATORY_CURRENT_PASSWORD")),l.Cb(5),l.nc("placeholder",l.ic(17,14,"INITIAL_CODE_PLACEHOLDER")),l.Db("data-test-totp-secret",i.totpSecret),l.Cb(5),l.nc("matTooltip",l.ic(21,16,"INITIAL_TOKEN_TOOLTIP")),l.Cb(4),l.Jc("",(null==a.value?null:a.value.length)||0,"/6"),l.Cb(1),l.mc("disabled",i.twoFactorSetupForm.invalid),l.Cb(3),l.Jc(" ",l.ic(29,18,"BTN_SAVE")," ")}}g.b.add(C.bb,C.F),g.a.watch();var fr,pr,hr=((pr=function(){function t(e,n,a,i,o){r(this,t),this.twoFactorAuthService=e,this.configurationService=n,this.snackBar=a,this.translateService=i,this.snackBarHelperService=o,this.twoFactorSetupForm=new m.g({passwordControl:new m.d("",[m.y.required]),initalTokenControl:new m.d("",[m.y.required,m.y.pattern("^[\\d]{6}$")])}),this.twoFactorDisableForm=new m.g({passwordControl:new m.d("",[m.y.required])}),this.setupStatus=null,this.errored=null,this.appName="OWASP Juice Shop"}return s(t,[{key:"ngOnInit",value:function(){this.updateStatus()}},{key:"updateStatus",value:function(){var t=this,n=this.twoFactorAuthService.status(),a=this.configurationService.getApplicationConfiguration();return Object(_n.a)([n,a]).subscribe(function(n){var a=e(n,2),i=a[0],o=i.setup,r=i.email,c=i.secret,s=i.setupToken,l=a[1];if(t.setupStatus=o,t.appName=l.application.name,!o){var u=encodeURIComponent(t.appName);t.totpUrl="otpauth://totp/".concat(u,":").concat(r,"?secret=").concat(c,"&issuer=").concat(u),t.totpSecret=c,t.setupToken=s}},function(){console.log("Failed to fetch 2fa status")}),n}},{key:"setup",value:function(){var t,e,n=this;this.twoFactorAuthService.setup(null===(t=this.twoFactorSetupForm.get("passwordControl"))||void 0===t?void 0:t.value,null===(e=this.twoFactorSetupForm.get("initalTokenControl"))||void 0===e?void 0:e.value,this.setupToken).subscribe(function(){n.setupStatus=!0,n.snackBarHelperService.open("CONFIRM_2FA_SETUP")},function(){var t,e;null===(t=n.twoFactorSetupForm.get("passwordControl"))||void 0===t||t.markAsPristine(),null===(e=n.twoFactorSetupForm.get("initalTokenControl"))||void 0===e||e.markAsPristine(),n.errored=!0})}},{key:"disable",value:function(){var t,e=this;this.twoFactorAuthService.disable(null===(t=this.twoFactorDisableForm.get("passwordControl"))||void 0===t?void 0:t.value).subscribe(function(){e.updateStatus().subscribe(function(){e.setupStatus=!1}),e.snackBarHelperService.open("CONFIRM_2FA_DISABLE")},function(){var t;null===(t=e.twoFactorDisableForm.get("passwordControl"))||void 0===t||t.markAsPristine(),e.errored=!0})}}]),t}()).\u0275fac=function(t){return new(t||pr)(l.Ob(er),l.Ob(h),l.Ob(Y.a),l.Ob(U.e),l.Ob(z))},pr.\u0275cmp=l.Ib({type:pr,selectors:[["app-two-factor-auth"]],decls:6,vars:2,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["id","2fa-setup-title","translate",""],["id","2fa-setup-successfully",4,"ngIf"],["class","form-container","id","two-factor-auth-setup",3,"formGroup","ngSubmit",4,"ngIf"],["id","2fa-setup-successfully"],["translate",""],["id","two-factor-auth-disable",1,"form-container",3,"formGroup","ngSubmit"],["id","two-factor-auth-disable-title","translate",""],["translate","",1,"error",3,"hidden"],["appearance","outline","color","accent"],["id","currentPasswordDisable","formControlName","passwordControl","type","password","matInput","","aria-label","Field to enter the current password","autocomplete","off",3,"placeholder"],["type","submit","id","disableTwoFactorAuth","mat-raised-button","","color","warn","aria-label","Button to remove the two-factor authentication",3,"disabled"],[1,"material-icons"],["id","two-factor-auth-setup",1,"form-container",3,"formGroup","ngSubmit"],["id","2fa-setup-instructions","translate",""],["fxLayoutAlign","center",1,"two-factor-qr-code"],[3,"value","size","level"],["id","currentPasswordSetup","formControlName","passwordControl","type","password","matInput","","aria-label","Field to enter the current password","autocomplete","off",3,"placeholder"],["id","initalToken","formControlName","initalTokenControl","type","text","matInput","","aria-label","Field to enter the initial token. This must have 6 digits.","minlength","6","maxlength","6","pattern","^[\\d]{6}$",3,"placeholder"],["initToken",""],["matSuffix","","matTooltipPosition","right","aria-label","The token to be entered from the authenticator must have 6 digits.",3,"matTooltip"],["align","end"],["type","submit","id","setupTwoFactorAuth","mat-raised-button","","color","primary","aria-label","Button to complete the two-factor configuration",3,"disabled"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_TWO_FACTOR_AUTH_CONFIG"),l.Tb(),l.Fc(4,dr,18,9,"div",3),l.Fc(5,mr,30,20,"form",4),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.mc("ngIf",!0===e.setupStatus),l.Cb(1),l.mc("ngIf",!1===e.setupStatus))},directives:[w.c,y.a,U.a,Q.l,m.A,m.p,m.h,ee.c,ee.g,m.c,ne.b,m.o,m.f,S.a,br.a,m.k,m.j,m.u,ee.b,Qe.a,ee.h,Ke.a,ee.f],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-bottom:50px;margin-left:auto;margin-right:auto;min-width:320px;width:30%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#disableTwoFactorAuth[_ngcontent-%COMP%], #setupTwoFactorAuth[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.two-factor-qr-code[_ngcontent-%COMP%]{margin:16px 0}#two-factor-auth-disable[_ngcontent-%COMP%]{margin-top:32px}#two-factor-auth-disable-title[_ngcontent-%COMP%]{margin-bottom:0}button[_ngcontent-%COMP%]{margin-top:5px}"]}),pr),gr=((fr=function(){function t(e){r(this,t),this.http=e,this.hostServer="."}return s(t,[{key:"getCaptcha",value:function(){return this.http.get(this.hostServer+"/rest/image-captcha/").pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||fr)(l.Yb(b.b))},fr.\u0275prov=l.Kb({token:fr,factory:fr.\u0275fac,providedIn:"root"}),fr);function vr(t,e){if(1&t&&(l.Ub(0,"div"),l.Ub(1,"p",13),l.Hc(2),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(2),l.Ic(n.error)}}function Cr(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_CAPTCHA "),l.Tb())}function Tr(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_CAPTCHA "),l.Tb())}var yr=function(){return{length:"5"}};function wr(t,e){if(1&t&&(l.Ub(0,"div"),l.Ub(1,"div"),l.Ub(2,"span",14),l.Hc(3,"CAPTCHA "),l.Ub(4,"span"),l.Hc(5,":"),l.Tb(),l.Tb(),l.Pb(6,"div",15),l.Tb(),l.Ub(7,"mat-form-field",16),l.Ub(8,"mat-label",2),l.Hc(9,"ENTER_CAPTCHA"),l.Tb(),l.Pb(10,"input",17,18),l.hc(12,"translate"),l.Ub(13,"mat-hint",19),l.Hc(14),l.Tb(),l.Fc(15,Cr,2,0,"mat-error",20),l.Fc(16,Tr,2,0,"mat-error",20),l.Tb(),l.Tb()),2&t){var n=l.uc(11),a=l.gc();l.Cb(6),l.mc("innerHTML",a.captcha,l.yc),l.Cb(4),l.nc("placeholder",l.jc(12,6,"TYPE_THESE_LETTERS",l.qc(9,yr))),l.mc("formControl",a.captchaControl),l.Cb(4),l.Jc("",(null==n.value?null:n.value.length)||0,"/5"),l.Cb(1),l.mc("ngIf",a.captchaControl.invalid&&a.captchaControl.errors.required),l.Cb(1),l.mc("ngIf",a.captchaControl.invalid&&a.captchaControl.errors.minlength)}}var Ur,Sr,Or,kr=((Or=function(){function t(e,n,a){r(this,t),this.sanitizer=e,this.imageCaptchaService=n,this.dataSubjectService=a,this.captchaControl=new m.d("",[m.y.required,m.y.minLength(5)]),this.formatControl=new m.d("",[m.y.required]),this.dataRequest=void 0,this.presenceOfCaptcha=!1}return s(t,[{key:"ngOnInit",value:function(){this.needCaptcha(),this.dataRequest={}}},{key:"needCaptcha",value:function(){var t=new Date,e=localStorage.getItem("lstdtxprt")?new Date(JSON.parse(String(localStorage.getItem("lstdtxprt")))):new Date(0);t.getTime()-e.getTime()<3e5&&(this.getNewCaptcha(),this.presenceOfCaptcha=!0)}},{key:"getNewCaptcha",value:function(){var t=this;this.imageCaptchaService.getCaptcha().subscribe(function(e){t.captcha=t.sanitizer.bypassSecurityTrustHtml(e.image)})}},{key:"save",value:function(){var t=this;this.presenceOfCaptcha&&(this.dataRequest.answer=this.captchaControl.value),this.dataRequest.format=this.formatControl.value,this.dataSubjectService.dataExport(this.dataRequest).subscribe(function(e){var n;t.error=null,t.confirmation=e.confirmation,t.userData=e.userData,null===(n=window.open("","_blank","width=500"))||void 0===n||n.document.write(t.userData),t.lastSuccessfulTry=new Date,localStorage.setItem("lstdtxprt",JSON.stringify(t.lastSuccessfulTry)),t.ngOnInit(),t.resetForm()},function(e){t.error=e.error,t.confirmation=null,t.resetFormError()})}},{key:"resetForm",value:function(){this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue(""),this.formatControl.markAsUntouched(),this.formatControl.markAsPristine(),this.formatControl.setValue("")}},{key:"resetFormError",value:function(){this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue("")}}]),t}()).\u0275fac=function(t){return new(t||Or)(l.Ob(u.c),l.Ob(gr),l.Ob(me))},Or.\u0275cmp=l.Ib({type:Or,selectors:[["app-data-export"]],decls:26,vars:7,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],[4,"ngIf"],["id","data-export-form",1,"form-container"],["id","formatControl","aria-label","Select an option",3,"formControl"],["translate","",1,"radio-label"],["value","1","aria-label","Export Option JSON"],["value","2","aria-label","Export Option PDF","disabled",""],["value","3","aria-label","Export Option Excel","disabled",""],["type","submit","id","submitButton","color","primary","mat-raised-button","","aria-label","Button to send the request",2,"margin-top","15px",3,"disabled","click"],[1,"material-icons"],[1,"hint"],[1,"error"],["translate","",2,"float","left","margin-top","40px","font-weight","500","margin-bottom","20px"],[1,"captcha-image",2,"margin-left","10px",3,"innerHTML"],["appearance","outline","color","accent",2,"margin-top","10px","width","100%"],["type","text","matInput","","maxlength","5","aria-label","Input for the CAPTCHA",3,"formControl","placeholder"],["captchaInput",""],["align","end"],["translate","",4,"ngIf"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_REQUEST_DATA_EXPORT"),l.Tb(),l.Fc(4,vr,3,1,"div",3),l.Ub(5,"div",4),l.Ub(6,"mat-radio-group",5),l.Ub(7,"mat-label",6),l.Hc(8,"EXPORT_LABEL "),l.Ub(9,"span"),l.Hc(10,":"),l.Tb(),l.Tb(),l.Ub(11,"mat-radio-button",7),l.Hc(12,"JSON"),l.Tb(),l.Ub(13,"mat-radio-button",8),l.Hc(14,"PDF"),l.Tb(),l.Ub(15,"mat-radio-button",9),l.Hc(16,"Excel"),l.Tb(),l.Tb(),l.Fc(17,wr,17,10,"div",3),l.Tb(),l.Ub(18,"button",10),l.cc("click",function(){return e.save()}),l.Ub(19,"i",11),l.Hc(20," save_alt "),l.Tb(),l.Hc(21),l.hc(22,"translate"),l.Tb(),l.Ub(23,"div",12),l.Ub(24,"span",2),l.Hc(25,"DATA_EXPORT_HINT"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.mc("ngIf",e.error),l.Cb(2),l.mc("formControl",e.formatControl),l.Cb(11),l.mc("ngIf",e.presenceOfCaptcha),l.Cb(1),l.mc("disabled",e.formatControl.invalid||e.captchaControl.invalid&&e.presenceOfCaptcha),l.Cb(3),l.Jc(" ",l.ic(22,5,"BTN_REQUEST")," "))},directives:[w.c,y.a,U.a,Q.l,wi.b,m.o,m.e,ee.g,wi.a,S.a,ee.c,ne.b,m.c,m.j,ee.f,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;height:auto;margin-bottom:50px;margin-left:auto;margin-right:auto;min-width:320px;width:25%}#submitButton[_ngcontent-%COMP%]{margin-left:20%;width:60%}.hint[_ngcontent-%COMP%]{display:flex;font-size:10px;justify-content:center;margin-top:5px}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-bottom:16px;margin-left:16px}.radio-label[_ngcontent-%COMP%]{font-weight:500;margin-right:8px}.captcha-image[_ngcontent-%COMP%]{float:left;margin-bottom:10px;margin-top:20px}"]}),Or),Ir=((Sr=function(){function t(e){r(this,t),this.sanitizer=e,this.lastLoginIp="?"}return s(t,[{key:"ngOnInit",value:function(){try{this.parseAuthToken()}catch(t){console.log(t)}}},{key:"parseAuthToken",value:function(){var t={},e=localStorage.getItem("token");e&&(t=j(e)).data.lastLoginIp&&(this.lastLoginIp=this.sanitizer.bypassSecurityTrustHtml("<small>".concat(t.data.lastLoginIp,"</small>")))}}]),t}()).\u0275fac=function(t){return new(t||Sr)(l.Ob(u.c))},Sr.\u0275cmp=l.Ib({type:Sr,selectors:[["app-last-login-ip"]],decls:8,vars:1,consts:[[1,"ipCard","mat-elevation-z6"],["translate",""],[2,"margin-bottom","15px"],[3,"innerHTML"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"h1",1),l.Hc(2,"LAST_LOGIN_IP"),l.Tb(),l.Ub(3,"p",2),l.Ub(4,"span",1),l.Hc(5,"IP_ADDRESS"),l.Tb(),l.Hc(6,"\xa0\xa0"),l.Pb(7,"span",3),l.Tb(),l.Tb()),2&t&&(l.Cb(7),l.mc("innerHTML",e.lastLoginIp,l.yc))},directives:[y.a,U.a],styles:[".ipCard[_ngcontent-%COMP%]{display:block;margin:0 auto 5%;min-width:320px;width:25%}"]}),Sr),Pr=((Ur=function(){function t(e,n){r(this,t),this._document=e,this.configurationService=n,this.applicationName="OWASP Juice Shop"}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.applicationUrl=this._document.location.protocol+"//"+this._document.location.hostname,this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.name)&&(t.applicationName=e.application.name),t.privacyContactEmail=(null===(a=null==e?void 0:e.application)||void 0===a?void 0:a.privacyContactEmail)?e.application.privacyContactEmail:"donotreply@"+t._document.location.hostname},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Ur)(l.Ob(Q.d),l.Ob(h))},Ur.\u0275cmp=l.Ib({type:Ur,selectors:[["app-privacy-policy"]],decls:169,vars:9,consts:[[1,"mat-elevation-z6"],[1,"privacy-policy"],["translate",""],[1,"hot"],["href","https://www.freeprivacypolicy.com/","aria-label","Link to the page where the privacy policy was created"],[1,"divider"],["src","assets/public/images/padding/81px.png"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"section",1),l.Ub(2,"h1",2),l.Hc(3,"TITLE_PRIVACY_POLICY"),l.Tb(),l.Ub(4,"p"),l.Hc(5,"Effective date: March 15, 2019"),l.Tb(),l.Ub(6,"p"),l.Hc(7),l.Ub(8,"span",3),l.Hc(9),l.Tb(),l.Hc(10,' website (the "Service").'),l.Tb(),l.Ub(11,"p"),l.Hc(12),l.Ub(13,"a",4),l.Hc(14,"Free Privacy Policy website"),l.Tb(),l.Hc(15,"."),l.Tb(),l.Ub(16,"p"),l.Hc(17),l.Tb(),l.Pb(18,"mat-divider",5),l.Ub(19,"h2"),l.Hc(20,"A. Information Collection And Use"),l.Tb(),l.Ub(21,"p"),l.Hc(22,"We collect several different types of information for various purposes to provide and improve our Service to you."),l.Tb(),l.Ub(23,"h3"),l.Hc(24,"A1. Types of Data Collected"),l.Tb(),l.Ub(25,"h4"),l.Hc(26,"A1.1 Personal Data"),l.Tb(),l.Ub(27,"p"),l.Hc(28,'While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you ("Personal Data"). Personally identifiable information may include, but is not limited to:'),l.Tb(),l.Ub(29,"ul"),l.Ub(30,"li"),l.Hc(31,"Email address"),l.Tb(),l.Ub(32,"li"),l.Hc(33,"Address, State, Province, ZIP/Postal code, City"),l.Tb(),l.Ub(34,"li"),l.Hc(35,"Cookies and Usage Data"),l.Tb(),l.Tb(),l.Ub(36,"h4"),l.Hc(37,"A1.2 Usage Data"),l.Tb(),l.Ub(38,"p"),l.Ub(39,"span",3),l.Hc(40,"We may also"),l.Tb(),l.Hc(41,' collect information how the Service is accessed and used ("Usage Data"). This Usage Data may include information such as your computer\'s Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data.'),l.Tb(),l.Ub(42,"h4"),l.Hc(43,"A1.3 Tracking & Cookies Data"),l.Tb(),l.Ub(44,"p"),l.Hc(45,"We use cookies and similar tracking technologies to track the activity on our Service and hold certain information."),l.Tb(),l.Ub(46,"p"),l.Hc(47,"Cookies are files with small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Tracking technologies also used are beacons, tags, and scripts to collect and track information and to improve and analyze our Service."),l.Tb(),l.Ub(48,"p"),l.Hc(49,"You can "),l.Ub(50,"span",3),l.Hc(51,"instruct you"),l.Tb(),l.Hc(52,"r browser "),l.Ub(53,"span",3),l.Hc(54,"to refuse all"),l.Tb(),l.Hc(55," cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."),l.Tb(),l.Ub(56,"p"),l.Hc(57,"Examples of Cookies we use:"),l.Tb(),l.Ub(58,"ul"),l.Ub(59,"li"),l.Ub(60,"strong"),l.Hc(61,"Session Cookies:"),l.Tb(),l.Hc(62," \xa0We use Session Cookies to operate our Service."),l.Tb(),l.Ub(63,"li"),l.Ub(64,"strong"),l.Hc(65,"Preference Cookies:"),l.Tb(),l.Hc(66,"\xa0We use Preference Cookies to remember your preferences and various settings. "),l.Tb(),l.Ub(67,"li"),l.Ub(68,"strong"),l.Hc(69,"Security Cookies:"),l.Tb(),l.Hc(70,"\xa0We use Security Cookies for security purposes."),l.Tb(),l.Tb(),l.Ub(71,"h3"),l.Hc(72,"A2. Use of Data"),l.Tb(),l.Ub(73,"p"),l.Hc(74),l.Tb(),l.Ub(75,"ul"),l.Ub(76,"li"),l.Hc(77,"To provide and maintain the Service"),l.Tb(),l.Ub(78,"li"),l.Hc(79,"To notify you about changes to our Service"),l.Tb(),l.Ub(80,"li"),l.Hc(81,"To allow you to participate in interactive features of our Service when you choose to do so"),l.Tb(),l.Ub(82,"li"),l.Hc(83,"To provide customer care and support"),l.Tb(),l.Ub(84,"li"),l.Hc(85,"To provide analysis or valuable information so that we can improve the Service"),l.Tb(),l.Ub(86,"li"),l.Hc(87,"To monitor the usage of the Service"),l.Tb(),l.Ub(88,"li"),l.Hc(89,"To detect, prevent and address technical issues"),l.Tb(),l.Tb(),l.Pb(90,"mat-divider",5),l.Ub(91,"h2"),l.Hc(92,"B. Transfer Of Data"),l.Tb(),l.Ub(93,"p"),l.Hc(94,"Your information, including Personal Data, may be transferred to \u2014 and maintained on \u2014 computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from your jurisdiction."),l.Tb(),l.Ub(95,"p"),l.Hc(96,"If you are located outside Germany and choose to provide information to us, please note that we transfer the data, including Personal Data, to Germany and process it there."),l.Tb(),l.Ub(97,"p"),l.Hc(98,"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."),l.Tb(),l.Ub(99,"p"),l.Hc(100),l.Ub(101,"span",3),l.Hc(102,"reasonably necessary"),l.Tb(),l.Hc(103," to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of your data and other personal information."),l.Tb(),l.Pb(104,"mat-divider",5),l.Ub(105,"h2"),l.Hc(106,"C. Disclosure Of Data"),l.Tb(),l.Ub(107,"h3"),l.Hc(108,"C1. Legal Requirements"),l.Tb(),l.Ub(109,"p"),l.Hc(110),l.Tb(),l.Ub(111,"ul"),l.Ub(112,"li"),l.Hc(113,"To comply with a legal obligation"),l.Tb(),l.Ub(114,"li"),l.Hc(115),l.Tb(),l.Ub(116,"li"),l.Hc(117,"To prevent or investigate possible wrongdoing in connection with the Service"),l.Tb(),l.Ub(118,"li"),l.Hc(119,"To protect the personal safety of users of the Service or the public"),l.Tb(),l.Ub(120,"li"),l.Hc(121,"To protect against legal liability"),l.Tb(),l.Tb(),l.Pb(122,"mat-divider",5),l.Ub(123,"h2"),l.Hc(124,"D. Security Of Data"),l.Tb(),l.Ub(125,"p"),l.Hc(126,"The security of your data is important to us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."),l.Tb(),l.Pb(127,"mat-divider",5),l.Ub(128,"h2"),l.Hc(129,"E. Service Providers"),l.Tb(),l.Ub(130,"p"),l.Hc(131,'We may employ third party companies and individuals to facilitate our Service ("Service Providers"), to provide the Service on our behalf, to perform Service-related services or to assist us in analyzing how our Service is used.'),l.Tb(),l.Ub(132,"p"),l.Hc(133,"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."),l.Tb(),l.Pb(134,"mat-divider",5),l.Ub(135,"h2"),l.Hc(136,"F. Links To Other Sites"),l.Tb(),l.Ub(137,"p"),l.Hc(138,"Our Service may contain links to other sites that are not operated by us. If you click on a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."),l.Tb(),l.Ub(139,"p"),l.Hc(140,"We have no control over and assume no "),l.Ub(141,"span",3),l.Hc(142,"responsibility"),l.Tb(),l.Hc(143," for the content, privacy policies or practices of any third party sites or services."),l.Tb(),l.Pb(144,"mat-divider",5),l.Ub(145,"h2"),l.Hc(146,"G. Children's Privacy"),l.Tb(),l.Ub(147,"p"),l.Hc(148,'Our Service does not address anyone under the age of 18 ("Children").'),l.Tb(),l.Ub(149,"p"),l.Hc(150,"We do not knowingly collect personally identifiable information from anyone under the age of 18. If you are a parent or guardian and you are aware that your Children has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from children without verification of parental consent, we take steps to remove that information from our servers."),l.Tb(),l.Pb(151,"mat-divider",5),l.Ub(152,"h2"),l.Hc(153,"H. Changes To This Privacy Policy"),l.Tb(),l.Ub(154,"p"),l.Hc(155,"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."),l.Tb(),l.Ub(156,"p"),l.Hc(157,'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update the "effective date" at the top of this Privacy Policy.'),l.Tb(),l.Ub(158,"p"),l.Hc(159,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),l.Tb(),l.Pb(160,"mat-divider",5),l.Ub(161,"h2"),l.Hc(162,"Contact Us"),l.Tb(),l.Ub(163,"p"),l.Hc(164,"If you have any questions about this Privacy Policy, please contact us:"),l.Tb(),l.Ub(165,"ul"),l.Ub(166,"li"),l.Hc(167),l.Tb(),l.Tb(),l.Tb(),l.Pb(168,"img",6),l.Tb()),2&t&&(l.Cb(7),l.Jc("",e.applicationName,' ("us", "we", or "our") operates the '),l.Cb(2),l.Ic(e.applicationUrl),l.Cb(3),l.Jc("This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data. Our Privacy Policy for ",e.applicationName," is created with the help of the "),l.Cb(5),l.Jc("We use your data to provide and improve the Service. By using the Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, terms used in this Privacy Policy have the same meanings as in our Terms and Conditions, accessible from ",e.applicationUrl," ."),l.Cb(57),l.Jc("",e.applicationName," uses the collected data for various purposes:"),l.Cb(26),l.Jc("",e.applicationName," will take all steps "),l.Cb(10),l.Jc("",e.applicationName," may disclose your Personal Data in the good faith belief that such action is necessary to:"),l.Cb(5),l.Jc("To protect and defend the rights or property of ",e.applicationName,""),l.Cb(52),l.Jc("By email: ",e.privacyContactEmail,""))},directives:[y.a,U.a,hn.a],styles:[".privacy-policy[_ngcontent-%COMP%]{margin-left:8.33333%;width:83.3333%}.privacy-policy[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:15px}p[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word}mat-card[_ngcontent-%COMP%]{display:block;margin-bottom:50px;margin-left:auto;margin-right:auto;width:90%}h2[_ngcontent-%COMP%]{padding-top:10px}h3[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:550}strong[_ngcontent-%COMP%]{font-style:italic}h4[_ngcontent-%COMP%]{text-decoration:underline}.hot[_ngcontent-%COMP%]:hover{text-shadow:0 0 20px #fefcc9,10px -10px 30px #feec85,-20px -20px 40px #ffae34,20px -40px 50px #ec760c,-20px -60px 60px #cd4606,0 -80px 70px #973716,10px -90px 80px #451b0e}.divider[_ngcontent-%COMP%]{border-top-width:4px!important;margin-left:9%!important;width:82%!important}"]}),Ur);function xr(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_COUNTRY "),l.Tb())}function _r(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_NAME "),l.Tb())}function Hr(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_NUMBER "),l.Tb())}var Ar=function(){return{range:"1000000-9999999999"}};function Er(t,e){1&t&&(l.Ub(0,"mat-error",18),l.Hc(1,"INVALID_MOBILE_NUMBER "),l.Tb()),2&t&&l.mc("translateParams",l.qc(1,Ar))}function Lr(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_ZIP "),l.Tb())}function Dr(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1,"MANDATORY_ADDRESS"),l.Tb())}function Fr(t,e){1&t&&(l.Ub(0,"mat-error",2),l.Hc(1," MANDATORY_CITY "),l.Tb())}var Rr,Mr,Nr,Br=function(){return{length:"160"}},jr=((Nr=function(){function t(e,n,a,i,o,c,s){r(this,t),this.location=e,this.formSubmitService=n,this.addressService=a,this.router=i,this.activatedRoute=o,this.translate=c,this.snackBarHelperService=s,this.countryControl=new m.d("",[m.y.required]),this.nameControl=new m.d("",[m.y.required]),this.numberControl=new m.d("",[m.y.required,m.y.min(1111111),m.y.max(9999999999)]),this.pinControl=new m.d("",[m.y.required,m.y.maxLength(8)]),this.addressControl=new m.d("",[m.y.required,m.y.maxLength(160)]),this.cityControl=new m.d("",[m.y.required]),this.stateControl=new m.d,this.address=void 0,this.mode="create",this.addressId=void 0}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.address={},this.activatedRoute.paramMap.subscribe(function(e){e.has("addressId")?(t.mode="edit",t.addressId=e.get("addressId"),t.addressService.getById(t.addressId).subscribe(function(e){t.initializeForm(e)})):(t.mode="create",t.addressId=null)}),this.formSubmitService.attachEnterKeyHandler("address-form","submitButton",function(){return t.save()})}},{key:"save",value:function(){var t=this;this.address.country=this.countryControl.value,this.address.fullName=this.nameControl.value,this.address.mobileNum=this.numberControl.value,this.address.zipCode=this.pinControl.value,this.address.streetAddress=this.addressControl.value,this.address.city=this.cityControl.value,this.address.state=this.stateControl.value,"edit"===this.mode?this.addressService.put(this.addressId,this.address).subscribe(function(e){t.address={},t.ngOnInit(),t.resetForm(),t.routeToPreviousUrl(),t.translate.get("ADDRESS_UPDATED",{city:e.city}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")})},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.address={},t.resetForm()}):this.addressService.save(this.address).subscribe(function(e){t.address={},t.ngOnInit(),t.resetForm(),t.routeToPreviousUrl(),t.translate.get("ADDRESS_ADDED",{city:e.city}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")})},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.address={},t.resetForm()})}},{key:"initializeForm",value:function(t){this.countryControl.setValue(t.country),this.nameControl.setValue(t.fullName),this.numberControl.setValue(t.mobileNum),this.pinControl.setValue(t.zipCode),this.addressControl.setValue(t.streetAddress),this.cityControl.setValue(t.city),this.stateControl.setValue(t.state)}},{key:"routeToPreviousUrl",value:function(){this.location.back()}},{key:"resetForm",value:function(){this.countryControl.markAsUntouched(),this.countryControl.markAsPristine(),this.countryControl.setValue(""),this.nameControl.markAsUntouched(),this.nameControl.markAsPristine(),this.nameControl.setValue(""),this.numberControl.markAsUntouched(),this.numberControl.markAsPristine(),this.numberControl.setValue(""),this.pinControl.markAsUntouched(),this.pinControl.markAsPristine(),this.pinControl.setValue(""),this.addressControl.markAsUntouched(),this.addressControl.markAsPristine(),this.addressControl.setValue(""),this.cityControl.markAsUntouched(),this.cityControl.markAsPristine(),this.cityControl.setValue(""),this.stateControl.markAsUntouched(),this.stateControl.markAsPristine(),this.stateControl.setValue("")}}]),t}()).\u0275fac=function(t){return new(t||Nr)(l.Ob(Q.g),l.Ob(te),l.Ob(Ti),l.Ob(M.b),l.Ob(M.a),l.Ob(U.e),l.Ob(z))},Nr.\u0275cmp=l.Ib({type:Nr,selectors:[["app-address-create"]],decls:69,vars:49,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["id","address-form",1,"form-container"],["appearance","outline","color","accent"],["type","text","matInput","",3,"formControl","placeholder"],["translate","",4,"ngIf"],["type","number","matInput","",3,"formControl","placeholder"],["translate","",3,"translateParams",4,"ngIf"],["pin",""],["align","end"],["id","address","matInput","","matAutosizeMinRows","4","matAutosizeMaxRows","4","matTextareaAutosize","","cols","50","maxlength","160",3,"formControl","placeholder"],["adress",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["mat-stroked-button","",1,"btn-return",3,"click"],["type","submit","id","submitButton","mat-raised-button","","color","primary",3,"disabled","click"],[1,"material-icons"],["translate","",3,"translateParams"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"h1",2),l.Hc(3,"ADD_NEW_ADDRESS"),l.Tb(),l.Ub(4,"div",3),l.Ub(5,"mat-form-field",4),l.Ub(6,"mat-label",2),l.Hc(7,"LABEL_COUNTRY"),l.Tb(),l.Pb(8,"input",5),l.hc(9,"translate"),l.Fc(10,xr,2,0,"mat-error",6),l.Tb(),l.Ub(11,"mat-form-field",4),l.Ub(12,"mat-label",2),l.Hc(13,"LABEL_NAME"),l.Tb(),l.Pb(14,"input",5),l.hc(15,"translate"),l.Fc(16,_r,2,0,"mat-error",6),l.Tb(),l.Ub(17,"mat-form-field",4),l.Ub(18,"mat-label",2),l.Hc(19,"LABEL_MOBILE_NUMBER"),l.Tb(),l.Pb(20,"input",7),l.hc(21,"translate"),l.Fc(22,Hr,2,0,"mat-error",6),l.Fc(23,Er,2,2,"mat-error",8),l.Tb(),l.Ub(24,"mat-form-field",4),l.Ub(25,"mat-label",2),l.Hc(26,"LABEL_ZIP_CODE"),l.Tb(),l.Pb(27,"input",5,9),l.hc(29,"translate"),l.Ub(30,"mat-hint",10),l.Hc(31),l.Tb(),l.Fc(32,Lr,2,0,"mat-error",6),l.Tb(),l.Ub(33,"mat-form-field",4),l.Ub(34,"mat-label",2),l.Hc(35,"LABEL_ADDRESS"),l.Tb(),l.Pb(36,"textarea",11,12),l.hc(38,"translate"),l.Ub(39,"mat-hint",2),l.Pb(40,"i",13),l.Ub(41,"em",14),l.Hc(42),l.hc(43,"translate"),l.Tb(),l.Tb(),l.Ub(44,"mat-hint",10),l.Hc(45),l.Tb(),l.Fc(46,Dr,2,0,"mat-error",6),l.Tb(),l.Ub(47,"mat-form-field",4),l.Ub(48,"mat-label",2),l.Hc(49,"LABEL_CITY"),l.Tb(),l.Pb(50,"input",5),l.hc(51,"translate"),l.Fc(52,Fr,2,0,"mat-error",6),l.Tb(),l.Ub(53,"mat-form-field",4),l.Ub(54,"mat-label",2),l.Hc(55,"LABEL_STATE"),l.Tb(),l.Pb(56,"input",5),l.hc(57,"translate"),l.Tb(),l.Tb(),l.Ub(58,"div"),l.Ub(59,"button",15),l.cc("click",function(){return e.routeToPreviousUrl()}),l.Ub(60,"mat-icon"),l.Hc(61," navigate_before "),l.Tb(),l.Hc(62),l.hc(63,"translate"),l.Tb(),l.Ub(64,"button",16),l.cc("click",function(){return e.save()}),l.Ub(65,"i",17),l.Hc(66," send "),l.Tb(),l.Hc(67),l.hc(68,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(28),a=l.uc(37);l.Cb(8),l.mc("formControl",e.countryControl)("placeholder",l.ic(9,27,"MANDATORY_COUNTRY")),l.Cb(2),l.mc("ngIf",e.countryControl.invalid&&e.countryControl.errors.required),l.Cb(4),l.mc("formControl",e.nameControl)("placeholder",l.ic(15,29,"MANDATORY_NAME")),l.Cb(2),l.mc("ngIf",e.nameControl.invalid&&e.nameControl.errors.required),l.Cb(4),l.mc("formControl",e.numberControl)("placeholder",l.ic(21,31,"MANDATORY_NUMBER")),l.Cb(2),l.mc("ngIf",e.numberControl.invalid&&e.numberControl.errors.required),l.Cb(1),l.mc("ngIf",e.numberControl.invalid&&(e.numberControl.errors.min||e.numberControl.errors.max)),l.Cb(4),l.mc("formControl",e.pinControl)("placeholder",l.ic(29,33,"MANDATORY_ZIP")),l.Cb(4),l.Jc("",(null==n.value?null:n.value.length)||0,"/8"),l.Cb(1),l.mc("ngIf",e.pinControl.invalid&&e.pinControl.errors.required),l.Cb(4),l.mc("formControl",e.addressControl)("placeholder",l.ic(38,35,"MANDATORY_ADDRESS")),l.Cb(6),l.Ic(l.jc(43,37,"MAX_TEXTAREA_LENGTH",l.qc(48,Br))),l.Cb(3),l.Jc("",(null==a.value?null:a.value.length)||0,"/160"),l.Cb(1),l.mc("ngIf",e.addressControl.invalid&&e.addressControl.errors.required),l.Cb(4),l.mc("formControl",e.cityControl)("placeholder",l.ic(51,40,"MANDATORY_CITY")),l.Cb(2),l.mc("ngIf",e.cityControl.invalid&&e.cityControl.errors.required),l.Cb(4),l.mc("formControl",e.stateControl)("placeholder",l.ic(57,42,"STATE_PLACEHOLDER")),l.Cb(6),l.Jc(" ",l.ic(63,44,"LABEL_BACK")," "),l.Cb(2),l.mc("disabled",e.countryControl.invalid||e.nameControl.invalid||e.numberControl.invalid||e.pinControl.invalid||e.addressControl.invalid||e.cityControl.invalid),l.Cb(3),l.Jc(" ",l.ic(68,46,"BTN_SUBMIT")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.c,m.o,m.e,Q.l,m.t,ee.f,ne.d,m.j,S.a,Qe.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:30%}#submitButton[_ngcontent-%COMP%]{float:right}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.btn-return[_ngcontent-%COMP%]{float:left}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;margin:0}"]}),Nr),Gr=((Mr=function(){function t(e,n){r(this,t),this.router=e,this.ngZone=n,this.addressId=void 0,this.showNextButton=!0}return s(t,[{key:"getMessage",value:function(t){this.addressId=t}}]),t}()).\u0275fac=function(t){return new(t||Mr)(l.Ob(M.b),l.Ob(l.B))},Mr.\u0275cmp=l.Ib({type:Mr,selectors:[["app-address-select"]],decls:2,vars:1,consts:[["id","card"],[3,"showNextButton"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Pb(1,"app-address",1),l.Tb()),2&t&&(l.Cb(1),l.mc("showNextButton",e.showNextButton))},directives:[Vi],styles:[".btn-pay[_ngcontent-%COMP%]{display:block;width:100%}.mat-raised-button[_ngcontent-%COMP%]{margin-right:3px;margin-top:3px}#card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),Mr),Vr=((Rr=function t(){r(this,t)}).\u0275fac=function(t){return new(t||Rr)},Rr.\u0275cmp=l.Ib({type:Rr,selectors:[["app-saved-address"]],decls:2,vars:1,consts:[[1,"main-wrapper"],[3,"allowEdit"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Pb(1,"app-address",1),l.Tb()),2&t&&(l.Cb(1),l.mc("allowEdit",!0))},directives:[Vi],styles:[".main-wrapper[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),Rr);g.b.add(C.b),g.a.watch();var qr,Jr,Yr,zr,Wr=((zr=function(){function t(e){r(this,t),this.dialogData=e}return s(t,[{key:"ngOnInit",value:function(){this.title=this.dialogData.title,this.url=this.dialogData.url,this.address=this.dialogData.address,this.data=this.dialogData.data}}]),t}()).\u0275fac=function(t){return new(t||zr)(l.Ob(bn.a))},zr.\u0275cmp=l.Ib({type:zr,selectors:[["app-qr-code"]],decls:17,vars:11,consts:[[1,"qr-code","mat-typography"],["fxLayout","column","fxLayoutGap","10px"],[1,"container"],[3,"href"],[3,"value","size","level"],["mat-raised-button","","mat-dialog-close","",1,"close-dialog"],[1,"fas","fa-arrow-circle-left","fa-lg"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"header"),l.Ub(2,"h3"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Tb(),l.Ub(5,"div",1),l.Pb(6,"mat-divider"),l.Ub(7,"div",2),l.Ub(8,"a",3),l.Pb(9,"qr-code",4),l.Tb(),l.Tb(),l.Ub(10,"small"),l.Hc(11),l.Tb(),l.Tb(),l.Ub(12,"footer"),l.Ub(13,"button",5),l.Pb(14,"i",6),l.Hc(15),l.hc(16,"translate"),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.Ic(l.ic(4,7,e.title)),l.Cb(5),l.mc("href",e.url,l.Ac),l.Cb(1),l.mc("value",e.data)("size",300)("level","M"),l.Cb(2),l.Ic(e.address),l.Cb(4),l.Jc(" ",l.ic(16,9,"BTN_CLOSE"),""))},directives:[w.d,w.e,hn.a,br.a,S.a,bn.d],pipes:[U.d],styles:[""]}),zr),Qr=((Yr=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/wallet/balance"}return s(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t){return this.http.put(this.host,t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Yr)(l.Yb(b.b))},Yr.\u0275prov=l.Kb({token:Yr,factory:Yr.\u0275fac,providedIn:"root"}),Yr),Kr=((Jr=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Deliverys"}return s(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getById",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Jr)(l.Yb(b.b))},Jr.\u0275prov=l.Kb({token:Jr,factory:Jr.\u0275fac,providedIn:"root"}),Jr),$r=((qr=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Cards"}return s(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getById",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||qr)(l.Yb(b.b))},qr.\u0275prov=l.Kb({token:qr,factory:qr.\u0275fac,providedIn:"root"}),qr);function Zr(t,e){1&t&&l.Pb(0,"mat-header-cell",33)}function Xr(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",33),l.Ub(1,"mat-radio-button",34),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).emitSelectionToParent(t.id)}),l.Tb(),l.Tb()}}function tc(t,e){1&t&&l.Pb(0,"mat-header-cell",35)}function ec(t,e){if(1&t&&(l.Ub(0,"mat-cell",35),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.cardNum," ")}}function nc(t,e){1&t&&l.Pb(0,"mat-header-cell",36)}function ac(t,e){if(1&t&&(l.Ub(0,"mat-cell",36),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Ic(n.fullName)}}function ic(t,e){1&t&&l.Pb(0,"mat-header-cell",37)}function oc(t,e){if(1&t&&(l.Ub(0,"mat-cell",37),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Kc("",n.expMonth,"/",n.expYear,"")}}function rc(t,e){1&t&&l.Pb(0,"mat-header-cell",33)}function cc(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",33),l.Ub(1,"button",38),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).delete(t.id)}),l.Pb(2,"i",39),l.Tb(),l.Tb()}}function sc(t,e){1&t&&l.Pb(0,"mat-header-row")}function lc(t,e){1&t&&l.Pb(0,"mat-row")}function uc(t,e){if(1&t&&(l.Ub(0,"div"),l.Ub(1,"mat-table",17),l.Sb(2,18),l.Fc(3,Zr,1,0,"mat-header-cell",19),l.Fc(4,Xr,2,0,"mat-cell",20),l.Rb(),l.Sb(5,21),l.Fc(6,tc,1,0,"mat-header-cell",22),l.Fc(7,ec,2,1,"mat-cell",23),l.Rb(),l.Sb(8,24),l.Fc(9,nc,1,0,"mat-header-cell",25),l.Fc(10,ac,2,1,"mat-cell",26),l.Rb(),l.Sb(11,27),l.Fc(12,ic,1,0,"mat-header-cell",28),l.Fc(13,oc,2,2,"mat-cell",29),l.Rb(),l.Sb(14,30),l.Fc(15,rc,1,0,"mat-header-cell",19),l.Fc(16,cc,3,0,"mat-cell",20),l.Rb(),l.Fc(17,sc,1,0,"mat-header-row",31),l.Fc(18,lc,1,0,"mat-row",32),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.mc("dataSource",n.dataSource),l.Cb(16),l.mc("matHeaderRowDef",n.displayedColumns),l.Cb(1),l.mc("matRowDefColumns",n.displayedColumns)}}function bc(t,e){1&t&&(l.Ub(0,"mat-error",5),l.Hc(1," MANDATORY_NAME "),l.Tb())}function dc(t,e){1&t&&(l.Ub(0,"mat-error",5),l.Hc(1," MANDATORY_CARD_NUMBER "),l.Tb())}function mc(t,e){1&t&&(l.Ub(0,"mat-error",5),l.Hc(1," VALID_CARD_NUMBER "),l.Tb())}function fc(t,e){if(1&t&&(l.Ub(0,"option",40),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.nc("value",n),l.Cb(1),l.Ic(n)}}function pc(t,e){1&t&&(l.Ub(0,"mat-error",5),l.Hc(1," MANDATORY_EXPIRY_MONTH "),l.Tb())}function hc(t,e){if(1&t&&(l.Ub(0,"option",40),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.nc("value",n),l.Cb(1),l.Ic(n)}}function gc(t,e){1&t&&(l.Ub(0,"mat-error",5),l.Hc(1," MANDATORY_EXPIRY_YEAR "),l.Tb())}g.b.add(C.A,T.g),g.a.watch();var vc,Cc=((vc=function(){function t(e,n,a){r(this,t),this.paymentService=e,this.translate=n,this.snackBarHelperService=a,this.emitSelection=new l.o,this.allowDelete=!1,this.displayedColumns=["Number","Name","Expiry"],this.nameControl=new m.d("",[m.y.required]),this.numberControl=new m.d("",[m.y.required,m.y.min(1e15),m.y.max(1e16)]),this.monthControl=new m.d("",[m.y.required]),this.yearControl=new m.d("",[m.y.required]),this.card={},this.cardsExist=!1,this.paymentId=void 0}return s(t,[{key:"ngOnInit",value:function(){this.monthRange=Array.from(Array(12).keys()).map(function(t){return t+1}),this.yearRange=Array.from(Array(20).keys()).map(function(t){return t+2080}),this.allowDelete?this.displayedColumns.push("Remove"):this.displayedColumns.unshift("Selection"),this.load()}},{key:"load",value:function(){var t=this;this.paymentService.get().subscribe(function(e){t.cardsExist=e.length,t.storedCards=e,t.dataSource=new W.o(t.storedCards)},function(t){return console.log(t)})}},{key:"save",value:function(){var t=this;this.card.fullName=this.nameControl.value,this.card.cardNum=this.numberControl.value,this.card.expMonth=this.monthControl.value,this.card.expYear=this.yearControl.value,this.paymentService.save(this.card).subscribe(function(e){t.error=null,t.translate.get("CREDIT_CARD_SAVED",{cardnumber:String(e.cardNum).substring(String(e.cardNum).length-4)}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")}),t.load(),t.resetForm()},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.resetForm()})}},{key:"delete",value:function(t){var e=this;this.paymentService.del(t).subscribe(function(){e.load()},function(t){return console.log(t)})}},{key:"emitSelectionToParent",value:function(t){this.emitSelection.emit(t)}},{key:"resetForm",value:function(){this.nameControl.markAsUntouched(),this.nameControl.markAsPristine(),this.nameControl.setValue(""),this.numberControl.markAsUntouched(),this.numberControl.markAsPristine(),this.numberControl.setValue(""),this.monthControl.markAsUntouched(),this.monthControl.markAsPristine(),this.monthControl.setValue(""),this.yearControl.markAsUntouched(),this.yearControl.markAsPristine(),this.yearControl.setValue("")}}]),t}()).\u0275fac=function(t){return new(t||vc)(l.Ob($r),l.Ob(U.e),l.Ob(z))},vc.\u0275cmp=l.Ib({type:vc,selectors:[["app-payment-method"]],inputs:{allowDelete:"allowDelete"},outputs:{emitSelection:"emitSelection"},decls:46,vars:26,consts:[["fxLayout","column","fxLayoutGap","20px"],[4,"ngIf"],[1,"mat-elevation-z0"],[2,"margin-bottom","12px"],["appearance","outline","color","accent"],["translate",""],["type","text","matInput","",3,"formControl"],["translate","",4,"ngIf"],["type","number","matInput","",3,"formControl"],["cardIn",""],["align","end"],["appearance","outline","color","accent",2,"width","45%","margin-right","10%"],["matNativeControl","","required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","color","accent",2,"width","45%"],["type","submit","id","submitButton","mat-raised-button","","color","primary",2,"margin-top","5px","float","right",3,"disabled","click"],[1,"material-icons"],[3,"dataSource"],["matColumnDef","Selection"],["fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],["matColumnDef","Number"],["fxFlex","35%",4,"matHeaderCellDef"],["fxFlex","35%",4,"matCellDef"],["matColumnDef","Name"],["fxFlex","30%",4,"matHeaderCellDef"],["fxFlex","30%",4,"matCellDef"],["matColumnDef","Expiry"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","Remove"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxFlex","15%"],[3,"click"],["fxFlex","35%"],["fxFlex","30%"],["fxFlex","20%"],["mat-icon-button","",3,"click"],[1,"far","fa-trash-alt"],[3,"value"]],template:function(t,e){if(1&t&&(l.Ub(0,"div",0),l.Ub(1,"h1"),l.Hc(2),l.hc(3,"translate"),l.Tb(),l.Fc(4,uc,19,3,"div",1),l.Ub(5,"div"),l.Ub(6,"mat-expansion-panel",2),l.Ub(7,"mat-expansion-panel-header",3),l.Ub(8,"mat-panel-title"),l.Hc(9),l.hc(10,"translate"),l.Tb(),l.Ub(11,"mat-panel-description"),l.Hc(12),l.hc(13,"translate"),l.Tb(),l.Tb(),l.Ub(14,"div"),l.Ub(15,"mat-form-field",4),l.Ub(16,"mat-label",5),l.Hc(17,"LABEL_NAME"),l.Tb(),l.Pb(18,"input",6),l.Fc(19,bc,2,0,"mat-error",7),l.Tb(),l.Ub(20,"mat-form-field",4),l.Ub(21,"mat-label",5),l.Hc(22,"LABEL_CARD_NUMBER"),l.Tb(),l.Pb(23,"input",8,9),l.Ub(25,"mat-hint",10),l.Hc(26),l.Tb(),l.Fc(27,dc,2,0,"mat-error",7),l.Fc(28,mc,2,0,"mat-error",7),l.Tb(),l.Ub(29,"mat-form-field",11),l.Ub(30,"mat-label",5),l.Hc(31,"LABEL_EXPIRY_MONTH"),l.Tb(),l.Ub(32,"select",12),l.Fc(33,fc,2,2,"option",13),l.Tb(),l.Fc(34,pc,2,0,"mat-error",7),l.Tb(),l.Ub(35,"mat-form-field",14),l.Ub(36,"mat-label",5),l.Hc(37,"LABEL_EXPIRY_YEAR"),l.Tb(),l.Ub(38,"select",12),l.Fc(39,hc,2,2,"option",13),l.Tb(),l.Fc(40,gc,2,0,"mat-error",7),l.Tb(),l.Tb(),l.Ub(41,"button",15),l.cc("click",function(){return e.save()}),l.Ub(42,"i",16),l.Hc(43," send "),l.Tb(),l.Hc(44),l.hc(45,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.uc(24);l.Cb(2),l.Ic(l.ic(3,18,"MY_PAYMENT_OPTIONS")),l.Cb(2),l.mc("ngIf",e.cardsExist),l.Cb(5),l.Jc(" ",l.ic(10,20,"ADD_NEW_CARD")," "),l.Cb(3),l.Jc(" ",l.ic(13,22,"ADD_NEW_CARD_DESCRIPTION")," "),l.Cb(6),l.mc("formControl",e.nameControl),l.Cb(1),l.mc("ngIf",e.nameControl.invalid&&e.nameControl.errors.required),l.Cb(4),l.mc("formControl",e.numberControl),l.Cb(3),l.Jc("",(null==n.value?null:n.value.length)||0,"/16"),l.Cb(1),l.mc("ngIf",e.numberControl.invalid&&e.numberControl.errors.required),l.Cb(1),l.mc("ngIf",e.numberControl.invalid&&(e.numberControl.errors.min||e.numberControl.errors.max)),l.Cb(4),l.mc("formControl",e.monthControl),l.Cb(1),l.mc("ngForOf",e.monthRange),l.Cb(1),l.mc("ngIf",e.monthControl.invalid&&e.monthControl.errors.required),l.Cb(4),l.mc("formControl",e.yearControl),l.Cb(1),l.mc("ngForOf",e.yearRange),l.Cb(1),l.mc("ngIf",e.yearControl.invalid&&e.yearControl.errors.required),l.Cb(1),l.mc("disabled",e.nameControl.invalid||e.numberControl.invalid||e.monthControl.invalid||e.yearControl.invalid),l.Cb(3),l.Jc(" ",l.ic(45,24,"BTN_SUBMIT")," ")}},directives:[w.d,w.e,Q.l,gn.b,gn.d,gn.e,gn.c,ee.c,ee.g,U.a,ne.b,m.c,m.o,m.e,m.t,ee.f,m.x,m.w,Q.k,S.a,W.n,W.c,W.i,W.b,W.k,W.m,W.h,w.b,W.a,wi.a,W.j,W.l,ee.b,m.s,m.z],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.detail-divider[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;margin:0}"]}),vc);function Tc(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",11),l.Ub(1,"div",12),l.Ub(2,"div",13),l.Ub(3,"span",14),l.Hc(4,"LABEL_PAY_USING_WALLET"),l.Tb(),l.Tb(),l.Ub(5,"div",15),l.Ub(6,"b"),l.Ub(7,"span",14),l.Hc(8,"LABEL_WALLET_BALANCE"),l.Tb(),l.Ub(9,"span",16),l.Hc(10),l.Tb(),l.Tb(),l.Tb(),l.Ub(11,"div",17),l.Ub(12,"button",18),l.cc("click",function(){return l.xc(n),l.gc().useWallet()}),l.Pb(13,"i",19),l.Hc(14),l.hc(15,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(10),l.Jc(" ",a.walletBalanceStr,""),l.Cb(2),l.mc("disabled",a.walletBalance-a.totalPrice<0),l.Cb(2),l.Kc(" ",l.ic(15,4,"LABEL_PAY")," ",null==a.totalPrice?null:a.totalPrice.toFixed(2),"\xa4 ")}}function yc(t,e){if(1&t&&(l.Ub(0,"div",31),l.Hc(1),l.Tb()),2&t){var n=l.gc(2);l.Cb(1),l.Jc("",n.couponConfirmation," ")}}function wc(t,e){if(1&t&&(l.Ub(0,"div",32),l.Hc(1),l.Tb()),2&t){var n=l.gc(2);l.Cb(1),l.Jc("",null==n.couponError?null:n.couponError.error," ")}}function Uc(t,e){1&t&&(l.Ub(0,"mat-error"),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t&&(l.Cb(1),l.Jc(" ",l.ic(2,1,"COUPON_CODE_HINT")," "))}var Sc=function(t,e){return{twitter:t,facebook:e}};function Oc(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-expansion-panel",20),l.Ub(1,"mat-expansion-panel-header",21),l.Ub(2,"mat-panel-title"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Ub(5,"mat-panel-description"),l.Hc(6),l.hc(7,"translate"),l.Tb(),l.Tb(),l.Fc(8,yc,2,1,"div",22),l.Fc(9,wc,2,1,"div",23),l.Ub(10,"mat-form-field",24),l.Ub(11,"mat-label",8),l.Hc(12,"LABEL_COUPON"),l.Tb(),l.Pb(13,"mat-hint",25),l.hc(14,"translate"),l.Pb(15,"input",26,27),l.hc(17,"translate"),l.Ub(18,"mat-hint",28),l.Hc(19),l.Tb(),l.Fc(20,Uc,3,3,"mat-error",29),l.Tb(),l.Ub(21,"button",30),l.cc("click",function(){return l.xc(n),l.gc().applyCoupon()}),l.Ub(22,"mat-icon"),l.Hc(23," redeem "),l.Tb(),l.Hc(24),l.hc(25,"translate"),l.Tb(),l.Tb()}if(2&t){var a=l.uc(16),i=l.gc();l.mc("expanded",i.couponPanelExpanded),l.Cb(3),l.Jc(" ",l.ic(4,12,"ADD_A_COUPON")," "),l.Cb(3),l.Jc(" ",l.ic(7,14,"VOUCHERS_AND_PROMOTIONAL_CODE")," "),l.Cb(2),l.mc("ngIf",i.couponConfirmation&&!i.couponControl.dirty),l.Cb(1),l.mc("ngIf",i.couponError&&!i.couponControl.dirty),l.Cb(4),l.mc("innerHtml",l.jc(14,16,"FOLLOW_FOR_MONTHLY_COUPONS",l.sc(23,Sc,i.twitterUrl,i.facebookUrl)),l.yc),l.Cb(2),l.nc("placeholder",l.ic(17,19,"ENTER_COUPON_CODE")),l.mc("formControl",i.couponControl),l.Cb(4),l.Jc("",(null==a.value?null:a.value.length)||0,"/10"),l.Cb(1),l.mc("ngIf",i.couponControl.invalid&&(i.couponControl.errors.minlength||i.couponControl.errors.maxlength)),l.Cb(1),l.mc("disabled",i.couponControl.invalid),l.Cb(3),l.Jc(" ",l.ic(25,21,"BTN_REDEEM")," ")}}var kc=function(){return{juiceshop:"OWASP Juice Shop"}};function Ic(t,e){1&t&&(l.Ub(0,"span",54),l.Hc(1,"THANKS_FOR_SUPPORT"),l.Tb()),2&t&&l.mc("translateParams",l.qc(1,kc))}var Pc=function(t){return{appname:t}};function xc(t,e){if(1&t&&(l.Ub(0,"span",54),l.Hc(1,"THANKS_FOR_SUPPORT_CUSTOMIZED"),l.Tb()),2&t){var n=l.gc(2);l.mc("translateParams",l.rc(1,Pc,n.applicationName))}}function _c(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",55),l.cc("click",function(){return l.xc(n),l.gc(2).showBitcoinQrCode()}),l.Pb(1,"i",56),l.Hc(2," Bitcoin "),l.Tb()}}function Hc(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",55),l.cc("click",function(){return l.xc(n),l.gc(2).showDashQrCode()}),l.Ub(1,"i",57),l.Hc(2,"\xd0"),l.Tb(),l.Hc(3," Dash"),l.Tb()}}function Ac(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",55),l.cc("click",function(){return l.xc(n),l.gc(2).showEtherQrCode()}),l.Pb(1,"i",58),l.Hc(2," Ether "),l.Tb()}}function Ec(t,e){1&t&&(l.Ub(0,"span",54),l.Hc(1,"OFFICIAL_MERCHANDISE_STORES"),l.Tb()),2&t&&l.mc("translateParams",l.qc(1,kc))}function Lc(t,e){if(1&t&&(l.Ub(0,"span",54),l.Hc(1,"OFFICIAL_MERCHANDISE_STORES_CUSTOMIZED"),l.Tb()),2&t){var n=l.gc(2);l.mc("translateParams",l.rc(1,Pc,n.applicationName))}}function Dc(t,e){if(1&t&&(l.Ub(0,"mat-expansion-panel",33),l.Ub(1,"mat-expansion-panel-header",21),l.Ub(2,"mat-panel-title"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Tb(),l.Ub(5,"div",34),l.Ub(6,"div",35),l.Ub(7,"div",36),l.Ub(8,"label",8),l.Hc(9,"LABEL_DONATIONS"),l.Tb(),l.Tb(),l.Ub(10,"small"),l.Hc(11," ("),l.Fc(12,Ic,2,2,"span",37),l.Fc(13,xc,2,3,"span",37),l.Pb(14,"i",38),l.Hc(15,") "),l.Tb(),l.Ub(16,"div",39),l.Ub(17,"a",40),l.Ub(18,"button",41),l.Pb(19,"i",42),l.Hc(20),l.hc(21,"translate"),l.Tb(),l.Tb(),l.Fc(22,_c,3,0,"button",43),l.Fc(23,Hc,4,0,"button",43),l.Fc(24,Ac,3,0,"button",43),l.Tb(),l.Tb(),l.Pb(25,"span",44),l.Ub(26,"div",45),l.Ub(27,"div",36),l.Ub(28,"label",8),l.Hc(29,"LABEL_MERCHANDISE"),l.Tb(),l.Tb(),l.Ub(30,"small"),l.Hc(31," ("),l.Fc(32,Ec,2,2,"span",37),l.Fc(33,Lc,2,3,"span",37),l.Pb(34,"i",46),l.Hc(35,") "),l.Tb(),l.Ub(36,"div",39),l.Ub(37,"a",47),l.Ub(38,"button",41),l.Pb(39,"i",48),l.Hc(40," Spreadshirt (US)"),l.Tb(),l.Tb(),l.Ub(41,"a",49),l.Ub(42,"button",41),l.Pb(43,"i",48),l.Hc(44," Spreadshirt (DE)"),l.Tb(),l.Tb(),l.Ub(45,"a",50),l.Ub(46,"button",41),l.Pb(47,"i",51),l.Hc(48," StickerYou"),l.Tb(),l.Tb(),l.Ub(49,"a",52),l.Ub(50,"button",41),l.Pb(51,"i",53),l.Hc(52," Leanpub"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.gc();l.mc("expanded",n.paymentPanelExpanded),l.Cb(3),l.Jc(" ",l.ic(4,10,"OTHER_PAYMENT_OPTIONS")," "),l.Cb(9),l.mc("ngIf","OWASP Juice Shop"===n.applicationName),l.Cb(1),l.mc("ngIf","OWASP Juice Shop"!==n.applicationName),l.Cb(7),l.Jc(" ",l.ic(21,12,"BTN_CREDIT_CARD"),""),l.Cb(2),l.mc("ngIf",!1),l.Cb(1),l.mc("ngIf",!1),l.Cb(1),l.mc("ngIf",!1),l.Cb(8),l.mc("ngIf","OWASP Juice Shop"===n.applicationName),l.Cb(1),l.mc("ngIf","OWASP Juice Shop"!==n.applicationName)}}function Fc(t,e){1&t&&(l.Ub(0,"span",8),l.Hc(1,"REVIEW_ALERT"),l.Tb())}function Rc(t,e){1&t&&(l.Ub(0,"span",8),l.Hc(1,"REVIEW_WALLET"),l.Tb())}g.b.add(C.d,C.p,C.t,v.g,C.T,C.Z,C.M,C.r,C.g,C.U,v.j),g.a.watch();var Mc,Nc,Bc,jc=((Bc=function(){function t(e,n,a,i,o,c,s,l,u,b,d,f,p){r(this,t),this.location=e,this.cookieService=n,this.userService=a,this.deliveryService=i,this.walletService=o,this.router=c,this.dialog=s,this.configurationService=l,this.basketService=u,this.translate=b,this.activatedRoute=d,this.ngZone=f,this.snackBarHelperService=p,this.card={},this.twitterUrl=null,this.facebookUrl=null,this.applicationName="OWASP Juice Shop",this.couponControl=new m.d("",[m.y.required,m.y.minLength(10),m.y.maxLength(10)]),this.paymentId=void 0,this.couponPanelExpanded=!1,this.paymentPanelExpanded=!1,this.walletBalance=0,this.totalPrice=0,this.paymentMode="card",this.campaigns={WMNSDY2019:{validOn:15519996e5,discount:75},WMNSDY2020:{validOn:1583622e6,discount:60},WMNSDY2021:{validOn:1615158e6,discount:60},WMNSDY2022:{validOn:1646694e6,discount:60},WMNSDY2023:{validOn:167823e7,discount:60},ORANGE2020:{validOn:15885468e5,discount:50},ORANGE2021:{validOn:16200828e5,discount:40},ORANGE2022:{validOn:16516188e5,discount:40},ORANGE2023:{validOn:16831548e5,discount:40}}}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.initTotal(),this.walletService.get().subscribe(function(e){t.walletBalance=e,t.walletBalanceStr=parseFloat(e).toFixed(2)},function(t){return console.log(t)}),this.couponPanelExpanded=!!localStorage.getItem("couponPanelExpanded")&&JSON.parse(localStorage.getItem("couponPanelExpanded")),this.paymentPanelExpanded=!!localStorage.getItem("paymentPanelExpanded")&&JSON.parse(localStorage.getItem("paymentPanelExpanded")),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.social)&&(e.application.social.twitterUrl&&(t.twitterUrl=e.application.social.twitterUrl),e.application.social.facebookUrl&&(t.facebookUrl=e.application.social.facebookUrl),e.application.name&&(t.applicationName=e.application.name))},function(t){return console.log(t)})}},{key:"initTotal",value:function(){var t=this;this.activatedRoute.paramMap.subscribe(function(e){if(t.mode=e.get("entity"),"wallet"===t.mode)t.totalPrice=parseFloat(sessionStorage.getItem("walletTotal"));else if("deluxe"===t.mode)t.userService.deluxeStatus().subscribe(function(e){t.totalPrice=e.membershipCost},function(t){return console.log(t)});else{var n=parseFloat(sessionStorage.getItem("itemTotal")),a=sessionStorage.getItem("couponDiscount")?parseFloat(sessionStorage.getItem("couponDiscount"))/100*n:0;t.deliveryService.getById(sessionStorage.getItem("deliveryMethodId")).subscribe(function(e){t.totalPrice=n+e.price-a})}},function(t){return console.log(t)})}},{key:"applyCoupon",value:function(){var t=this;this.campaignCoupon=this.couponControl.value,this.clientDate=new Date;var e=60*(this.clientDate.getTimezoneOffset()+60)*1e3;this.clientDate.setHours(0,0,0,0),this.clientDate=this.clientDate.getTime()-e,sessionStorage.setItem("couponDetails","".concat(this.campaignCoupon,"-").concat(this.clientDate));var n=this.campaigns[this.couponControl.value];n?this.clientDate===n.validOn?this.showConfirmation(n.discount):(this.couponConfirmation=void 0,this.translate.get("INVALID_COUPON").subscribe(function(e){t.couponError={error:e}},function(e){t.couponError={error:e}}),this.resetCouponForm()):this.basketService.applyCoupon(Number(sessionStorage.getItem("bid")),encodeURIComponent(this.couponControl.value)).subscribe(function(e){t.showConfirmation(e)},function(e){t.couponConfirmation=void 0,t.couponError=e,t.resetCouponForm()})}},{key:"showConfirmation",value:function(t){var e=this;this.resetCouponForm(),this.couponError=void 0,sessionStorage.setItem("couponDiscount",t),this.translate.get("DISCOUNT_APPLIED",{discount:t}).subscribe(function(t){e.couponConfirmation=t},function(t){e.couponConfirmation=t}),this.initTotal()}},{key:"getMessage",value:function(t){this.paymentId=t,this.paymentMode="card"}},{key:"routeToPreviousUrl",value:function(){this.location.back()}},{key:"choosePayment",value:function(){var t=this;if(sessionStorage.removeItem("itemTotal"),"wallet"===this.mode)this.walletService.put({balance:this.totalPrice,paymentId:this.paymentId}).subscribe(function(){sessionStorage.removeItem("walletTotal"),t.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/wallet"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),t.snackBarHelperService.open("CHARGED_WALLET","confirmBar")},function(e){var n;console.log(e),t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.message,"errorBar")});else if("deluxe"===this.mode)this.userService.upgradeToDeluxe(this.paymentMode,this.paymentId).subscribe(function(e){localStorage.setItem("token",e.token),t.cookieService.set("token",e.token),t.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/deluxe-membership"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))},function(t){return console.log(t)});else{if("wallet"===this.paymentMode){if(this.walletBalance<this.totalPrice)return void this.snackBarHelperService.open("INSUFFICIENT_WALLET_BALANCE","errorBar");sessionStorage.setItem("paymentId","wallet")}else sessionStorage.setItem("paymentId",this.paymentId);this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/order-summary"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}}},{key:"noop",value:function(){}},{key:"showBitcoinQrCode",value:function(){this.dialog.open(Wr,{data:{data:"bitcoin:1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm",url:"./redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm",address:"1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm",title:"TITLE_BITCOIN_ADDRESS"}})}},{key:"showDashQrCode",value:function(){this.dialog.open(Wr,{data:{data:"dash:Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW",url:"./redirect?to=https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW",address:"Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW",title:"TITLE_DASH_ADDRESS"}})}},{key:"showEtherQrCode",value:function(){this.dialog.open(Wr,{data:{data:"0x0f933ab9fCAAA782D0279C300D73750e1311EAE6",url:"./redirect?to=https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6",address:"0x0f933ab9fCAAA782D0279C300D73750e1311EAE6",title:"TITLE_ETHER_ADDRESS"}})}},{key:"useWallet",value:function(){this.paymentMode="wallet",this.choosePayment()}},{key:"resetCouponForm",value:function(){this.couponControl.setValue(""),this.couponControl.markAsPristine(),this.couponControl.markAsUntouched()}}]),t}()).\u0275fac=function(t){return new(t||Bc)(l.Ob(Q.g),l.Ob(d.a),l.Ob(R),l.Ob(Kr),l.Ob(Qr),l.Ob(M.b),l.Ob(bn.b),l.Ob(h),l.Ob(B),l.Ob(U.e),l.Ob(M.a),l.Ob(l.B),l.Ob(z))},Bc.\u0275cmp=l.Ib({type:Bc,selectors:[["app-payment"]],decls:24,vars:10,consts:[[1,"mat-own-card","mat-elevation-z6"],[3,"allowDelete","emitSelection"],["class","mat-elevation-z0","class","custom-card",4,"ngIf"],["class","mat-elevation-z0","id","collapseCouponElement",3,"expanded",4,"ngIf"],["class","mat-elevation-z0",3,"expanded",4,"ngIf"],[2,"margin-top","20px","margin-bottom","20px"],["mat-stroked-button","",1,"btn","btn-return",3,"click"],["mat-raised-button","","mat-button","","color","primary","aria-label","Proceed to review",1,"btn","nextButton",3,"disabled","click"],["translate",""],[2,"text-align","center","margin-top","-27px"],["translate","",4,"ngIf"],[1,"custom-card"],["fxLayout","row"],["fxFlex","42%"],["translate","",1,"card-title"],["fxFlex","38%"],[1,"confirmation","card-title"],["fxFlex","20%"],["type","submit","color","primary","mat-raised-button","",1,"btn",2,"float","right",3,"disabled","click"],[1,"fas","fa-hand-holding-usd","fa-lg"],["id","collapseCouponElement",1,"mat-elevation-z0",3,"expanded"],[1,"detail-divider"],["style","margin-top:5px;","class","confirmation",4,"ngIf"],["style","margin-top:5px;","class","error",4,"ngIf"],["appearance","outline","color","accent"],[3,"innerHtml"],["id","coupon","matInput","","type","text",3,"formControl","placeholder"],["coupon",""],["align","end"],[4,"ngIf"],["type","submit","id","applyCouponButton","color","accent","mat-raised-button","",2,"margin-top","5px","float","right",3,"disabled","click"],[1,"confirmation",2,"margin-top","5px"],[1,"error",2,"margin-top","5px"],[1,"mat-elevation-z0",3,"expanded"],["fxLayout","row","fxLayout.lt-lg","column"],["fxFlex","34%","fxFlex.lt-lg","100%",1,"mat-elevation-z0"],[1,"payment-label"],["translate","",3,"translateParams",4,"ngIf"],[1,"fas","fa-heart","error",2,"margin-left","3px"],[1,"button-container",2,"margin-top","6px"],["href","https://pwning.owasp-juice.shop/part3/donations.html"],["mat-stroked-button",""],[1,"fab","fa-stripe","fa-lg"],["mat-stroked-button","",3,"click",4,"ngIf"],[1,"fill-remaining-space"],["fxFlex","65%","fxFlex.lt-lg","100%",1,"mat-elevation-z0"],[1,"fas","fa-thumbs-up","confirmation",2,"margin-left","3px"],["href","./redirect?to=http://shop.spreadshirt.com/juiceshop"],[1,"fas","fa-tshirt","fa-lg"],["href","./redirect?to=http://shop.spreadshirt.de/juiceshop"],["href","./redirect?to=https://www.stickeryou.com/products/owasp-juice-shop/794"],[1,"fas","fa-sticky-note","fa-lg"],["href","./redirect?to=http://leanpub.com/juice-shop"],[1,"fab","fa-leanpub","fa-lg"],["translate","",3,"translateParams"],["mat-stroked-button","",3,"click"],[1,"fab","fa-btc","fa-lg"],[1,"fa-lg"],[1,"fab","fa-ethereum","fa-lg"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"div"),l.Ub(2,"app-payment-method",1),l.cc("emitSelection",function(t){return e.getMessage(t)}),l.Tb(),l.Pb(3,"mat-divider"),l.Fc(4,Tc,16,6,"div",2),l.Pb(5,"mat-divider"),l.Fc(6,Oc,26,26,"mat-expansion-panel",3),l.Pb(7,"mat-divider"),l.Fc(8,Dc,53,14,"mat-expansion-panel",4),l.Pb(9,"mat-divider"),l.Ub(10,"div",5),l.Ub(11,"button",6),l.cc("click",function(){return e.routeToPreviousUrl()}),l.Ub(12,"mat-icon"),l.Hc(13," navigate_before "),l.Tb(),l.Hc(14),l.hc(15,"translate"),l.Tb(),l.Ub(16,"button",7),l.cc("click",function(){return e.choosePayment()}),l.Ub(17,"mat-icon"),l.Hc(18," navigate_next "),l.Tb(),l.Ub(19,"span",8),l.Hc(20,"LABEL_CONTINUE"),l.Tb(),l.Tb(),l.Ub(21,"p",9),l.Fc(22,Fc,2,0,"span",10),l.Fc(23,Rc,2,0,"span",10),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(2),l.mc("allowDelete",!1),l.Cb(2),l.mc("ngIf","wallet"!==e.mode),l.Cb(2),l.mc("ngIf","wallet"!==e.mode),l.Cb(2),l.mc("ngIf","wallet"!==e.mode),l.Cb(6),l.Jc(" ",l.ic(15,8,"LABEL_BACK")," "),l.Cb(2),l.mc("disabled",void 0===e.paymentId&&"wallet"!==e.paymentMode),l.Cb(6),l.mc("ngIf","deluxe"!==e.mode&&"wallet"!==e.mode),l.Cb(1),l.mc("ngIf","wallet"===e.mode))},directives:[y.a,Cc,hn.a,Q.l,S.a,Qe.a,U.a,w.d,w.b,gn.b,gn.d,gn.e,gn.c,ee.c,ee.g,ee.f,ne.b,m.c,m.o,m.e,ee.b],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.btn-return[_ngcontent-%COMP%]{display:block;margin-left:0;margin-right:auto}.nextButton[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0;margin-top:-37px}mat-card[_ngcontent-%COMP%]{height:auto}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.mat-raised-button[_ngcontent-%COMP%]{margin-right:3px}.custom-card[_ngcontent-%COMP%]{padding:18px 24px}.card-title[_ngcontent-%COMP%]{font-size:15px;line-height:36px;vertical-align:middle}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.detail-divider[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative!important}"]}),Bc),Gc=((Nc=function t(){r(this,t)}).\u0275fac=function(t){return new(t||Nc)},Nc.\u0275cmp=l.Ib({type:Nc,selectors:[["app-saved-payment-methods"]],decls:2,vars:1,consts:[[1,"mat-own-card","mat-elevation-z6"],[3,"allowDelete"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Pb(1,"app-payment-method",1),l.Tb()),2&t&&(l.Cb(1),l.mc("allowDelete",!0))},directives:[y.a,Cc],styles:[".mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),Nc),Vc=((Mc=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/order-history"}return s(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getAll",value:function(){return this.http.get(this.host+"/orders").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"toggleDeliveryStatus",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t,"/delivery-status"),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Mc)(l.Yb(b.b))},Mc.\u0275prov=l.Kb({token:Mc,factory:Mc.\u0275fac,providedIn:"root"}),Mc),qc=["paginatorOrderHistory"],Jc=["paginator"];function Yc(t,e){1&t&&l.Pb(0,"mat-header-cell",32)}function zc(t,e){if(1&t&&(l.Ub(0,"mat-cell",33),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.orderId,"")}}function Wc(t,e){1&t&&l.Pb(0,"mat-header-cell",34)}function Qc(t,e){if(1&t&&(l.Ub(0,"mat-cell",35),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",null==n.totalPrice?null:n.totalPrice.toFixed(2),"\xa4")}}function Kc(t,e){1&t&&l.Pb(0,"mat-header-cell",36)}function $c(t,e){1&t&&(l.Ub(0,"div",40),l.Hc(1,"LABEL_IN_TRANSIT"),l.Tb())}function Zc(t,e){1&t&&(l.Ub(0,"div",41),l.Hc(1,"LABEL_DELIVERED"),l.Tb())}function Xc(t,e){if(1&t&&(l.Ub(0,"mat-cell",37),l.Fc(1,$c,2,0,"div",38),l.Fc(2,Zc,2,0,"div",39),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("ngIf",!n.delivered),l.Cb(1),l.mc("ngIf",n.delivered)}}function ts(t,e){1&t&&l.Pb(0,"mat-header-cell",35)}function es(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",43),l.cc("click",function(){l.xc(n);var t=l.gc().$implicit;return l.gc().changeDeliveryStatus(t.delivered,t.id)}),l.hc(1,"translate"),l.Ub(2,"mat-icon"),l.Hc(3," cached "),l.Tb(),l.Tb()}2&t&&l.nc("matTooltip",l.ic(1,1,"LABEL_MARK_AS_TRANSIT"))}function ns(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",43),l.cc("click",function(){l.xc(n);var t=l.gc().$implicit;return l.gc().changeDeliveryStatus(t.delivered,t.id)}),l.hc(1,"translate"),l.Ub(2,"mat-icon"),l.Hc(3," check_circle "),l.Tb(),l.Tb()}2&t&&l.nc("matTooltip",l.ic(1,1,"LABEL_MARK_AS_DELIVERED"))}function as(t,e){if(1&t&&(l.Ub(0,"mat-cell",35),l.Fc(1,es,4,3,"button",42),l.Fc(2,ns,4,3,"button",42),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("ngIf",n.delivered),l.Cb(1),l.mc("ngIf",!n.delivered)}}function is(t,e){1&t&&l.Pb(0,"mat-header-row")}function os(t,e){1&t&&l.Pb(0,"mat-row")}function rs(t,e){1&t&&l.Pb(0,"mat-header-cell",44)}function cs(t,e){if(1&t&&(l.Ub(0,"mat-cell",45),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc(" ",n.name,"")}}function ss(t,e){1&t&&l.Pb(0,"mat-header-cell",46)}function ls(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",47),l.Ub(1,"mat-form-field",48),l.Pb(2,"input",49,50),l.Ub(4,"button",51),l.cc("click",function(){l.xc(n);var t=e.$implicit,a=l.uc(3);return l.gc().modifyPrice(t.id,a.value)}),l.Pb(5,"i",52),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit;l.Cb(2),l.nc("value",a.price)}}function us(t,e){1&t&&l.Pb(0,"mat-header-cell",53)}function bs(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",47),l.Ub(1,"mat-form-field",48),l.Pb(2,"input",49,54),l.Ub(4,"button",51),l.cc("click",function(){l.xc(n);var t=e.$implicit,a=l.uc(3),i=l.gc();return i.modifyQuantity(i.quantityMap[t.id].id,a.value)}),l.Pb(5,"i",52),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc();l.Cb(2),l.nc("value",i.quantityMap[a.id].quantity)}}function ds(t,e){1&t&&l.Pb(0,"mat-header-row")}function ms(t,e){1&t&&l.Pb(0,"mat-row")}g.b.add(C.f),g.a.watch();var fs,ps=((fs=function(){function e(t,n,a,i){r(this,e),this.productService=t,this.quantityService=n,this.orderHistoryService=a,this.snackBarHelperService=i,this.orderHistoryColumns=["OrderId","Price","Status","StatusButton"],this.displayedColumns=["Product","Price","Quantity"]}return s(e,[{key:"ngAfterViewInit",value:function(){this.loadQuantity(),this.loadProducts(),this.loadOrders()}},{key:"loadQuantity",value:function(){var t=this;this.quantitySubscription=this.quantityService.getAll().subscribe(function(e){t.quantityMap={},e.map(function(e){t.quantityMap[e.ProductId]={id:e.id,quantity:e.quantity}})},function(t){return console.log(t)})}},{key:"loadProducts",value:function(){var t=this;this.productSubscription=this.productService.search("").subscribe(function(e){t.tableData=e,t.dataSource=new W.o(t.tableData),t.dataSource.paginator=t.paginator},function(t){return console.log(t)})}},{key:"loadOrders",value:function(){var e=this;this.orderHistoryService.getAll().subscribe(function(n){e.orderData=[];var a,i=t(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.orderData.push({id:o._id,orderId:o.orderId,totalPrice:o.totalPrice,delivered:o.delivered})}}catch(r){i.e(r)}finally{i.f()}e.orderSource=new W.o(e.orderData),e.orderSource.paginator=e.paginatorOrderHistory},function(t){return console.log(t)})}},{key:"ngOnDestroy",value:function(){this.productSubscription&&this.productSubscription.unsubscribe(),this.quantitySubscription&&this.quantitySubscription.unsubscribe()}},{key:"modifyQuantity",value:function(t,e){var n=this;this.quantityService.put(t,{quantity:e<0?0:e}).subscribe(function(t){var e=n.tableData.find(function(e){return e.id===t.ProductId});n.snackBarHelperService.open("Quantity for ".concat(e.name," has been updated."),"confirmBar"),n.loadQuantity()},function(t){n.snackBarHelperService.open(t.error,"errorBar"),console.log(t)})}},{key:"modifyPrice",value:function(t,e){var n=this;this.productService.put(t,{price:e<0?0:e}).subscribe(function(t){n.snackBarHelperService.open("Price for ".concat(t.name," has been updated."),"confirmBar"),n.loadProducts()},function(t){n.snackBarHelperService.open(t.error,"errorBar"),console.log(t)})}},{key:"changeDeliveryStatus",value:function(t,e){var n=this;this.orderHistoryService.toggleDeliveryStatus(e,{deliveryStatus:t}).subscribe(function(){n.loadOrders()},function(t){n.snackBarHelperService.open(t,"errorBar"),console.log(t)})}}]),e}()).\u0275fac=function(t){return new(t||fs)(l.Ob(Pn),l.Ob(En),l.Ob(Vc),l.Ob(z))},fs.\u0275cmp=l.Ib({type:fs,selectors:[["app-accounting"]],viewQuery:function(t,e){var n;1&t&&(l.Mc(qc,3),l.Mc(Jc,3)),2&t&&(l.tc(n=l.dc())&&(e.paginatorOrderHistory=n.first),l.tc(n=l.dc())&&(e.paginator=n.first))},decls:45,vars:8,consts:[[1,"mat-elevation-z6","mat-own-card"],["translate",""],["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px",1,"container"],["fxFlexAlign","center",1,"orders-container"],[1,"orders-table"],[1,"heading"],[3,"dataSource"],["matColumnDef","OrderId"],["translate","LABEL_ORDER_ID","fxFlex","50%",4,"matHeaderCellDef"],["fxFlex","50%",4,"matCellDef"],["matColumnDef","Price"],["translate","LABEL_PRICE","fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],["matColumnDef","Status"],["translate","LABEL_STATUS","fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","StatusButton"],["fxFlex","15%",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["color","accent",1,"mat-elevation-z0",3,"pageSize"],["paginatorOrderHistory",""],["fxFlexAlign.lt-md","center",1,"inventory-container"],[1,"inventory-table"],["matColumnDef","Product"],["translate","LABEL_PRODUCT","fxFlex","50%","fxFlex.lt-md","50%",4,"matHeaderCellDef"],["fxFlex","50%","fxFlex.lt-md","50%",4,"matCellDef"],["translate","LABEL_PRICE","fxFlex","25%","fxFlex.lt-md","25%",4,"matHeaderCellDef"],["fxFlex","25%","fxFlex.lt-md","25%",4,"matCellDef"],["matColumnDef","Quantity"],["translate","LABEL_QUANTITY","fxFlex","25%","fxFlex.lt-md","25%",4,"matHeaderCellDef"],["paginator",""],["translate","LABEL_ORDER_ID","fxFlex","50%"],["fxFlex","50%"],["translate","LABEL_PRICE","fxFlex","15%"],["fxFlex","15%"],["translate","LABEL_STATUS","fxFlex","20%"],["fxFlex","20%"],["class","error","translate","",4,"ngIf"],["class","confirmation","translate","",4,"ngIf"],["translate","",1,"error"],["translate","",1,"confirmation"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click"],["translate","LABEL_PRODUCT","fxFlex","50%","fxFlex.lt-md","50%"],["fxFlex","50%","fxFlex.lt-md","50%"],["translate","LABEL_PRICE","fxFlex","25%","fxFlex.lt-md","25%"],["fxFlex","25%","fxFlex.lt-md","25%"],[1,"input-field"],["matInput","","type","number",3,"value"],["price",""],["mat-icon-button","","matSuffix","",3,"click"],[1,"fas","fa-check"],["translate","LABEL_QUANTITY","fxFlex","25%","fxFlex.lt-md","25%"],["quanitity",""]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"h1",1),l.Hc(2,"ACCOUNTING"),l.Tb(),l.Ub(3,"div",2),l.Ub(4,"div",3),l.Ub(5,"div",4),l.Ub(6,"div",5),l.Ub(7,"span",1),l.Hc(8,"TITLE_TRACK_ORDERS"),l.Tb(),l.Tb(),l.Ub(9,"mat-table",6),l.Sb(10,7),l.Fc(11,Yc,1,0,"mat-header-cell",8),l.Fc(12,zc,2,1,"mat-cell",9),l.Rb(),l.Sb(13,10),l.Fc(14,Wc,1,0,"mat-header-cell",11),l.Fc(15,Qc,2,1,"mat-cell",12),l.Rb(),l.Sb(16,13),l.Fc(17,Kc,1,0,"mat-header-cell",14),l.Fc(18,Xc,3,2,"mat-cell",15),l.Rb(),l.Sb(19,16),l.Fc(20,ts,1,0,"mat-header-cell",17),l.Fc(21,as,3,2,"mat-cell",12),l.Rb(),l.Fc(22,is,1,0,"mat-header-row",18),l.Fc(23,os,1,0,"mat-row",19),l.Tb(),l.Pb(24,"mat-paginator",20,21),l.Tb(),l.Tb(),l.Ub(26,"div",22),l.Ub(27,"div",23),l.Ub(28,"div",5),l.Ub(29,"span",1),l.Hc(30,"TITLE_ALL_PRODUCTS"),l.Tb(),l.Tb(),l.Ub(31,"mat-table",6),l.Sb(32,24),l.Fc(33,rs,1,0,"mat-header-cell",25),l.Fc(34,cs,2,1,"mat-cell",26),l.Rb(),l.Sb(35,10),l.Fc(36,ss,1,0,"mat-header-cell",27),l.Fc(37,ls,6,1,"mat-cell",28),l.Rb(),l.Sb(38,29),l.Fc(39,us,1,0,"mat-header-cell",30),l.Fc(40,bs,6,1,"mat-cell",28),l.Rb(),l.Fc(41,ds,1,0,"mat-header-row",18),l.Fc(42,ms,1,0,"mat-row",19),l.Tb(),l.Pb(43,"mat-paginator",20,31),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(9),l.mc("dataSource",e.orderSource),l.Cb(13),l.mc("matHeaderRowDef",e.orderHistoryColumns),l.Cb(1),l.mc("matRowDefColumns",e.orderHistoryColumns),l.Cb(1),l.mc("pageSize",10),l.Cb(7),l.mc("dataSource",e.dataSource),l.Cb(10),l.mc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.mc("matRowDefColumns",e.displayedColumns),l.Cb(1),l.mc("pageSize",10))},directives:[y.a,U.a,w.d,w.e,w.a,W.n,W.c,W.i,W.b,W.k,W.m,xn.a,W.h,w.b,W.a,Q.l,S.a,Ke.a,Qe.a,W.j,W.l,ee.c,ne.b,ee.h],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);font-size:large;margin-bottom:10px;padding:12px}.container[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{justify-content:center}mat-table[_ngcontent-%COMP%]{height:767px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}.inventory-container[_ngcontent-%COMP%], .orders-container[_ngcontent-%COMP%]{max-width:600px;min-width:300px;width:70%}.inventory-table[_ngcontent-%COMP%], .orders-table[_ngcontent-%COMP%]{margin-bottom:25px}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{align-items:normal;display:block}mat-cell[_ngcontent-%COMP%]:last-child, mat-footer-cell[_ngcontent-%COMP%]:last-child, mat-header-cell[_ngcontent-%COMP%]:last-child{padding-right:50px}mat-row[_ngcontent-%COMP%]{height:69px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-bottom:20px;margin-left:10%;margin-right:10%}.product[_ngcontent-%COMP%]{cursor:pointer}.input-field[_ngcontent-%COMP%]{width:80px}"]}),fs),hs=function(t){return{numberdays:t}};function gs(t,e){if(1&t&&(l.Ub(0,"span"),l.Ub(1,"div",30),l.Hc(2,"ESTIMATED_TIME_OF_DELIVERY"),l.Tb(),l.Tb()),2&t){var n=l.gc(2);l.Cb(1),l.mc("translateParams",l.rc(1,hs,n.orderDetails.eta))}}function vs(t,e){if(1&t&&(l.Ub(0,"div"),l.Fc(1,gs,3,3,"span",7),l.Ub(2,"div"),l.Ub(3,"b",4),l.Hc(4,"LABEL_DELIVERY_ADDRESS"),l.Tb(),l.Tb(),l.Ub(5,"div"),l.Hc(6),l.Tb(),l.Ub(7,"div"),l.Hc(8),l.Tb(),l.Ub(9,"div"),l.Hc(10),l.Tb(),l.Ub(11,"div"),l.Ub(12,"span",4),l.Hc(13,"PHONE_NUMBER"),l.Tb(),l.Hc(14),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.mc("ngIf","?"!==n.orderDetails.eta&&void 0!==n.orderDetails.eta),l.Cb(5),l.Ic(null==n.address?null:n.address.fullName),l.Cb(2),l.Lc("",null==n.address?null:n.address.streetAddress,", ",null==n.address?null:n.address.city,", ",null==n.address?null:n.address.state,", ",null==n.address?null:n.address.zipCode,""),l.Cb(2),l.Ic(null==n.address?null:n.address.country),l.Cb(4),l.Jc(" ",null==n.address?null:n.address.mobileNum,"")}}function Cs(t,e){1&t&&(l.Ub(0,"mat-header-cell",4),l.Hc(1,"LABEL_PRODUCT"),l.Tb())}function Ts(t,e){if(1&t&&(l.Ub(0,"mat-cell"),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.name," ")}}function ys(t,e){1&t&&l.Pb(0,"mat-footer-cell")}function ws(t,e){1&t&&(l.Ub(0,"mat-header-cell",4),l.Hc(1,"LABEL_PRICE"),l.Tb())}function Us(t,e){if(1&t&&(l.Ub(0,"mat-cell"),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.price,"\xa4")}}function Ss(t,e){1&t&&l.Pb(0,"mat-footer-cell")}function Os(t,e){1&t&&(l.Ub(0,"mat-header-cell",4),l.Hc(1,"LABEL_QUANTITY"),l.Tb())}function ks(t,e){if(1&t&&(l.Ub(0,"mat-cell"),l.Ub(1,"span"),l.Hc(2),l.Tb(),l.Tb()),2&t){var n=e.$implicit;l.Cb(2),l.Ic(n.quantity)}}function Is(t,e){1&t&&(l.Ub(0,"mat-footer-cell"),l.Ub(1,"table",31),l.Ub(2,"tr",32),l.Ub(3,"td",4),l.Hc(4,"ITEMS"),l.Tb(),l.Tb(),l.Ub(5,"tr",32),l.Ub(6,"td",4),l.Hc(7,"DELIVERY"),l.Tb(),l.Tb(),l.Ub(8,"tr",32),l.Ub(9,"td",4),l.Hc(10,"PROMOTION"),l.Tb(),l.Tb(),l.Ub(11,"tr",33),l.Ub(12,"td",4),l.Hc(13,"LABEL_TOTAL_PRICE"),l.Tb(),l.Tb(),l.Tb(),l.Tb())}function Ps(t,e){1&t&&(l.Ub(0,"mat-header-cell",4),l.Hc(1,"LABEL_TOTAL_PRICE"),l.Tb())}function xs(t,e){if(1&t&&(l.Ub(0,"mat-cell",34),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.total.toFixed(2),"\xa4")}}function _s(t,e){if(1&t&&(l.Ub(0,"mat-footer-cell"),l.Ub(1,"table",34),l.Ub(2,"tr",32),l.Ub(3,"td"),l.Hc(4),l.Tb(),l.Tb(),l.Ub(5,"tr",32),l.Ub(6,"td"),l.Hc(7),l.Tb(),l.Tb(),l.Ub(8,"tr",32),l.Ub(9,"td"),l.Hc(10),l.Tb(),l.Tb(),l.Ub(11,"tr",33),l.Ub(12,"td"),l.Hc(13),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(4),l.Jc("",null==n.orderDetails.itemTotal?null:n.orderDetails.itemTotal.toFixed(2),"\xa4"),l.Cb(3),l.Jc("",n.deliveryPrice.toFixed(2),"\xa4"),l.Cb(3),l.Jc("",n.promotionalDiscount.toFixed(2),"\xa4"),l.Cb(3),l.Jc("",null==n.orderDetails.totalPrice?null:n.orderDetails.totalPrice.toFixed(2),"\xa4")}}function Hs(t,e){1&t&&l.Pb(0,"mat-header-row")}function As(t,e){1&t&&l.Pb(0,"mat-row")}function Es(t,e){1&t&&l.Pb(0,"mat-footer-row",35)}var Ls=function(t){return{id:t}},Ds=function(t){return{bonus:t}};g.b.add(v.k),g.a.watch();var Fs,Rs=((Fs=function(){function e(t,n,a,i,o){r(this,e),this.configurationService=t,this.addressService=n,this.trackOrderService=a,this.activatedRoute=i,this.basketService=o,this.tableColumns=["product","price","quantity","total price"],this.orderDetails={totalPrice:0},this.deliveryPrice=0,this.promotionalDiscount=0,this.tweetText="I just purchased",this.truncateTweet=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:140;if(!t)return null;var n=t.length>e;return"".concat(t.substring(0,e)).concat(n?"...":"")}}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.paramMap.subscribe(function(n){e.orderId=n.get("id"),e.trackOrderService.find(e.orderId).subscribe(function(n){e.promotionalDiscount=n.data[0].promotionalAmount?parseFloat(n.data[0].promotionalAmount):0,e.deliveryPrice=n.data[0].deliveryPrice?parseFloat(n.data[0].deliveryPrice):0,e.orderDetails.addressId=n.data[0].addressId,e.orderDetails.paymentId=n.data[0].paymentId,e.orderDetails.totalPrice=n.data[0].totalPrice,e.orderDetails.itemTotal=n.data[0].totalPrice+e.promotionalDiscount-e.deliveryPrice,e.orderDetails.eta=n.data[0].eta||"?",e.orderDetails.products=n.data[0].products,e.orderDetails.bonus=n.data[0].bonus,e.dataSource=new W.o(e.orderDetails.products);var a,i=t(e.orderDetails.products);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.tweetText+="%0a- "+o.name}}catch(r){i.e(r)}finally{i.f()}e.tweetText=e.truncateTweet(e.tweetText),e.configurationService.getApplicationConfiguration().subscribe(function(t){var n;(null===(n=null==t?void 0:t.application)||void 0===n?void 0:n.social)&&(e.tweetText+="%0afrom ",e.tweetText+=t.application.social.twitterUrl?t.application.social.twitterUrl.replace("https://twitter.com/","@"):t.application.name)},function(t){return console.log(t)}),e.addressService.getById(e.orderDetails.addressId).subscribe(function(t){e.address=t},function(t){return console.log(t)})},function(t){return console.log(t)})},function(t){return console.log(t)})}},{key:"openConfirmationPDF",value:function(){window.open("".concat(this.basketService.hostServer,"/ftp/order_").concat(this.orderId,".pdf"),"_blank")}}]),e}()).\u0275fac=function(t){return new(t||Fs)(l.Ob(h),l.Ob(Ti),l.Ob(kt),l.Ob(M.a),l.Ob(B))},Fs.\u0275cmp=l.Ib({type:Fs,selectors:[["app-order-completion"]],decls:51,vars:18,consts:[[1,"mat-elevation-z6","mat-own-card"],["fxLayout","row","fxLayout.lt-md","column"],["fxFlex","60%",1,"mat-elevation-z0"],["translate","",1,"confirmation"],["translate",""],["routerLink","/track-result/new","translate","",3,"queryParams"],["fxFlex","40%",1,"mat-elevation-z0"],[4,"ngIf"],[1,"mat-elevation-z0","table-container"],[1,"heading"],[1,"heading-text"],["fxFlex",""],[3,"href"],["mat-icon-button","","aria-label","Tweet"],[1,"fab","fa-twitter","fa-lg"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click"],[3,"dataSource"],["matColumnDef","product"],["translate","",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matFooterCellDef"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total price"],["class","price-align",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"mat-elevation-z0"],["translate","",3,"translateParams"],["translate","",1,"confirmation",3,"translateParams"],[1,"mat-table"],[1,"mat-row"],[1,"mat-row",2,"font-weight","bold"],[1,"price-align"],["mat-footer-row",""]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"div"),l.Ub(2,"div",1),l.Ub(3,"mat-card",2),l.Ub(4,"div"),l.Ub(5,"h1",3),l.Hc(6,"THANKS_FOR_PURCHASE"),l.Tb(),l.Ub(7,"div",4),l.Hc(8,"PURCHASE_COMMENT_PREFIX "),l.Ub(9,"a",5),l.Hc(10,"TITLE_TRACK_ORDERS"),l.Tb(),l.Hc(11," PURCHASE_COMMENT_SUFFIX"),l.Tb(),l.Tb(),l.Tb(),l.Ub(12,"mat-card",6),l.Fc(13,vs,15,8,"div",7),l.Tb(),l.Tb(),l.Tb(),l.Ub(14,"div",8),l.Ub(15,"div",9),l.Ub(16,"span",10),l.Hc(17),l.hc(18,"translate"),l.Tb(),l.Pb(19,"span",11),l.Ub(20,"a",12),l.Ub(21,"button",13),l.Pb(22,"i",14),l.Tb(),l.Tb(),l.Ub(23,"button",15),l.cc("click",function(){return e.openConfirmationPDF()}),l.hc(24,"translate"),l.Ub(25,"mat-icon"),l.Hc(26," note "),l.Tb(),l.Tb(),l.Tb(),l.Ub(27,"mat-table",16),l.Sb(28,17),l.Fc(29,Cs,2,0,"mat-header-cell",18),l.Fc(30,Ts,2,1,"mat-cell",19),l.Fc(31,ys,1,0,"mat-footer-cell",20),l.Rb(),l.Sb(32,21),l.Fc(33,ws,2,0,"mat-header-cell",18),l.Fc(34,Us,2,1,"mat-cell",19),l.Fc(35,Ss,1,0,"mat-footer-cell",20),l.Rb(),l.Sb(36,22),l.Fc(37,Os,2,0,"mat-header-cell",18),l.Fc(38,ks,3,1,"mat-cell",19),l.Fc(39,Is,14,0,"mat-footer-cell",20),l.Rb(),l.Sb(40,23),l.Fc(41,Ps,2,0,"mat-header-cell",18),l.Fc(42,xs,2,1,"mat-cell",24),l.Fc(43,_s,14,4,"mat-footer-cell",20),l.Rb(),l.Fc(44,Hs,1,0,"mat-header-row",25),l.Fc(45,As,1,0,"mat-row",26),l.Fc(46,Es,1,0,"mat-footer-row",27),l.Tb(),l.Tb(),l.Ub(47,"div"),l.Ub(48,"mat-card",28),l.Ub(49,"div",29),l.Hc(50,"BONUS_POINTS_COUNT"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(9),l.mc("queryParams",l.rc(14,Ls,e.orderId)),l.Cb(4),l.mc("ngIf",e.address),l.Cb(4),l.Ic(l.ic(18,10,"ORDER_SUMMARY")),l.Cb(3),l.oc("href","https://twitter.com/intent/tweet?text=",e.tweetText,"&hashtags=security",l.Ac),l.Cb(3),l.nc("matTooltip",l.ic(24,12,"PRINT_ORDER_CONFIRMATION")),l.Cb(4),l.mc("dataSource",e.dataSource),l.Cb(17),l.mc("matHeaderRowDef",e.tableColumns),l.Cb(1),l.mc("matRowDefColumns",e.tableColumns),l.Cb(1),l.mc("matFooterRowDef",e.tableColumns),l.Cb(3),l.mc("translateParams",l.rc(16,Ds,e.orderDetails.bonus)))},directives:[y.a,w.d,w.b,U.a,M.d,Q.l,S.a,Ke.a,Qe.a,W.n,W.c,W.i,W.b,W.e,W.k,W.m,W.g,W.h,W.a,W.d,W.j,W.l,W.f],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large}.heading-text[_ngcontent-%COMP%]{justify-content:center;padding:12px 20px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.price-align[_ngcontent-%COMP%]{text-align:right}.tweet-logo[_ngcontent-%COMP%]{height:24px}"]}),Fs);function Ms(t,e){if(1&t&&(l.Ub(0,"mat-card",20),l.Ub(1,"div"),l.Ub(2,"div"),l.Ub(3,"b",14),l.Hc(4,"PAYMENT_METHOD"),l.Tb(),l.Tb(),l.Ub(5,"div"),l.Ub(6,"span",14),l.Hc(7,"CARD_ENDING_IN"),l.Tb(),l.Hc(8),l.Tb(),l.Ub(9,"div"),l.Ub(10,"span",14),l.Hc(11,"CARD_HOLDER"),l.Tb(),l.Hc(12),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.gc(2);l.Cb(8),l.Jc(" ",null==n.paymentMethod?null:n.paymentMethod.cardNum,""),l.Cb(4),l.Jc(" ",null==n.paymentMethod?null:n.paymentMethod.fullName,"")}}function Ns(t,e){1&t&&(l.Ub(0,"mat-card",20),l.Ub(1,"div"),l.Ub(2,"div"),l.Ub(3,"b",14),l.Hc(4,"PAYMENT_METHOD"),l.Tb(),l.Tb(),l.Ub(5,"div"),l.Ub(6,"span",14),l.Hc(7,"DIGITAL_WALLET"),l.Tb(),l.Tb(),l.Tb(),l.Tb())}function Bs(t,e){if(1&t&&(l.Ub(0,"div",16),l.Ub(1,"mat-card",17),l.Ub(2,"div"),l.Ub(3,"div"),l.Ub(4,"b",14),l.Hc(5,"LABEL_DELIVERY_ADDRESS"),l.Tb(),l.Tb(),l.Ub(6,"div"),l.Hc(7),l.Tb(),l.Ub(8,"div"),l.Hc(9),l.Tb(),l.Ub(10,"div"),l.Hc(11),l.Tb(),l.Ub(12,"div"),l.Ub(13,"span",14),l.Hc(14,"PHONE_NUMBER"),l.Tb(),l.Hc(15),l.Tb(),l.Tb(),l.Tb(),l.Fc(16,Ms,13,2,"mat-card",18),l.Fc(17,Ns,8,0,"ng-template",null,19,l.Gc),l.Tb()),2&t){var n=l.uc(18),a=l.gc();l.Cb(7),l.Ic(null==a.address?null:a.address.fullName),l.Cb(2),l.Lc("",null==a.address?null:a.address.streetAddress,", ",null==a.address?null:a.address.city,", ",null==a.address?null:a.address.state,", ",null==a.address?null:a.address.zipCode,""),l.Cb(2),l.Ic(null==a.address?null:a.address.country),l.Cb(4),l.Jc(" ",null==a.address?null:a.address.mobileNum,""),l.Cb(1),l.mc("ngIf","wallet"!==a.paymentMethod)("ngIfElse",n)}}var js,Gs=function(t){return{bonus:t}},Vs=((js=function(){function t(e,n,a,i,o,c,s){r(this,t),this.router=e,this.addressService=n,this.paymentService=a,this.basketService=i,this.deliveryService=o,this.ngZone=c,this.snackBarHelperService=s,this.bonus=0,this.itemTotal=0,this.deliveryPrice=0,this.promotionalDiscount=0}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.deliveryService.getById(sessionStorage.getItem("deliveryMethodId")).subscribe(function(e){t.deliveryPrice=e.price}),this.addressService.getById(sessionStorage.getItem("addressId")).subscribe(function(e){t.address=e},function(t){return console.log(t)}),"wallet"!==sessionStorage.getItem("paymentId")?this.paymentService.getById(sessionStorage.getItem("paymentId")).subscribe(function(e){e.cardNum=String(e.cardNum).substring(String(e.cardNum).length-4),t.paymentMethod=e},function(t){return console.log(t)}):"wallet"===sessionStorage.getItem("paymentId")&&(this.paymentMethod="wallet")}},{key:"getMessage",value:function(t){this.itemTotal=t[0],this.promotionalDiscount=sessionStorage.getItem("couponDiscount")?parseFloat(sessionStorage.getItem("couponDiscount"))/100*this.itemTotal:0,this.bonus=t[1]}},{key:"placeOrder",value:function(){var t=this,e={paymentId:sessionStorage.getItem("paymentId"),addressId:sessionStorage.getItem("addressId"),deliveryMethodId:sessionStorage.getItem("deliveryMethodId")};this.basketService.checkout(Number(sessionStorage.getItem("bid")),btoa(sessionStorage.getItem("couponDetails")),e).subscribe(function(e){sessionStorage.removeItem("paymentId"),sessionStorage.removeItem("addressId"),sessionStorage.removeItem("deliveryMethodId"),sessionStorage.removeItem("couponDetails"),sessionStorage.removeItem("couponDiscount"),t.basketService.updateNumberOfCartItems(),t.ngZone.run(o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.router.navigate(["/order-completion",e]);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})))},function(e){var n;console.log(e),t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error.message,"errorBar")})}}]),t}()).\u0275fac=function(t){return new(t||js)(l.Ob(M.b),l.Ob(Ti),l.Ob($r),l.Ob(B),l.Ob(Kr),l.Ob(l.B),l.Ob(z))},js.\u0275cmp=l.Ib({type:js,selectors:[["app-order-summary"]],decls:36,vars:10,consts:[["fxLayout","row","fxLayoutGap","10%","fxLayout.lt-md","column",1,"mat-elevation-z6","mat-own-card"],["fxLayout","column","fxLayoutGap","20px","fxFlex","70%"],["fxLayout","row","fxLayoutGap","10px","fxLayout.lt-md","column",4,"ngIf"],[3,"allowEdit","totalPrice","emitTotal"],["fxFlex","40%"],[1,"mat-elevation-z0"],["translate","",1,"order-summary"],[1,"mat-table"],[1,"mat-row"],["translate","",1,"mat-cell","label"],[1,"mat-cell","price"],["translate","",1,"mat-footer-cell","label"],[1,"mat-footer-cell","price"],["mat-raised-button","","mat-button","","color","primary","aria-label","Complete your purchase","id","checkoutButton",1,"btn","btn-pay",3,"click"],["translate",""],["translate","",1,"bonus-points",3,"translateParams"],["fxLayout","row","fxLayoutGap","10px","fxLayout.lt-md","column"],["fxFlex","60%",1,"mat-elevation-z0"],["class","mat-elevation-z0","fxFlex","40%",4,"ngIf","ngIfElse"],["walletPayment",""],["fxFlex","40%",1,"mat-elevation-z0"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"div",1),l.Fc(2,Bs,19,9,"div",2),l.Ub(3,"app-purchase-basket",3),l.cc("emitTotal",function(t){return e.getMessage(t)}),l.Tb(),l.Tb(),l.Ub(4,"div",4),l.Ub(5,"mat-card",5),l.Ub(6,"div",6),l.Hc(7,"ORDER_SUMMARY"),l.Tb(),l.Ub(8,"table",7),l.Ub(9,"tr",8),l.Ub(10,"td",9),l.Hc(11,"ITEMS"),l.Tb(),l.Ub(12,"td",10),l.Hc(13),l.Tb(),l.Tb(),l.Ub(14,"tr",8),l.Ub(15,"td",9),l.Hc(16,"DELIVERY"),l.Tb(),l.Ub(17,"td",10),l.Hc(18),l.Tb(),l.Tb(),l.Ub(19,"tr",8),l.Ub(20,"td",9),l.Hc(21,"PROMOTION"),l.Tb(),l.Ub(22,"td",10),l.Hc(23),l.Tb(),l.Tb(),l.Ub(24,"tr",8),l.Ub(25,"td",11),l.Hc(26,"LABEL_TOTAL_PRICE"),l.Tb(),l.Ub(27,"td",12),l.Hc(28),l.Tb(),l.Tb(),l.Tb(),l.Ub(29,"button",13),l.cc("click",function(){return e.placeOrder()}),l.Ub(30,"mat-icon"),l.Hc(31," monetization_on "),l.Tb(),l.Ub(32,"span",14),l.Hc(33,"PLACE_ORDER_AND_PAY"),l.Tb(),l.Tb(),l.Ub(34,"div",15),l.Hc(35,"CHECKOUT_FOR_BONUS_POINTS"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(2),l.mc("ngIf",e.address&&e.paymentMethod),l.Cb(1),l.mc("allowEdit",!1)("totalPrice",!1),l.Cb(10),l.Jc("",null==e.itemTotal?null:e.itemTotal.toFixed(2),"\xa4"),l.Cb(5),l.Jc("",e.deliveryPrice.toFixed(2),"\xa4"),l.Cb(5),l.Jc("",e.promotionalDiscount.toFixed(2),"\xa4"),l.Cb(5),l.Jc("",e.itemTotal+e.deliveryPrice-e.promotionalDiscount==null?null:(e.itemTotal+e.deliveryPrice-e.promotionalDiscount).toFixed(2),"\xa4 "),l.Cb(6),l.mc("translateParams",l.rc(8,Gs,e.bonus)))},directives:[y.a,w.d,w.e,w.b,Q.l,yt,U.a,S.a,Qe.a],styles:[".btn-pay[_ngcontent-%COMP%]{display:block;margin-top:10px;width:100%}mat-card[_ngcontent-%COMP%]{height:auto;margin-top:20px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}mat-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.price[_ngcontent-%COMP%]:last-of-type{padding-right:10px;text-align:right}.label[_ngcontent-%COMP%]:first-of-type{padding-left:10px}table[_ngcontent-%COMP%]{width:100%}.mat-footer-cell[_ngcontent-%COMP%]{font-weight:700}.order-summary[_ngcontent-%COMP%]{font-size:x-large;padding-bottom:10px;padding-left:10px}.bonus-points[_ngcontent-%COMP%]{margin-top:5px;text-align:center}"]}),js);function qs(t,e){1&t&&(l.Ub(0,"mat-error",1),l.Hc(1," MANDATORY_AMOUNT "),l.Tb())}function Js(t,e){1&t&&(l.Ub(0,"mat-error",1),l.Hc(1," AMOUNT_LIMIT "),l.Tb())}var Ys,zs=((Ys=function(){function t(e,n,a){r(this,t),this.router=e,this.walletService=n,this.ngZone=a,this.balanceControl=new m.d("",[m.y.required,m.y.min(10),m.y.max(1e3)])}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.walletService.get().subscribe(function(e){t.balance=parseFloat(e).toFixed(2)},function(t){console.log(t)})}},{key:"continue",value:function(){var t=this;sessionStorage.setItem("walletTotal",this.balanceControl.value),this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/payment","wallet"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}}]),t}()).\u0275fac=function(t){return new(t||Ys)(l.Ob(M.b),l.Ob(Qr),l.Ob(l.B))},Ys.\u0275cmp=l.Ib({type:Ys,selectors:[["app-wallet"]],decls:25,vars:14,consts:[[1,"mat-elevation-z6"],["translate",""],[1,"confirmation"],["appearance","outline","color","accent"],["type","number","matInput","","aria-label","Enter an amount",3,"formControl"],["translate","",4,"ngIf"],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Button to continue to payment",3,"disabled","click"],[1,"material-icons"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"h1"),l.Ub(2,"div"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Tb(),l.Ub(5,"h3",1),l.Hc(6,"LABEL_ADD_MONEY"),l.Tb(),l.Ub(7,"p"),l.Ub(8,"b"),l.Ub(9,"span",1),l.Hc(10,"LABEL_WALLET_BALANCE"),l.Tb(),l.Ub(11,"span",2),l.Hc(12),l.Tb(),l.Tb(),l.Tb(),l.Ub(13,"mat-form-field",3),l.Ub(14,"mat-label"),l.Hc(15),l.hc(16,"translate"),l.Tb(),l.Pb(17,"input",4),l.Fc(18,qs,2,0,"mat-error",5),l.Fc(19,Js,2,0,"mat-error",5),l.Tb(),l.Ub(20,"button",6),l.cc("click",function(){return e.continue()}),l.Ub(21,"i",7),l.Hc(22," send "),l.Tb(),l.Hc(23),l.hc(24,"translate"),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.Ic(l.ic(4,8,"DIGITAL_WALLET")),l.Cb(9),l.Jc(" ",e.balance,""),l.Cb(3),l.Ic(l.ic(16,10,"LABEL_AMOUNT")),l.Cb(2),l.mc("formControl",e.balanceControl),l.Cb(1),l.mc("ngIf",e.balanceControl.invalid&&e.balanceControl.errors.required),l.Cb(1),l.mc("ngIf",e.balanceControl.invalid&&(e.balanceControl.errors.min||e.balanceControl.errors.max)),l.Cb(1),l.mc("disabled",e.balanceControl.invalid),l.Cb(3),l.Jc(" ",l.ic(24,12,"LABEL_CONTINUE")," "))},directives:[y.a,U.a,ee.c,ee.g,m.t,ne.b,m.c,m.o,m.e,Q.l,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-left:30%;margin-right:30%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px;width:100%}.form-container[_ngcontent-%COMP%]{min-width:350px}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}"]}),Ys);function Ws(t,e){1&t&&(l.Ub(0,"div",32),l.Hc(1,"LABEL_IN_TRANSIT"),l.Tb())}function Qs(t,e){1&t&&(l.Ub(0,"div",33),l.Hc(1,"LABEL_DELIVERED"),l.Tb())}function Ks(t,e){1&t&&(l.Ub(0,"mat-header-cell",34),l.Hc(1,"LABEL_PRODUCT"),l.Tb())}function $s(t,e){if(1&t&&(l.Ub(0,"mat-cell",35),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.name," ")}}function Zs(t,e){1&t&&(l.Ub(0,"mat-header-cell",36),l.Hc(1,"LABEL_PRICE"),l.Tb())}function Xs(t,e){if(1&t&&(l.Ub(0,"mat-cell",37),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.price,"\xa4")}}function tl(t,e){1&t&&(l.Ub(0,"mat-header-cell",36),l.Hc(1,"LABEL_QUANTITY"),l.Tb())}function el(t,e){if(1&t&&(l.Ub(0,"mat-cell",37),l.Ub(1,"span"),l.Hc(2),l.Tb(),l.Tb()),2&t){var n=e.$implicit;l.Cb(2),l.Ic(n.quantity)}}function nl(t,e){1&t&&(l.Ub(0,"mat-header-cell",36),l.Hc(1,"LABEL_TOTAL_PRICE"),l.Tb())}function al(t,e){if(1&t&&(l.Ub(0,"mat-cell",38),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.total.toFixed(2),"\xa4")}}function il(t,e){1&t&&l.Pb(0,"mat-header-cell",36)}function ol(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",37),l.Ub(1,"button",17),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(3).showDetail(t.id)}),l.hc(2,"translate"),l.Ub(3,"mat-icon"),l.Hc(4," rate_review "),l.Tb(),l.Tb(),l.Tb()}2&t&&(l.Cb(1),l.nc("matTooltip",l.ic(2,1,"WRITE_REVIEW")))}function rl(t,e){1&t&&l.Pb(0,"mat-header-row")}function cl(t,e){1&t&&l.Pb(0,"mat-row")}function sl(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"div",6),l.Ub(2,"div",7),l.Ub(3,"div",8),l.Ub(4,"div",9),l.Ub(5,"div",10),l.Hc(6,"LABEL_ORDER_ID"),l.Tb(),l.Ub(7,"div"),l.Hc(8),l.Tb(),l.Tb(),l.Ub(9,"div",11),l.Ub(10,"div",10),l.Hc(11,"LABEL_TOTAL_PRICE"),l.Tb(),l.Ub(12,"div"),l.Hc(13),l.Tb(),l.Tb(),l.Ub(14,"div",11),l.Ub(15,"div",10),l.Hc(16,"LABEL_BONUS"),l.Tb(),l.Ub(17,"div"),l.Hc(18),l.Tb(),l.Tb(),l.Ub(19,"div",12),l.Fc(20,Ws,2,0,"div",13),l.Fc(21,Qs,2,0,"div",14),l.Tb(),l.Ub(22,"div",15),l.Ub(23,"button",16),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).trackOrder(t.orderId)}),l.hc(24,"translate"),l.Ub(25,"mat-icon"),l.Hc(26," local_shipping "),l.Tb(),l.Tb(),l.Tb(),l.Ub(27,"div",15),l.Ub(28,"button",17),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc(2).openConfirmationPDF(t.orderId)}),l.hc(29,"translate"),l.Ub(30,"mat-icon"),l.Hc(31," note "),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Pb(32,"div",18),l.Tb(),l.Ub(33,"mat-table",19),l.Sb(34,20),l.Fc(35,Ks,2,0,"mat-header-cell",21),l.Fc(36,$s,2,1,"mat-cell",22),l.Rb(),l.Sb(37,23),l.Fc(38,Zs,2,0,"mat-header-cell",24),l.Fc(39,Xs,2,1,"mat-cell",25),l.Rb(),l.Sb(40,26),l.Fc(41,tl,2,0,"mat-header-cell",24),l.Fc(42,el,3,1,"mat-cell",25),l.Rb(),l.Sb(43,27),l.Fc(44,nl,2,0,"mat-header-cell",24),l.Fc(45,al,2,1,"mat-cell",28),l.Rb(),l.Sb(46,29),l.Fc(47,il,1,0,"mat-header-cell",24),l.Fc(48,ol,5,3,"mat-cell",25),l.Rb(),l.Fc(49,rl,1,0,"mat-header-row",30),l.Fc(50,cl,1,0,"mat-row",31),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc(2);l.Cb(8),l.Jc("#",a.orderId,""),l.Cb(5),l.Jc("",a.totalPrice.toFixed(2),"\xa4"),l.Cb(5),l.Ic(a.bonus),l.Cb(2),l.mc("ngIf",!a.delivered),l.Cb(1),l.mc("ngIf",a.delivered),l.Cb(2),l.nc("matTooltip",l.ic(24,10,"LABEL_TRACK_ORDER")),l.Cb(5),l.nc("matTooltip",l.ic(29,12,"PRINT_ORDER_CONFIRMATION")),l.Cb(5),l.mc("dataSource",a.products),l.Cb(16),l.mc("matHeaderRowDef",i.tableColumns),l.Cb(1),l.mc("matRowDefColumns",i.tableColumns)}}function ll(t,e){if(1&t&&(l.Ub(0,"div",4),l.Fc(1,sl,51,14,"div",5),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.mc("ngForOf",n.orders)}}function ul(t,e){1&t&&(l.Ub(0,"mat-card",39),l.Pb(1,"img",40),l.Ub(2,"mat-card-title"),l.Ub(3,"span",41),l.Hc(4," NO_SEARCH_RESULT "),l.Tb(),l.Tb(),l.Ub(5,"mat-card-content"),l.Ub(6,"span",41),l.Hc(7," NO_ORDERS_PLACED "),l.Tb(),l.Tb(),l.Tb())}var bl,dl=((bl=function(){function e(t,n,a,i,o,c){r(this,e),this.router=t,this.dialog=n,this.orderHistoryService=a,this.basketService=i,this.productService=o,this.ngZone=c,this.tableColumns=["product","price","quantity","total price","review"],this.orders=[],this.emptyState=!0}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.orderHistoryService.get().subscribe(function(n){n=n.reverse(),e.emptyState=0===n.length;var a,i=t(n);try{for(i.s();!(a=i.n()).done;){var o,r=a.value,c=[],s=t(r.products);try{for(s.s();!(o=s.n()).done;){var l=o.value;c.push({id:l.id,name:l.name,price:l.price,quantity:l.quantity,total:l.total})}}catch(u){s.e(u)}finally{s.f()}e.orders.push({orderId:r.orderId,totalPrice:r.totalPrice,bonus:r.bonus,products:new W.o(c),delivered:r.delivered})}}catch(u){i.e(u)}finally{i.f()}},function(t){return console.log(t)})}},{key:"showDetail",value:function(t){var e=this;this.productService.get(t).subscribe(function(t){var n={id:t.id,name:t.name,description:t.description,image:t.image,price:t.price,points:Math.round(t.price/10)};e.dialog.open(In,{width:"500px",height:"max-content",data:{productData:n}})},function(t){return console.log(t)})}},{key:"openConfirmationPDF",value:function(t){window.open("".concat(this.basketService.hostServer,"/ftp/order_").concat(t,".pdf"),"_blank")}},{key:"trackOrder",value:function(t){var e=this;this.ngZone.run(o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.router.navigate(["/track-result"],{queryParams:{id:t}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})))}}]),e}()).\u0275fac=function(t){return new(t||bl)(l.Ob(M.b),l.Ob(bn.b),l.Ob(Vc),l.Ob(B),l.Ob(Pn),l.Ob(l.B))},bl.\u0275cmp=l.Ib({type:bl,selectors:[["app-order-history"]],decls:8,vars:5,consts:[[1,"card1"],[1,"mat-card-cvr"],["fxLayout","column","fxLayoutGap","20px",4,"ngIf","ngIfElse"],["emptyResult",""],["fxLayout","column","fxLayoutGap","20px"],[4,"ngFor","ngForOf"],[1,"table-container","mat-elevation-z4","custom-slate"],[1,"heading"],["fxLayout","row"],["fxFlex","40%","fxLayout","column"],["translate",""],["fxFlex","15%","fxLayout","column"],["fxFlex","20%"],["class","error","translate","",4,"ngIf"],["class","confirmation","translate","",4,"ngIf"],["fxFlex","5%","fxLayoutAlign","end"],["mat-icon-button","","aria-label","Track Your Order","matTooltipPosition","below",3,"matTooltip","click"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click"],[1,"border"],[3,"dataSource"],["matColumnDef","product"],["translate","","fxFlex","40%",4,"matHeaderCellDef"],["fxFlex","40%",4,"matCellDef"],["matColumnDef","price"],["translate","","fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","total price"],["class","price-align","fxFlex","15%",4,"matCellDef"],["matColumnDef","review"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["translate","",1,"error"],["translate","",1,"confirmation"],["translate","","fxFlex","40%"],["fxFlex","40%"],["translate","","fxFlex","15%"],["fxFlex","15%"],["fxFlex","15%",1,"price-align"],[1,"mat-elevation-z6","emptyState"],["alt"," No results found","src","assets/public/images/products/no-results.png",1,"img-responsive","noResult"],["translate","",1,"noResultText"]],template:function(t,e){if(1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"div",1),l.Ub(2,"mat-card-title"),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Fc(5,ll,2,1,"div",2),l.Fc(6,ul,8,0,"ng-template",null,3,l.Gc),l.Tb(),l.Tb()),2&t){var n=l.uc(7);l.Cb(3),l.Jc(" ",l.ic(4,3,"LABEL_ORDER_HISTORY")," "),l.Cb(2),l.mc("ngIf",!e.emptyState)("ngIfElse",n)}},directives:[y.a,y.g,Q.l,w.d,w.e,Q.k,w.b,U.a,w.c,S.a,Ke.a,Qe.a,W.n,W.c,W.i,W.b,W.k,W.m,W.h,W.a,W.j,W.l,y.b],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%], .heading-text[_ngcontent-%COMP%]{padding:12px 20px}.heading-text[_ngcontent-%COMP%]{justify-content:center}mat-card[_ngcontent-%COMP%]{height:auto;width:80%}.card1[_ngcontent-%COMP%]{border-radius:5px;margin:0 auto;width:80%}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.price-align[_ngcontent-%COMP%]{text-align:right}mat-card-title[_ngcontent-%COMP%]{margin-bottom:25px}.border[_ngcontent-%COMP%]{border:.5px solid #f2f2f2}.emptyState[_ngcontent-%COMP%]{display:block;height:auto!important;margin:20px auto;width:50%}.custom-slate[_ngcontent-%COMP%]{border-radius:5px}.noResult[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:60%}.noResultText[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center}"]}),bl);function ml(t,e){if(1&t&&(l.Ub(0,"div",22),l.Ub(1,"h1",4),l.Hc(2,"LABEL_DELIVERY_ADDRESS"),l.Tb(),l.Ub(3,"div"),l.Hc(4),l.Tb(),l.Ub(5,"div"),l.Hc(6),l.Tb(),l.Ub(7,"div"),l.Hc(8),l.Tb(),l.Ub(9,"div"),l.Ub(10,"span",4),l.Hc(11,"PHONE_NUMBER"),l.Tb(),l.Hc(12),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(4),l.Ic(null==n.address?null:n.address.fullName),l.Cb(2),l.Lc("",null==n.address?null:n.address.streetAddress,", ",null==n.address?null:n.address.city,", ",null==n.address?null:n.address.state,", ",null==n.address?null:n.address.zipCode,""),l.Cb(2),l.Ic(null==n.address?null:n.address.country),l.Cb(4),l.Jc(" ",null==n.address?null:n.address.mobileNum,"")}}function fl(t,e){1&t&&l.Pb(0,"mat-divider",23)}function pl(t,e){1&t&&l.Pb(0,"mat-header-cell",24)}function hl(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-cell",24),l.Ub(1,"mat-radio-button",25),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc().selectMethod(t.id)})("change",function(t){l.xc(n);var a=e.$implicit,i=l.gc();return t?i.selection.toggle(a):null}),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc();l.Cb(1),l.mc("checked",i.selection.isSelected(a))}}function gl(t,e){1&t&&l.Pb(0,"mat-header-cell",26)}function vl(t,e){if(1&t&&(l.Ub(0,"mat-cell",26),l.Pb(1,"i",27),l.Hc(2),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.mc("ngClass",n.icon),l.Cb(1),l.Jc("\xa0",n.name,"")}}function Cl(t,e){1&t&&l.Pb(0,"mat-header-cell",28)}function Tl(t,e){if(1&t&&(l.Ub(0,"mat-cell",29),l.Hc(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Jc("",n.price.toFixed(2),"\xa4")}}function yl(t,e){1&t&&l.Pb(0,"mat-header-cell",30)}function wl(t,e){if(1&t&&(l.Ub(0,"mat-cell",29),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Kc("",n.eta," ",l.ic(2,2,"LABEL_DAYS"),"")}}function Ul(t,e){1&t&&l.Pb(0,"mat-header-row")}function Sl(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-row",31),l.cc("click",function(){l.xc(n);var t=e.$implicit,a=e.$implicit,i=l.gc();return i.selection.toggle(t),i.selectMethod(a.id)}),l.Tb()}}g.b.add(C.E,C.H,C.X),g.a.watch();var Ol,kl,Il=((Ol=function(){function t(e,n,a,i,o){r(this,t),this.location=e,this.deliverySerivce=n,this.addressService=a,this.router=i,this.ngZone=o,this.displayedColumns=["Selection","Name","Price","ETA"],this.deliveryMethodId=void 0,this.selection=new yi.c(!1,[])}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.addressService.getById(sessionStorage.getItem("addressId")).subscribe(function(e){t.address=e},function(t){return console.log(t)}),this.deliverySerivce.get().subscribe(function(e){console.log(e),t.methods=e,t.dataSource=new W.o(t.methods)},function(t){return console.log(t)})}},{key:"selectMethod",value:function(t){this.deliveryMethodId=this.selection.hasValue()||t?t:void 0}},{key:"routeToPreviousUrl",value:function(){this.location.back()}},{key:"chooseDeliveryMethod",value:function(){var t=this;sessionStorage.setItem("deliveryMethodId",this.deliveryMethodId.toString()),this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/payment","shop"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}}]),t}()).\u0275fac=function(t){return new(t||Ol)(l.Ob(Q.g),l.Ob(Kr),l.Ob(Ti),l.Ob(M.b),l.Ob(l.B))},Ol.\u0275cmp=l.Ib({type:Ol,selectors:[["app-delivery-method"]],decls:33,vars:9,consts:[[1,"mat-elevation-z6"],["class","addressCont",4,"ngIf"],["class","detail-divider",4,"ngIf"],[2,"height","12px"],["translate",""],[3,"dataSource"],["matColumnDef","Selection"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","Name"],["fxFlex","30%",4,"matHeaderCellDef"],["fxFlex","30%",4,"matCellDef"],["matColumnDef","Price"],["translate","LABEL_PRICE","fxFlex","25%",4,"matHeaderCellDef"],["fxFlex","25%",4,"matCellDef"],["matColumnDef","ETA"],["translate","LABEL_EXPECTED_DELIVERY","fxFlex","25%",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],[2,"margin-top","20px"],["mat-stroked-button","",1,"btn","btn-return",3,"click"],["mat-raised-button","","mat-button","","color","primary","aria-label","Proceed to delivery method selection",1,"btn","nextButton",3,"disabled","click"],[1,"addressCont"],[1,"detail-divider"],["fxFlex","20%"],[3,"checked","click","change"],["fxFlex","30%"],[3,"ngClass"],["translate","LABEL_PRICE","fxFlex","25%"],["fxFlex","25%"],["translate","LABEL_EXPECTED_DELIVERY","fxFlex","25%"],[3,"click"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card",0),l.Fc(1,ml,13,7,"div",1),l.Fc(2,fl,1,0,"mat-divider",2),l.Pb(3,"div",3),l.Ub(4,"div"),l.Ub(5,"h1",4),l.Hc(6,"LABEL_CHOOSE_A_DELIVERY_SPEED"),l.Tb(),l.Ub(7,"mat-table",5),l.Sb(8,6),l.Fc(9,pl,1,0,"mat-header-cell",7),l.Fc(10,hl,2,1,"mat-cell",8),l.Rb(),l.Sb(11,9),l.Fc(12,gl,1,0,"mat-header-cell",10),l.Fc(13,vl,3,2,"mat-cell",11),l.Rb(),l.Sb(14,12),l.Fc(15,Cl,1,0,"mat-header-cell",13),l.Fc(16,Tl,2,1,"mat-cell",14),l.Rb(),l.Sb(17,15),l.Fc(18,yl,1,0,"mat-header-cell",16),l.Fc(19,wl,3,4,"mat-cell",14),l.Rb(),l.Fc(20,Ul,1,0,"mat-header-row",17),l.Fc(21,Sl,1,0,"mat-row",18),l.Tb(),l.Tb(),l.Ub(22,"div",19),l.Ub(23,"button",20),l.cc("click",function(){return e.routeToPreviousUrl()}),l.Ub(24,"mat-icon"),l.Hc(25," navigate_before "),l.Tb(),l.Hc(26),l.hc(27,"translate"),l.Tb(),l.Ub(28,"button",21),l.cc("click",function(){return e.chooseDeliveryMethod()}),l.Ub(29,"mat-icon"),l.Hc(30," navigate_next "),l.Tb(),l.Ub(31,"span",4),l.Hc(32,"LABEL_CONTINUE"),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(1),l.mc("ngIf",e.address),l.Cb(1),l.mc("ngIf",e.address),l.Cb(5),l.mc("dataSource",e.dataSource),l.Cb(13),l.mc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.mc("matRowDefColumns",e.displayedColumns),l.Cb(5),l.Jc(" ",l.ic(27,7,"LABEL_BACK")," "),l.Cb(2),l.mc("disabled",void 0===e.deliveryMethodId))},directives:[y.a,Q.l,U.a,W.n,W.c,W.i,W.b,W.k,W.m,S.a,Qe.a,hn.a,W.h,w.b,W.a,wi.a,Q.j,K.a,W.j,W.l],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.addressCont[_ngcontent-%COMP%]{margin-bottom:12px}.detail-divider[_ngcontent-%COMP%]{border-top-width:4px!important;margin-left:1%!important;width:98%!important}.btn-return[_ngcontent-%COMP%]{display:block;margin-left:0;margin-right:auto}.nextButton[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0;margin-top:-37px}"]}),Ol),Pl=i("LRne"),xl=i("HDdC"),_l=function(t){if("string"==typeof t.value)return Object(Pl.a)(null);var e=t.value,n=new FileReader;return new xl.a(function(t){n.addEventListener("loadend",function(){for(var e=new Uint8Array(n.result).subarray(0,4),a="",i=!1,o=0;o<e.length;o++)a+=e[o].toString(16);switch(a){case"89504e47":i=!0;break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":i=!0;break;default:i=!1}t.next(i?null:{invalidMimeType:!0}),t.complete()}),n.readAsArrayBuffer(e)})},Hl=((kl=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/memories"}return s(t,[{key:"addMemory",value:function(t,e){var n=new FormData;return n.append("image",e,t),n.append("caption",t),this.http.post(this.host,n).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(){return this.http.get(this.host+"/").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||kl)(l.Yb(b.b))},kl.\u0275prov=l.Kb({token:kl,factory:kl.\u0275fac,providedIn:"root"}),kl);function Al(t,e){if(1&t&&(l.Ub(0,"a",10),l.Ub(1,"button",11),l.Pb(2,"i",12),l.Tb(),l.Tb()),2&t){var n=l.gc().$implicit,a=l.gc(2);l.pc("href","https://twitter.com/intent/tweet?text=",n.caption," ",a.twitterHandle,"&hashtags=appsec",l.Ac)}}function El(t,e){if(1&t&&(l.Ub(0,"span",6),l.Pb(1,"img",7),l.Ub(2,"div",8),l.Ub(3,"div"),l.Hc(4),l.Tb(),l.Fc(5,Al,3,2,"a",9),l.Tb(),l.Tb()),2&t){var n=e.$implicit,a=l.gc(2);l.Cb(1),l.nc("src",n.url,l.Ac),l.nc("alt",n.caption),l.Cb(3),l.Ic(n.caption),l.Cb(1),l.mc("ngIf",a.twitterHandle)}}function Ll(t,e){if(1&t&&(l.Ub(0,"div",4),l.Fc(1,El,6,4,"span",5),l.Tb()),2&t){var n=l.gc();l.Cb(1),l.mc("ngForOf",n.slideshowDataSource)}}function Dl(t,e){1&t&&(l.Ub(0,"mat-card",13),l.Pb(1,"img",14),l.Ub(2,"mat-card-title"),l.Ub(3,"span",15),l.Hc(4," NO_SEARCH_RESULT "),l.Tb(),l.Tb(),l.Ub(5,"mat-card-content"),l.Ub(6,"span",15),l.Hc(7," EMPTY_MEMORY_LIST "),l.Tb(),l.Tb(),l.Tb())}function Fl(t,e){if(1&t&&(l.Ub(0,"div",28),l.Pb(1,"img",29),l.Tb()),2&t){var n=l.gc(2);l.Cb(1),l.mc("src",n.imagePreview,l.Ac)("alt",n.form.value.caption)}}function Rl(t,e){1&t&&(l.Ub(0,"mat-error",17),l.Hc(1),l.hc(2,"translate"),l.Tb()),2&t&&(l.Cb(1),l.Ic(l.ic(2,1,"MANDATORY_CAPTION")))}function Ml(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"div",16),l.Ub(2,"h2",17),l.Hc(3,"LABEL_SHARE_A_MEMORY"),l.Tb(),l.Ub(4,"form",18),l.Ub(5,"div"),l.Ub(6,"button",19),l.cc("click",function(){return l.xc(n),l.uc(10).click()}),l.Hc(7),l.hc(8,"translate"),l.Tb(),l.Ub(9,"input",20,21),l.cc("change",function(t){return l.xc(n),l.gc().onImagePicked(t)}),l.Tb(),l.Tb(),l.Fc(11,Fl,2,2,"div",22),l.Ub(12,"mat-form-field",23),l.Ub(13,"mat-label",17),l.Hc(14,"LABEL_CAPTION"),l.Tb(),l.Pb(15,"input",24),l.Fc(16,Rl,3,3,"mat-error",25),l.Tb(),l.Ub(17,"button",26),l.cc("click",function(){return l.xc(n),l.gc().save()}),l.Ub(18,"i",27),l.Hc(19," send "),l.Tb(),l.Hc(20),l.hc(21,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(4),l.mc("formGroup",a.form),l.Cb(3),l.Jc("",l.ic(8,6,"LABEL_PICK_IMAGE")," "),l.Cb(4),l.mc("ngIf",""!==a.imagePreview&&a.imagePreview&&a.form.get("image").valid),l.Cb(5),l.mc("ngIf",a.form.get("caption").invalid),l.Cb(1),l.mc("disabled",a.form.get("image").invalid||a.form.get("caption").invalid),l.Cb(3),l.Jc(" ",l.ic(21,8,"BTN_SUBMIT")," ")}}g.b.add(v.k),g.a.watch();var Nl,Bl=((Nl=function(){function e(t,n,a){r(this,e),this.photoWallService=t,this.configurationService=n,this.snackBarHelperService=a,this.emptyState=!0,this.form=new m.g({image:new m.d("",{validators:[m.y.required],asyncValidators:[_l]}),caption:new m.d("",[m.y.required])}),this.slideshowDataSource=[],this.twitterHandle=null}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.slideshowDataSource=[],this.photoWallService.get().subscribe(function(n){var a;e.emptyState=0===n.length;var i,o=t(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;(null===(a=r.User)||void 0===a?void 0:a.username)&&(r.caption="".concat(r.caption," (\xa9 ").concat(r.User.username,")")),e.slideshowDataSource.push({url:r.imagePath,caption:r.caption})}}catch(c){o.e(c)}finally{o.f()}},function(t){return console.log(t)}),this.configurationService.getApplicationConfiguration().subscribe(function(t){var n;(null===(n=null==t?void 0:t.application)||void 0===n?void 0:n.social)&&t.application.social.twitterUrl&&(e.twitterHandle=t.application.social.twitterUrl.replace("https://twitter.com/","@"))},function(t){return console.log(t)})}},{key:"onImagePicked",value:function(t){var e=this,n=t.target.files[0];this.form.patchValue({image:n}),this.form.get("image").updateValueAndValidity();var a=new FileReader;a.onload=function(){e.imagePreview=a.result},a.readAsDataURL(n)}},{key:"save",value:function(){var t=this;this.photoWallService.addMemory(this.form.value.caption,this.form.value.image).subscribe(function(){t.resetForm(),t.ngOnInit(),t.snackBarHelperService.open("IMAGE_UPLOAD_SUCCESS","confirmBar")},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),console.log(e)})}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"resetForm",value:function(){this.form.get("image").setValue(""),this.form.get("image").markAsPristine(),this.form.get("image").markAsUntouched(),this.form.get("caption").setValue(""),this.form.get("caption").markAsPristine(),this.form.get("caption").markAsUntouched(),this.form.get("caption").setErrors(null)}}]),e}()).\u0275fac=function(t){return new(t||Nl)(l.Ob(Hl),l.Ob(h),l.Ob(z))},Nl.\u0275cmp=l.Ib({type:Nl,selectors:[["app-photo-wall"]],decls:9,vars:6,consts:[[1,"heading","mat-elevation-z6","mat-own-card",2,"margin-bottom","10px"],["class","grid",4,"ngIf","ngIfElse"],["emptyResult",""],[4,"ngIf"],[1,"grid"],["class","container mat-elevation-z6",4,"ngFor","ngForOf"],[1,"container","mat-elevation-z6"],[1,"image",3,"src","alt"],[1,"overlay"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["mat-icon-button","","aria-label","Tweet"],[1,"fab","fa-twitter","fa-lg"],[1,"mat-elevation-z0","emptyState"],["alt"," No results found","src","assets/public/images/products/no-results.png",1,"img-responsive","noResult"],["translate","",1,"noResultText"],[2,"margin-top","10px"],["translate",""],["enctype","multipart/form-data",3,"formGroup"],["mat-stroked-button","","type","button",3,"click"],["type","file","name","file",3,"change"],["filePicker",""],["class","image-preview",4,"ngIf"],["appearance","outline","color","accent"],["formControlName","caption","type","text","matInput",""],["translate","",4,"ngIf"],["id","submitButton","mat-raised-button","","color","primary",3,"disabled","click"],[1,"material-icons"],[1,"image-preview"],[3,"src","alt"]],template:function(t,e){if(1&t&&(l.Ub(0,"mat-card",0),l.Ub(1,"h1"),l.Hc(2),l.hc(3,"translate"),l.Tb(),l.Ub(4,"div"),l.Fc(5,Ll,2,1,"div",1),l.Tb(),l.Fc(6,Dl,8,0,"ng-template",null,2,l.Gc),l.Fc(8,Ml,22,10,"div",3),l.Tb()),2&t){var n=l.uc(7);l.Cb(2),l.Ic(l.ic(3,4,"LABEL_PHOTO_WALL")),l.Cb(3),l.mc("ngIf",!e.emptyState)("ngIfElse",n),l.Cb(3),l.mc("ngIf",e.isLoggedIn())}},directives:[y.a,Q.l,Q.k,S.a,y.g,U.a,y.b,m.A,m.p,m.h,ee.c,ee.g,m.c,ne.b,m.o,m.f,ee.b],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:10%;margin-right:10%}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:10px;width:60%}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.heading-main[_ngcontent-%COMP%]{font-size:x-large;justify-content:center}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}.grid[_ngcontent-%COMP%]{align-items:center;display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;box-shadow:2px 2px 6px 0 rgba(0,0,0,.3);max-width:100%}.container[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]{display:block}.overlay[_ngcontent-%COMP%]{bottom:0;font-size:20px;left:0;opacity:0;padding:20px;position:absolute;right:0;text-align:center;transition:.5s ease}.container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.emptyState[_ngcontent-%COMP%]{display:block;height:auto!important;margin:20px auto;width:50%}.noResult[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:60%}.noResultText[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center}.tweet-logo[_ngcontent-%COMP%]{height:24px}"]}),Nl);function jl(t,e){if(1&t&&(l.Ub(0,"div",22),l.Ub(1,"div",23),l.Ub(2,"p",24),l.Hc(3),l.Tb(),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(3),l.Ic(n.error)}}function Gl(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"div",14),l.Hc(2),l.Tb(),l.Ub(3,"div",14),l.Ub(4,"button",25),l.cc("click",function(){return l.xc(n),l.gc().upgradeToDeluxe()}),l.Ub(5,"span",13),l.Hc(6,"LABEL_BECOME_MEMBER"),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(2),l.Jc(" ",a.membershipCost,"\xa4 ")}}var Vl,ql,Jl=function(t){return{appname:t}},Yl=[{path:"administration",component:ja,canActivate:[V]},{path:"accounting",component:ps,canActivate:[q]},{path:"about",component:xe},{path:"address/select",component:Gr,canActivate:[G]},{path:"address/saved",component:Vr,canActivate:[G]},{path:"address/create",component:jr,canActivate:[G]},{path:"address/edit/:addressId",component:jr,canActivate:[G]},{path:"delivery-method",component:Il},{path:"deluxe-membership",component:(Vl=function(){function t(e,n,a,i,o,c,s){r(this,t),this.router=e,this.userService=n,this.cookieService=a,this.configurationService=i,this.route=o,this.ngZone=c,this.io=s,this.membershipCost=0,this.error=void 0,this.applicationName="OWASP Juice Shop",this.logoSrc="assets/public/images/JuiceShop_Logo.png"}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n=t.route.snapshot.queryParams.testDecal;if((null==e?void 0:e.application)&&(e.application.name&&(t.applicationName=e.application.name),e.application.logo)){var a=e.application.logo;"http"===a.substring(0,4)&&(a=decodeURIComponent(a.substring(a.lastIndexOf("/")+1))),t.logoSrc="assets/public/images/"+(n||a)}n&&t.ngZone.runOutsideAngular(function(){t.io.socket().emit("verifySvgInjectionChallenge",n)})},function(t){return console.log(t)}),this.userService.deluxeStatus().subscribe(function(e){t.membershipCost=e.membershipCost},function(e){t.error=e.error.error})}},{key:"upgradeToDeluxe",value:function(){var t=this;this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/payment","deluxe"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}}]),t}(),Vl.\u0275fac=function(t){return new(t||Vl)(l.Ob(M.b),l.Ob(R),l.Ob(d.a),l.Ob(h),l.Ob(M.a),l.Ob(l.B),l.Ob(An))},Vl.\u0275cmp=l.Ib({type:Vl,selectors:[["app-deluxe-user"]],decls:50,vars:10,consts:[["fxLayout","column","fxLayoutGap","10px",1,"main-wrapper"],["class","heading mat-elevation-z6",4,"ngIf"],[1,"mat-elevation-z6","deluxe-membership"],["fxFlexAlign","center","fxFlex","30%",1,"img-container"],["viewBox","0 0 720 720","xmlns","http://www.w3.org/2000/svg"],["href","assets/public/images/deluxe/blankBoxes.png","x","0","y","0","height","720","width","720"],["x","260","y","130","height","50"],["x","230","y","330","height","70"],["x","70","y","355","height","40"],["x","120","y","450","height","55"],["x","500","y","410","height","45"],["fxFlexAlign","center","fxFlex","60%"],[1,"item-name"],["translate",""],[1,"item-description"],["translate","",3,"translateParams"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxLayout.lt-md","column"],["fxFlex","33.33%",1,"mat-elevation-z6"],["fxFlexAlign","center","fxFlex","40%",1,"img-container"],[1,"img-responsive","img-thumbnail",2,"font-size","100px"],["translate","",1,"item-description"],[1,"heading","mat-elevation-z6"],[2,"margin-top","5px"],[1,"error"],["aria-label","Add to Basket","color","primary","mat-button","","mat-raised-button","",1,"btn-member",3,"click"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Fc(1,jl,4,1,"div",1),l.Ub(2,"mat-card",2),l.Ub(3,"div",3),l.fc(),l.Ub(4,"svg",4),l.Pb(5,"image",5),l.Pb(6,"image",6),l.Pb(7,"image",7),l.Pb(8,"image",8),l.Pb(9,"image",9),l.Pb(10,"image",10),l.Tb(),l.Tb(),l.ec(),l.Ub(11,"div",11),l.Ub(12,"div",12),l.Ub(13,"b",13),l.Hc(14,"LABEL_DELUXE_MEMBERSHIP"),l.Tb(),l.Tb(),l.Ub(15,"div",14),l.Ub(16,"span",15),l.Hc(17,"DESCRIPTION_DELUXE_MEMBERSHIP"),l.Tb(),l.Tb(),l.Fc(18,Gl,7,1,"div",16),l.Tb(),l.Tb(),l.Ub(19,"div",17),l.Ub(20,"mat-card",18),l.Ub(21,"div",19),l.Ub(22,"mat-icon",20),l.Hc(23," slideshow "),l.Tb(),l.Tb(),l.Ub(24,"div",11),l.Ub(25,"div",12),l.Ub(26,"b",13),l.Hc(27,"LABEL_DEALS_OFFERS"),l.Tb(),l.Tb(),l.Ub(28,"div",21),l.Hc(29," DESCRIPTION_DEALS_OFFERS "),l.Tb(),l.Tb(),l.Tb(),l.Ub(30,"mat-card",18),l.Ub(31,"div",19),l.Ub(32,"mat-icon",20),l.Hc(33," directions_car "),l.Tb(),l.Tb(),l.Ub(34,"div",11),l.Ub(35,"div",12),l.Ub(36,"b",13),l.Hc(37,"LABEL_FREE_FAST_DELIVERY"),l.Tb(),l.Tb(),l.Ub(38,"div",21),l.Hc(39," DESCRIPTION_FREE_FAST_DELIVERY "),l.Tb(),l.Tb(),l.Tb(),l.Ub(40,"mat-card",18),l.Ub(41,"div",19),l.Ub(42,"mat-icon",20),l.Hc(43," add "),l.Tb(),l.Tb(),l.Ub(44,"div",11),l.Ub(45,"div",12),l.Ub(46,"b",13),l.Hc(47,"LABEL_UNLIMITED_PURCHASE"),l.Tb(),l.Tb(),l.Ub(48,"div",21),l.Hc(49," DESCRIPTION_UNLIMITED_PURCHASE "),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(1),l.mc("ngIf",e.error),l.Cb(5),l.Db("href",e.logoSrc),l.Cb(1),l.Db("href",e.logoSrc),l.Cb(1),l.Db("href",e.logoSrc),l.Cb(1),l.Db("href",e.logoSrc),l.Cb(1),l.Db("href",e.logoSrc),l.Cb(6),l.mc("translateParams",l.rc(8,Jl,e.applicationName)),l.Cb(2),l.mc("ngIf",!e.error))},directives:[w.d,w.e,Q.l,y.a,w.a,w.b,U.a,Qe.a,S.a],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}.img-thumbnail[_ngcontent-%COMP%]{background:none;border:0;width:100%}.btn-member[_ngcontent-%COMP%]{bottom:10%}.item-description[_ngcontent-%COMP%]{font-size:medium;margin-top:12px;text-align:center}.item-name[_ngcontent-%COMP%]{font-size:large;text-align:center}"]}),Vl),canActivate:[G]},{path:"saved-payment-methods",component:Gc},{path:"basket",component:Ot},{path:"order-completion/:id",component:Rs},{path:"contact",component:be},{path:"photo-wall",component:Bl},{path:"complain",component:si},{path:"chatbot",component:vi},{path:"order-summary",component:Vs},{path:"order-history",component:dl},{path:"payment/:entity",component:jc},{path:"wallet",component:zs},{path:"login",component:oa},{path:"forgot-password",component:un},{path:"recycle",component:eo},{path:"register",component:We},{path:"search",component:Wn},{path:"hacking-instructor",component:Wn},{path:"score-board",component:tr},{path:"track-result",component:$t},{path:"track-result/new",component:$t,data:{type:"new"}},{path:"2fa/enter",component:ir},{path:"privacy-security",component:ur,children:[{path:"privacy-policy",component:Pr},{path:"change-password",component:Ka},{path:"two-factor-authentication",component:hr},{path:"data-export",component:kr},{path:"erasure-request",component:Ce},{path:"last-login-ip",component:Ir}]},{matcher:function(t){return 0===t.length?null:window.location.href.includes("#access_token=")?{consumed:t}:null},data:{params:window.location.href.substr(window.location.href.indexOf("#"))},component:N},{matcher:function(t){return 0===t.length?null:t[0].toString().match((e=Array.prototype.slice.call([25,184,174,179,182,186]),n=e.shift(),e.reverse().map(function(t,e){return String.fromCharCode(t-n-45-e)}).join("")+36669..toString(36).toLowerCase()+function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=Array.prototype.slice.call(arguments),i=a.shift();return a.reverse().map(function(t,e){return String.fromCharCode(t-i-24-e)}).join("")}(13,144,87,152,139,144,83,138)+10..toString(36).toLowerCase()))?{consumed:t}:null;var e,n},component:D},{path:"403",component:cr},{path:"**",component:Wn}],zl=M.e.forRoot(Yl,{useHash:!0,relativeLinkResolution:"legacy"}),Wl=i("k5Gf"),Ql=i("IbkX"),Kl=((ql=function(){function t(e){r(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/admin"}return s(t,[{key:"getApplicationVersion",value:function(){return this.http.get(this.host+"/application-version").pipe(Object(f.a)(function(t){return t.version}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||ql)(l.Yb(b.b))},ql.\u0275prov=l.Kb({token:ql,factory:ql.\u0275fac,providedIn:"root"}),ql),$l=i("l0rg"),Zl=i("SqCe");function Xl(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",36),l.cc("click",function(){return l.xc(n),l.gc().onToggleSidenav()}),l.Ub(1,"mat-icon"),l.Hc(2," exit_to_app "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"TITLE_LOGIN")," "))}function tu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",37),l.cc("click",function(){l.xc(n);var t=l.gc();return t.onToggleSidenav(),t.goToProfilePage()}),l.Ub(1,"mat-icon"),l.Hc(2," account_circle "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(4),l.Jc(" ",a.userEmail," ")}}function eu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",38),l.cc("click",function(){return l.xc(n),l.gc().onToggleSidenav()}),l.Ub(1,"mat-icon"),l.Hc(2," account_balance "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"ACCOUNTING")," "))}var nu=function(t){return{rotated:t}};function au(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-list-item",39),l.cc("click",function(){l.xc(n);var t=l.gc();return t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," check_circle_outline "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Ub(6,"mat-icon",40),l.Hc(7," expand_more "),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(4),l.Jc(" ",l.ic(5,2,"ORDERS_AND_PAYMENT")," "),l.Cb(2),l.mc("ngClass",l.rc(4,nu,a.showOrdersSubmenu))}}function iu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",47),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," archive "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"LABEL_ORDER_HISTORY")," "))}function ou(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",48),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," autorenew "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"NAV_RECYCLE")," "))}function ru(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",49),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," my_location "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"MY_SAVED_ADRESSES")," "))}function cu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",50),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," credit_card "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"MY_PAYMENT_OPTIONS")," "))}function su(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",51),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," account_balance_wallet "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"DIGITAL_WALLET")," "))}var lu=function(t){return{expanded:t}};function uu(t,e){if(1&t&&(l.Ub(0,"div",41),l.Fc(1,iu,6,3,"a",42),l.Fc(2,ou,6,3,"a",43),l.Pb(3,"mat-divider"),l.Fc(4,ru,6,3,"a",44),l.Fc(5,cu,6,3,"a",45),l.Fc(6,su,6,3,"a",46),l.Tb()),2&t){var n=l.gc();l.mc("ngClass",l.rc(6,lu,n.showOrdersSubmenu)),l.Cb(1),l.mc("ngIf",n.isLoggedIn()),l.Cb(1),l.mc("ngIf",n.isLoggedIn()),l.Cb(2),l.mc("ngIf",n.isLoggedIn()),l.Cb(1),l.mc("ngIf",n.isLoggedIn()),l.Cb(1),l.mc("ngIf",n.isLoggedIn())}}function bu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-list-item",52),l.cc("click",function(){l.xc(n);var t=l.gc();return t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," security "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Ub(6,"mat-icon",40),l.Hc(7," expand_more "),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(4),l.Jc(" ",l.ic(5,2,"PRIVACY_AND_SECURITY")," "),l.Cb(2),l.mc("ngClass",l.rc(4,nu,a.showPrivacySubmenu))}}function du(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",59),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," assignment "),l.Tb(),l.Ub(3,"span",60),l.Hc(4,"TITLE_PRIVACY_POLICY"),l.Tb(),l.Tb()}}function mu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",61),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," get_app "),l.Tb(),l.Ub(3,"span",60),l.Hc(4,"TITLE_REQUEST_DATA_EXPORT"),l.Tb(),l.Tb()}}function fu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",62),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," delete_forever "),l.Tb(),l.Ub(3,"span",60),l.Hc(4,"DATA_SUBJECT_TITLE"),l.Tb(),l.Tb()}}function pu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",63),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," edit "),l.Tb(),l.Ub(3,"span",60),l.Hc(4,"TITLE_CHANGE_PASSWORD"),l.Tb(),l.Tb()}}function hu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",64),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," exposure_plus_2 "),l.Tb(),l.Ub(3,"span",60),l.Hc(4,"TITLE_TWO_FACTOR_AUTH_CONFIG"),l.Tb(),l.Tb()}}function gu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",65),l.cc("click",function(){l.xc(n);var t=l.gc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Ub(1,"mat-icon"),l.Hc(2," place "),l.Tb(),l.Ub(3,"span",60),l.Hc(4,"LAST_LOGIN_IP"),l.Tb(),l.Tb()}}function vu(t,e){if(1&t&&(l.Ub(0,"div",41),l.Fc(1,du,5,0,"a",53),l.Fc(2,mu,5,0,"a",54),l.Fc(3,fu,5,0,"a",55),l.Pb(4,"mat-divider"),l.Fc(5,pu,5,0,"a",56),l.Fc(6,hu,5,0,"a",57),l.Fc(7,gu,5,0,"a",58),l.Tb()),2&t){var n=l.gc();l.mc("ngClass",l.rc(7,lu,n.showPrivacySubmenu)),l.Cb(1),l.mc("ngIf",n.isLoggedIn()),l.Cb(1),l.mc("ngIf",n.isLoggedIn()),l.Cb(1),l.mc("ngIf",n.isLoggedIn()),l.Cb(2),l.mc("ngIf",n.isLoggedIn()),l.Cb(1),l.mc("ngIf",n.isLoggedIn()),l.Cb(1),l.mc("ngIf",n.isLoggedIn())}}function Cu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",66),l.cc("click",function(){l.xc(n);var t=l.gc();return t.onToggleSidenav(),t.logout()}),l.Ub(1,"mat-icon"),l.Hc(2," power_settings_new "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"TITLE_LOGOUT")," "))}function Tu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",67),l.cc("click",function(){return l.xc(n),l.gc().onToggleSidenav()}),l.Ub(1,"i",13),l.Hc(2," sentiment_dissatisfied "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"NAV_COMPLAIN")," "))}function yu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",68),l.cc("click",function(){return l.xc(n),l.gc().onToggleSidenav()}),l.Ub(1,"i",13),l.Hc(2," chat "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"SECTION_SUPPORT_CHAT")," "))}function wu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",69),l.cc("click",function(){return l.xc(n),l.gc().onToggleSidenav()}),l.Ub(1,"i",13),l.Hc(2," card_membership "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"LABEL_DELUXE_MEMBERSHIP")," "))}function Uu(t,e){1&t&&l.Pb(0,"mat-divider",70)}function Su(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",71),l.cc("click",function(){return l.xc(n),l.gc().onToggleSidenav()}),l.Pb(1,"mat-icon",72),l.Ub(2,"span",14),l.Hc(3),l.hc(4,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(3),l.Jc(" ",l.ic(4,1,"TITLE_SCORE_BOARD")," "))}function Ou(t,e){if(1&t){var n=l.Vb();l.Ub(0,"a",73),l.cc("click",function(){return l.xc(n),l.gc().startHackingInstructor()}),l.Ub(1,"i",13),l.Hc(2," school "),l.Tb(),l.Ub(3,"span",14),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"BTN_GETTING_STARTED")," "))}function ku(t,e){1&t&&(l.Ub(0,"a",74),l.Pb(1,"mat-icon",75),l.Ub(2,"span",14),l.Hc(3," GitHub "),l.Tb(),l.Tb())}var Iu,Pu,xu=((Pu=function(){function t(e,n,a,i,o,c,s,u,b){var d=this;r(this,t),this.administrationService=e,this.challengeService=n,this.ngZone=a,this.io=i,this.userService=o,this.cookieService=c,this.router=s,this.configurationService=u,this.loginGuard=b,this.applicationName="OWASP Juice Shop",this.showGitHubLink=!0,this.userEmail="",this.scoreBoardVisible=!1,this.version="",this.showPrivacySubmenu=!1,this.showOrdersSubmenu=!1,this.isShowing=!1,this.offerScoreBoardTutorial=!1,this.sidenavToggle=new l.o,this.onToggleSidenav=function(){d.sidenavToggle.emit()}}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.administrationService.getApplicationVersion().subscribe(function(e){e&&(t.version="v"+e)},function(t){return console.log(t)}),this.getApplicationDetails(),this.getScoreBoardStatus(),localStorage.getItem("token")?this.getUserDetails():this.userEmail="",this.userService.getLoggedInState().subscribe(function(e){e?t.getUserDetails():t.userEmail=""}),this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){"scoreBoardChallenge"===e.key&&(t.scoreBoardVisible=!0)})})}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){var t=this;this.userService.saveLastLoginIp().subscribe(function(e){t.noop()},function(t){return console.log(t)}),localStorage.removeItem("token"),this.cookieService.delete("token","/"),sessionStorage.removeItem("bid"),sessionStorage.removeItem("itemTotal"),this.userService.isLoggedIn.next(!1),this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}},{key:"goToProfilePage",value:function(){window.location.replace("./profile")}},{key:"noop",value:function(){}},{key:"getScoreBoardStatus",value:function(){var t=this;this.challengeService.find({name:"Score Board"}).subscribe(function(e){t.ngZone.run(function(){t.scoreBoardVisible=e[0].solved})},function(t){return console.log(t)})}},{key:"getUserDetails",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.userEmail=e.email},function(t){return console.log(t)})}},{key:"getApplicationDetails",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.name)&&(t.applicationName=e.application.name),(null==e?void 0:e.application)&&(t.showGitHubLink=e.application.showGitHubLinks),(null==e?void 0:e.application.welcomeBanner.showOnFirstStart)&&e.hackingInstructor.isEnabled&&(t.offerScoreBoardTutorial=e.application.welcomeBanner.showOnFirstStart&&e.hackingInstructor.isEnabled)},function(t){return console.log(t)})}},{key:"isAccounting",value:function(){var t,e=this.loginGuard.tokenDecode();return"accounting"===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.role)}},{key:"startHackingInstructor",value:function(){this.onToggleSidenav(),console.log('Starting instructions for challenge "Score Board"'),i.e(5).then(i.bind(null,"s2oO")).then(function(t){t.startHackingInstructorFor("Score Board")})}}]),t}()).\u0275fac=function(t){return new(t||Pu)(l.Ob(Kl),l.Ob(no),l.Ob(l.B),l.Ob(An),l.Ob(R),l.Ob(d.a),l.Ob(M.b),l.Ob(h),l.Ob(G))},Pu.\u0275cmp=l.Ib({type:Pu,selectors:[["sidenav"]],outputs:{sidenavToggle:"sidenavToggle"},decls:72,vars:27,consts:[["color","primary",1,"mat-elevation-z6"],["mat-button","",2,"height","0","position","absolute"],["mat-subheader","","translate","","fxHide","","fxShow.lt-md","",1,"side-subHeader"],["fxHide","","fxShow.lt-md",""],["mat-list-item","","routerLink","/login","aria-label","Go to login page",3,"click",4,"ngIf"],["mat-list-item","","aria-label","Go to user profile",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/accounting","aria-label","Go to accounting page",3,"click",4,"ngIf"],["class","parent","aria-label","Show Orders and Payment Menu",3,"click",4,"ngIf"],["class","submenu",3,"ngClass",4,"ngIf"],["class","parent","aria-label","Show Privacy and Security Menu",3,"click",4,"ngIf"],["mat-list-item","","aria-label","Logout",3,"click",4,"ngIf"],["mat-subheader","","translate","",1,"side-subHeader"],["mat-list-item","","routerLink","/contact","aria-label","Go to contact us page",3,"click"],[1,"material-icons"],[1,"menu-text","truncate"],["mat-list-item","","routerLink","/complain","aria-label","Go to complain page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/chatbot","aria-label","Go to chatbot page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/about","aria-label","Go to about us page",3,"click"],["mat-list-item","","routerLink","/photo-wall","aria-label","Go to photo wall",3,"click"],["mat-list-item","","routerLink","/deluxe-membership","aria-label","Go to deluxe membership page",3,"click",4,"ngIf"],["style","margin-bottom: 10px;",4,"ngIf"],["mat-list-item","","routerLink","/score-board","aria-label","Open score-board",3,"click",4,"ngIf"],["mat-list-item","","aria-label","Launch beginners tutorial",3,"click",4,"ngIf"],["mat-list-item","","href","./redirect?to=https://github.com/bkimminich/juice-shop","aria-label","Go to OWASP Juice Shop GitHub page",4,"ngIf"],[1,"appVersion"],[2,"font-size","13px"],[2,"font-size","12px"],[2,"margin-top","10px"],[1,"icon-angular"],[1,"icon-html5"],[1,"icon-sass"],[1,"icon-css3"],[1,"icon-javascript-alt"],[1,"icon-nodejs"],[1,"icon-database-alt2"],[1,"icon-mongodb"],["mat-list-item","","routerLink","/login","aria-label","Go to login page",3,"click"],["mat-list-item","","aria-label","Go to user profile",3,"click"],["mat-list-item","","routerLink","/accounting","aria-label","Go to accounting page",3,"click"],["aria-label","Show Orders and Payment Menu",1,"parent",3,"click"],[1,"menu-button",3,"ngClass"],[1,"submenu",3,"ngClass"],["mat-list-item","","routerLink","/order-history","aria-label","Go to order history page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/recycle","aria-label","Go to recycling page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/address/saved","aria-label","Go to saved address page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/wallet","aria-label","Go to wallet page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/order-history","aria-label","Go to order history page",3,"click"],["mat-list-item","","routerLink","/recycle","aria-label","Go to recycling page",3,"click"],["mat-list-item","","routerLink","/address/saved","aria-label","Go to saved address page",3,"click"],["mat-list-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page",3,"click"],["mat-list-item","","routerLink","/wallet","aria-label","Go to wallet page",3,"click"],["aria-label","Show Privacy and Security Menu",1,"parent",3,"click"],["mat-list-item","","routerLink","privacy-security/privacy-policy","aria-label","Go to privacy policy page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/data-export","aria-label","Go to data export page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/erasure-request","aria-label","Go to data subject page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/change-password","aria-label","Go to change password page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/two-factor-authentication","aria-label","Go to two factor authentication page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/last-login-ip","aria-label","Go to last login ip page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/privacy-policy","aria-label","Go to privacy policy page",3,"click"],["translate","",1,"menu-text","truncate"],["mat-list-item","","routerLink","privacy-security/data-export","aria-label","Go to data export page",3,"click"],["mat-list-item","","routerLink","privacy-security/erasure-request","aria-label","Go to data subject page",3,"click"],["mat-list-item","","routerLink","privacy-security/change-password","aria-label","Go to change password page",3,"click"],["mat-list-item","","routerLink","privacy-security/two-factor-authentication","aria-label","Go to two factor authentication page",3,"click"],["mat-list-item","","routerLink","privacy-security/last-login-ip","aria-label","Go to last login ip page",3,"click"],["mat-list-item","","aria-label","Logout",3,"click"],["mat-list-item","","routerLink","/complain","aria-label","Go to complain page",3,"click"],["mat-list-item","","routerLink","/chatbot","aria-label","Go to chatbot page",3,"click"],["mat-list-item","","routerLink","/deluxe-membership","aria-label","Go to deluxe membership page",3,"click"],[2,"margin-bottom","10px"],["mat-list-item","","routerLink","/score-board","aria-label","Open score-board",3,"click"],["matListIcon","",1,"fas","fa-trophy","fa-lg"],["mat-list-item","","aria-label","Launch beginners tutorial",3,"click"],["mat-list-item","","href","./redirect?to=https://github.com/bkimminich/juice-shop","aria-label","Go to OWASP Juice Shop GitHub page"],["matListIcon","",1,"fab","fa-github","fa-lg"]],template:function(t,e){1&t&&(l.Ub(0,"mat-toolbar",0),l.Ub(1,"mat-toolbar-row"),l.Ub(2,"h2"),l.Hc(3),l.Tb(),l.Tb(),l.Tb(),l.Ub(4,"mat-nav-list"),l.Pb(5,"button",1),l.Ub(6,"h3",2),l.Hc(7,"ACCOUNT"),l.Tb(),l.Ub(8,"div",3),l.Fc(9,Xl,6,3,"a",4),l.Fc(10,tu,5,1,"a",5),l.Fc(11,eu,6,3,"a",6),l.Fc(12,au,8,6,"mat-list-item",7),l.Fc(13,uu,7,8,"div",8),l.Fc(14,bu,8,6,"mat-list-item",9),l.Fc(15,vu,8,9,"div",8),l.Fc(16,Cu,6,3,"a",10),l.Tb(),l.Pb(17,"mat-divider",3),l.Ub(18,"h3",11),l.Hc(19,"TITLE_CONTACT"),l.Tb(),l.Ub(20,"a",12),l.cc("click",function(){return e.onToggleSidenav()}),l.Ub(21,"i",13),l.Hc(22," feedback "),l.Tb(),l.Ub(23,"span",14),l.Hc(24),l.hc(25,"translate"),l.Tb(),l.Tb(),l.Fc(26,Tu,6,3,"a",15),l.Fc(27,yu,6,3,"a",16),l.Pb(28,"mat-divider"),l.Ub(29,"h3",11),l.Hc(30,"COMPANY"),l.Tb(),l.Ub(31,"a",17),l.cc("click",function(){return e.onToggleSidenav()}),l.Ub(32,"i",13),l.Hc(33," business_center "),l.Tb(),l.Ub(34,"span",14),l.Hc(35),l.hc(36,"translate"),l.Tb(),l.Tb(),l.Ub(37,"a",18),l.cc("click",function(){return e.onToggleSidenav()}),l.Ub(38,"i",13),l.Hc(39," camera "),l.Tb(),l.Ub(40,"span",14),l.Hc(41),l.hc(42,"translate"),l.Tb(),l.Tb(),l.Fc(43,wu,6,3,"a",19),l.Fc(44,Uu,1,0,"mat-divider",20),l.Fc(45,Su,5,3,"a",21),l.Fc(46,Ou,6,3,"a",22),l.Fc(47,ku,4,0,"a",23),l.Tb(),l.Ub(48,"div",24),l.Ub(49,"span"),l.Ub(50,"span",25),l.Hc(51),l.Tb(),l.Pb(52,"br"),l.Ub(53,"span",26),l.Hc(54),l.Tb(),l.Pb(55,"br"),l.Ub(56,"div",27),l.Pb(57,"i",28),l.Hc(58,"\xa0 "),l.Pb(59,"i",29),l.Hc(60,"\xa0 "),l.Pb(61,"i",30),l.Hc(62,"\xa0 "),l.Pb(63,"i",31),l.Hc(64,"\xa0 "),l.Pb(65,"i",32),l.Hc(66,"\xa0 "),l.Pb(67,"i",33),l.Hc(68,"\xa0 "),l.Pb(69,"i",34),l.Hc(70,"\xa0 "),l.Pb(71,"i",35),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.Jc(" ",e.applicationName,""),l.Cb(6),l.mc("ngIf",!e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()&&e.isAccounting()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.showOrdersSubmenu),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.showPrivacySubmenu),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(8),l.Jc(" ",l.ic(25,21,"SECTION_CUSTOMER_FEEDBACK")," "),l.Cb(2),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(8),l.Jc(" ",l.ic(36,23,"TITLE_ABOUT")," "),l.Cb(6),l.Jc(" ",l.ic(42,25,"LABEL_PHOTO_WALL")," "),l.Cb(2),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.scoreBoardVisible||e.showGitHubLink),l.Cb(1),l.mc("ngIf",e.scoreBoardVisible),l.Cb(1),l.mc("ngIf",!e.scoreBoardVisible&&e.offerScoreBoardTutorial),l.Cb(1),l.mc("ngIf",e.showGitHubLink),l.Cb(4),l.Ic(e.applicationName),l.Cb(3),l.Ic(e.version))},directives:[$l.a,$l.c,Zl.e,S.a,Zl.d,U.a,K.b,Q.l,hn.a,Zl.b,M.d,Qe.a,Q.j,K.a,Zl.a],pipes:[U.d],styles:["mat-toolbar[_ngcontent-%COMP%]{height:auto;min-width:100%;padding-bottom:5px;width:100%}a[_ngcontent-%COMP%]{text-decoration:none!important}.menu-text[_ngcontent-%COMP%]{padding-left:10px}.mat-list-base[_ngcontent-%COMP%], .mat-list-icon[_ngcontent-%COMP%], .mat-list-item[_ngcontent-%COMP%]{padding:0!important}.toolbar-title[_ngcontent-%COMP%]{margin:0 16px}.mat-subheader[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.app-nav-list-icon[_ngcontent-%COMP%]{margin:0 12px}.side-subHeader[_ngcontent-%COMP%]{font-weight:300}mat-nav-list[_ngcontent-%COMP%]{margin-bottom:50px}.menu-button[_ngcontent-%COMP%]{transform:rotate(0deg);transition:.3s ease-in-out}.menu-button.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.submenu[_ngcontent-%COMP%]{overflow-y:hidden;padding-left:30px;transform:scaleY(0);transform-origin:top;transition:transform .3s ease}.submenu.expanded[_ngcontent-%COMP%]{transform:scaleY(1)}.appVersion[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px;text-align:center}.truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),Pu),_u=((Iu=function(){function t(e){r(this,t),this.http=e,this.hostServer="."}return s(t,[{key:"getLanguages",value:function(){return this.http.get(this.hostServer+"/rest/languages").pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Iu)(l.Yb(b.b))},Iu.\u0275prov=l.Kb({token:Iu,factory:Iu.\u0275fac,providedIn:"root"}),Iu),Hu=i("lGt0"),Au=i("rJgo");function Eu(t,e){1&t&&(l.Ub(0,"button",38),l.Ub(1,"mat-icon"),l.Hc(2," exit_to_app "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"TITLE_LOGIN")," "))}function Lu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",39),l.cc("click",function(){return l.xc(n),l.gc().goToProfilePage()}),l.Ub(1,"mat-icon"),l.Hc(2," account_circle "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(4),l.Jc(" ",a.userEmail," ")}}function Du(t,e){1&t&&(l.Ub(0,"button",40),l.Ub(1,"mat-icon"),l.Hc(2," account_balance "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"ACCOUNTING")," "))}function Fu(t,e){if(1&t&&(l.Ub(0,"button",41),l.Ub(1,"mat-icon"),l.Hc(2," check_circle_outline "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t){l.gc();var n=l.uc(71);l.mc("matMenuTriggerFor",n),l.Cb(4),l.Jc(" ",l.ic(5,2,"ORDERS_AND_PAYMENT")," ")}}function Ru(t,e){if(1&t&&(l.Ub(0,"button",42),l.Ub(1,"mat-icon"),l.Hc(2," security "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t){l.gc();var n=l.uc(38);l.mc("matMenuTriggerFor",n),l.Cb(4),l.Jc(" ",l.ic(5,2,"PRIVACY_AND_SECURITY")," ")}}function Mu(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",43),l.cc("click",function(){return l.xc(n),l.gc().logout()}),l.Ub(1,"mat-icon"),l.Hc(2," power_settings_new "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()}2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"TITLE_LOGOUT")," "))}function Nu(t,e){if(1&t&&(l.Ub(0,"button",44),l.Ub(1,"mat-icon"),l.Hc(2," shopping_cart "),l.Tb(),l.Ub(3,"span",20),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Ub(6,"span",45),l.Hc(7),l.Tb(),l.Tb()),2&t){var n=l.gc();l.Cb(4),l.Jc(" ",l.ic(5,2,"TITLE_BASKET"),""),l.Cb(3),l.Ic(n.itemTotal)}}function Bu(t,e){1&t&&l.Pb(0,"span"),2&t&&l.Eb("flag-icon flag-icon-"+e.$implicit)}function ju(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-radio-button",46),l.cc("click",function(){l.xc(n);var t=e.$implicit;return l.gc().changeLanguage(t.key)}),l.Ub(1,"div",47),l.Fc(2,Bu,1,2,"span",48),l.Hc(3),l.Tb(),l.Pb(4,"i"),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc();l.nc("checked",i.selectedLanguage===a),l.nc("aria-label",a.lang),l.mc("value",a),l.Cb(2),l.mc("ngForOf",a.icons),l.Cb(1),l.Jc(" ",null==a?null:a.lang," "),l.Cb(1),l.Eb("fas fa-thermometer-"+a.gauge+(a.percentage>70?" confirmation":" error"))}}function Gu(t,e){1&t&&(l.Ub(0,"button",49),l.Ub(1,"mat-icon"),l.Hc(2," my_location "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"MY_SAVED_ADRESSES")," "))}function Vu(t,e){1&t&&(l.Ub(0,"button",50),l.Ub(1,"mat-icon"),l.Hc(2," credit_card "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"MY_PAYMENT_OPTIONS")," "))}function qu(t,e){1&t&&(l.Ub(0,"button",51),l.Ub(1,"mat-icon"),l.Hc(2," account_balance_wallet "),l.Tb(),l.Ub(3,"span"),l.Hc(4),l.hc(5,"translate"),l.Tb(),l.Tb()),2&t&&(l.Cb(4),l.Jc(" ",l.ic(5,1,"DIGITAL_WALLET")," "))}var Ju=function(){return["privacy-security/privacy-policy"]},Yu=function(){return["privacy-security/data-export"]},zu=function(){return["privacy-security/erasure-request"]},Wu=function(){return["privacy-security/change-password"]},Qu=function(){return["privacy-security/two-factor-authentication"]},Ku=function(){return["privacy-security/last-login-ip"]};g.b.add(C.x,C.G,C.J,C.K,C.h,C.c,C.W,C.v,C.I,C.gb,C.D,C.y,C.db,v.d,T.b,C.O,C.R,C.Q,C.S,C.P),g.a.watch();var $u,Zu=(($u=function(){function t(e,n,a,i,o,c,s,u,b,d,m,f,p){var h=this;r(this,t),this.administrationService=e,this.challengeService=n,this.configurationService=a,this.userService=i,this.ngZone=o,this.cookieService=c,this.router=s,this.translate=u,this.io=b,this.langService=d,this.loginGuard=m,this.snackBar=f,this.basketService=p,this.userEmail="",this.languages=[],this.selectedLanguage="placeholder",this.version="",this.applicationName="OWASP Juice Shop",this.showGitHubLink=!0,this.logoSrc="assets/public/images/JuiceShop_Logo.png",this.scoreBoardVisible=!1,this.shortKeyLang="placeholder",this.itemTotal=0,this.sidenavToggle=new l.o,this.onToggleSidenav=function(){h.sidenavToggle.emit()}}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.getLanguages(),this.basketService.getItemTotal().subscribe(function(e){return t.itemTotal=e}),this.administrationService.getApplicationVersion().subscribe(function(e){e&&(t.version="v"+e)},function(t){return console.log(t)}),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a;if((null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.name)&&(t.applicationName=e.application.name),(null==e?void 0:e.application)&&(t.showGitHubLink=e.application.showGitHubLinks),null===(a=null==e?void 0:e.application)||void 0===a?void 0:a.logo){var i=e.application.logo;"http"===i.substring(0,4)&&(i=decodeURIComponent(i.substring(i.lastIndexOf("/")+1))),t.logoSrc="assets/public/images/"+i}},function(t){return console.log(t)}),localStorage.getItem("token")?this.getUserDetails():this.userEmail="",this.userService.getLoggedInState().subscribe(function(e){e?t.getUserDetails():t.userEmail=""}),this.getScoreBoardStatus(),this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){"scoreBoardChallenge"===e.key&&(t.scoreBoardVisible=!0)})})}},{key:"checkLanguage",value:function(){if(this.cookieService.get("language")){var t=this.cookieService.get("language");this.translate.use(t),this.selectedLanguage=this.languages.find(function(e){return e.key===t}),this.shortKeyLang=this.languages.find(function(e){return e.key===t}).shortKey}else this.changeLanguage("en"),this.selectedLanguage=this.languages.find(function(t){return"en"===t.key}),this.shortKeyLang=this.languages.find(function(t){return"en"===t.key}).shortKey}},{key:"search",value:function(t){var e=this;if(t){var n={queryParams:{q:t}};this.ngZone.run(o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/search"],n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))}else this.ngZone.run(o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/search"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))}},{key:"getUserDetails",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.userEmail=e.email},function(t){return console.log(t)})}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){var t=this;this.userService.saveLastLoginIp().subscribe(function(e){t.noop()},function(t){return console.log(t)}),localStorage.removeItem("token"),this.cookieService.delete("token","/"),sessionStorage.removeItem("bid"),sessionStorage.removeItem("itemTotal"),this.userService.isLoggedIn.next(!1),this.ngZone.run(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}},{key:"changeLanguage",value:function(t){this.translate.use(t);var e=new Date;if(e.setFullYear(e.getFullYear()+1),this.cookieService.set("language",t,e,"/"),this.languages.find(function(e){return e.key===t})){var n=this.languages.find(function(e){return e.key===t});this.shortKeyLang=n.shortKey,this.snackBar.open("Language has been changed to "+n.lang,"Force page reload",{duration:5e3}).onAction().subscribe(function(){location.reload()})}}},{key:"getScoreBoardStatus",value:function(){var t=this;this.challengeService.find({name:"Score Board"}).subscribe(function(e){t.ngZone.run(function(){t.scoreBoardVisible=e[0].solved})},function(t){return console.log(t)})}},{key:"goToProfilePage",value:function(){window.location.replace("./profile")}},{key:"noop",value:function(){}},{key:"getLanguages",value:function(){var t=this;this.langService.getLanguages().subscribe(function(e){t.languages=e,t.checkLanguage()})}},{key:"isAccounting",value:function(){var t=this.loginGuard.tokenDecode();return(null==t?void 0:t.data)&&"accounting"===t.data.role}}]),t}()).\u0275fac=function(t){return new(t||$u)(l.Ob(Kl),l.Ob(no),l.Ob(h),l.Ob(R),l.Ob(l.B),l.Ob(d.a),l.Ob(M.b),l.Ob(U.e),l.Ob(An),l.Ob(_u),l.Ob(G),l.Ob(Y.a),l.Ob(B))},$u.\u0275cmp=l.Ib({type:$u,selectors:[["app-navbar"]],outputs:{sidenavToggle:"sidenavToggle"},decls:88,vars:45,consts:[["color","primary","fxLayout","column","xmlns","http://www.w3.org/1999/html",1,"mat-elevation-z6"],["fxLayout","row"],["mat-button","","aria-label","Open Sidenav","matTooltipPosition","below",2,"height","48px","width","48px",3,"matTooltip","click"],["mat-button","","routerLink","/search","aria-label","Back to homepage",1,"buttons",2,"height","60px"],[1,"logo",3,"src","alt"],["fxHide.lt-sm","","fxShow","",2,"font-size","x-large"],[1,"fill-remaining-space"],["id","searchQuery","aria-label","Click to search",3,"onEnter"],["searchControl",""],["mat-button","","fxHide.lt-md","","fxShow","","aria-label","Show/hide account menu","id","navbarAccount",1,"buttons",2,"vertical-align","middle","height","48px",3,"matMenuTriggerFor"],[1,"material-icons"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/login","aria-label","Go to login page","id","navbarLoginButton",4,"ngIf"],["mat-menu-item","","aria-label","Go to user profile",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/accounting","aria-label","Go to accounting page",4,"ngIf"],["mat-menu-item","","aria-label","Show Orders and Payment Menu",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","aria-label","Show Privacy and Security Menu",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","aria-label","Logout","id","navbarLogoutButton",3,"click",4,"ngIf"],["mat-button","","routerLink","/basket","style","height:48px;","class","buttons","aria-label","Show the shopping cart",4,"ngIf"],["mat-button","","aria-label","Language selection menu","matTooltipPosition","below",1,"buttons",2,"height","48px","width","48px",3,"matMenuTriggerFor","matTooltip"],["fxHide.lt-md","","fxShow",""],[3,"overlapTrigger"],["menu","matMenu"],["class","mat-menu-item","style","width: 240px;",3,"value","checked","aria-label","click",4,"ngFor","ngForOf"],["privacySubMenu","matMenu"],["mat-menu-item","","aria-label","Go to privacy policy page",3,"routerLink"],["translate",""],["mat-menu-item","","aria-label","Go to data export page",3,"routerLink"],["mat-menu-item","","aria-label","Go to data subject page",3,"routerLink"],["mat-menu-item","","aria-label","Go to change password page",3,"routerLink"],["mat-menu-item","","aria-label","Go to two factor authentication page",3,"routerLink"],["mat-menu-item","","aria-label","Go to last login ip page",3,"routerLink"],["ordersSubMenu","matMenu"],["mat-menu-item","","routerLink","/order-history","aria-label","Go to order history page"],["mat-menu-item","","routerLink","/recycle","aria-label","Go to recycling page"],["mat-menu-item","","routerLink","/address/saved","aria-label","Go to saved address page",4,"ngIf"],["mat-menu-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page",4,"ngIf"],["mat-menu-item","","routerLink","/wallet","aria-label","Go to wallet page",4,"ngIf"],["mat-menu-item","","routerLink","/login","aria-label","Go to login page","id","navbarLoginButton"],["mat-menu-item","","aria-label","Go to user profile",3,"click"],["mat-menu-item","","routerLink","/accounting","aria-label","Go to accounting page"],["mat-menu-item","","aria-label","Show Orders and Payment Menu",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","Show Privacy and Security Menu",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","Logout","id","navbarLogoutButton",3,"click"],["mat-button","","routerLink","/basket","aria-label","Show the shopping cart",1,"buttons",2,"height","48px"],[1,"fa-layers-counter","fa-layers-top-right","fa-3x","warn-notification",2,"font-size","47px"],[1,"mat-menu-item",2,"width","240px",3,"value","checked","aria-label","click"],[2,"display","inline-block","width","200px","margin-left","5px"],[3,"class",4,"ngFor","ngForOf"],["mat-menu-item","","routerLink","/address/saved","aria-label","Go to saved address page"],["mat-menu-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page"],["mat-menu-item","","routerLink","/wallet","aria-label","Go to wallet page"]],template:function(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-toolbar",0),l.Ub(1,"mat-toolbar-row",1),l.Ub(2,"button",2),l.cc("click",function(){return e.onToggleSidenav()}),l.hc(3,"translate"),l.Ub(4,"mat-icon"),l.Hc(5,"menu"),l.Tb(),l.Tb(),l.Ub(6,"button",3),l.Pb(7,"img",4),l.Ub(8,"span",5),l.Hc(9),l.Tb(),l.Tb(),l.Pb(10,"span",6),l.Ub(11,"mat-search-bar",7,8),l.cc("onEnter",function(){l.xc(n);var t=l.uc(12);return e.search(t.value)}),l.Tb(),l.Ub(13,"button",9),l.Ub(14,"i",10),l.Hc(15," account_circle "),l.Tb(),l.Ub(16,"span"),l.Hc(17),l.hc(18,"translate"),l.Tb(),l.Tb(),l.Ub(19,"mat-menu",null,11),l.Fc(21,Eu,6,3,"button",12),l.Fc(22,Lu,5,1,"button",13),l.Fc(23,Du,6,3,"button",14),l.Fc(24,Fu,6,4,"button",15),l.Fc(25,Ru,6,4,"button",16),l.Fc(26,Mu,6,3,"button",17),l.Tb(),l.Fc(27,Nu,8,4,"button",18),l.Ub(28,"button",19),l.hc(29,"translate"),l.Ub(30,"mat-icon"),l.Hc(31," language "),l.Tb(),l.Ub(32,"span",20),l.Hc(33),l.Tb(),l.Tb(),l.Ub(34,"mat-menu",21,22),l.Fc(36,ju,5,7,"mat-radio-button",23),l.Tb(),l.Ub(37,"mat-menu",null,24),l.Ub(39,"button",25),l.Ub(40,"mat-icon"),l.Hc(41," assignment "),l.Tb(),l.Ub(42,"span",26),l.Hc(43,"TITLE_PRIVACY_POLICY"),l.Tb(),l.Tb(),l.Ub(44,"button",27),l.Ub(45,"mat-icon"),l.Hc(46," get_app "),l.Tb(),l.Ub(47,"span",26),l.Hc(48,"TITLE_REQUEST_DATA_EXPORT"),l.Tb(),l.Tb(),l.Ub(49,"button",28),l.Ub(50,"mat-icon"),l.Hc(51," delete_forever "),l.Tb(),l.Ub(52,"span",26),l.Hc(53,"DATA_SUBJECT_TITLE"),l.Tb(),l.Tb(),l.Pb(54,"mat-divider"),l.Ub(55,"button",29),l.Ub(56,"mat-icon"),l.Hc(57," edit "),l.Tb(),l.Ub(58,"span",26),l.Hc(59,"TITLE_CHANGE_PASSWORD"),l.Tb(),l.Tb(),l.Ub(60,"button",30),l.Ub(61,"mat-icon"),l.Hc(62," exposure_plus_2 "),l.Tb(),l.Ub(63,"span",26),l.Hc(64,"TITLE_TWO_FACTOR_AUTH_CONFIG"),l.Tb(),l.Tb(),l.Ub(65,"button",31),l.Ub(66,"mat-icon"),l.Hc(67," place "),l.Tb(),l.Ub(68,"span",26),l.Hc(69,"LAST_LOGIN_IP"),l.Tb(),l.Tb(),l.Tb(),l.Ub(70,"mat-menu",null,32),l.Ub(72,"button",33),l.Ub(73,"mat-icon"),l.Hc(74," archive "),l.Tb(),l.Ub(75,"span"),l.Hc(76),l.hc(77,"translate"),l.Tb(),l.Tb(),l.Ub(78,"button",34),l.Ub(79,"mat-icon"),l.Hc(80," autorenew "),l.Tb(),l.Ub(81,"span"),l.Hc(82),l.hc(83,"translate"),l.Tb(),l.Tb(),l.Pb(84,"mat-divider"),l.Fc(85,Gu,6,3,"button",35),l.Fc(86,Vu,6,3,"button",36),l.Fc(87,qu,6,3,"button",37),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.uc(20),i=l.uc(35);l.Cb(2),l.nc("matTooltip",l.ic(3,29,"SIDENAV_HINT")),l.Cb(5),l.nc("alt",e.applicationName),l.mc("src",e.logoSrc,l.Ac),l.Cb(2),l.Jc(" ",e.applicationName," "),l.Cb(4),l.mc("matMenuTriggerFor",a),l.Cb(4),l.Jc(" ",l.ic(18,31,"ACCOUNT")," "),l.Cb(4),l.mc("ngIf",!e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()&&e.isAccounting()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.nc("matTooltip",l.ic(29,33,"LANGUAGE_SEL_HINT")),l.mc("matMenuTriggerFor",i),l.Cb(5),l.Jc(" ",e.shortKeyLang," "),l.Cb(1),l.mc("overlapTrigger",!0),l.Cb(2),l.mc("ngForOf",e.languages),l.Cb(3),l.mc("routerLink",l.qc(39,Ju)),l.Cb(5),l.mc("routerLink",l.qc(40,Yu)),l.Cb(5),l.mc("routerLink",l.qc(41,zu)),l.Cb(6),l.mc("routerLink",l.qc(42,Wu)),l.Cb(5),l.mc("routerLink",l.qc(43,Qu)),l.Cb(5),l.mc("routerLink",l.qc(44,Ku)),l.Cb(11),l.Jc(" ",l.ic(77,35,"LABEL_ORDER_HISTORY")," "),l.Cb(6),l.Jc(" ",l.ic(83,37,"NAV_RECYCLE")," "),l.Cb(3),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn()),l.Cb(1),l.mc("ngIf",e.isLoggedIn())}},directives:[$l.a,w.d,$l.c,S.a,Ke.a,Qe.a,M.c,K.b,Hu.b,Au.d,Au.a,Q.l,Q.k,Au.b,U.a,hn.a,wi.a],pipes:[U.d],styles:["mat-toolbar[_ngcontent-%COMP%]{height:auto;min-width:100%;padding-bottom:5px;width:100%}.mat-button[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.logo[_ngcontent-%COMP%]{max-height:60px;width:auto}.avatar[_ngcontent-%COMP%]{background-repeat:no-repeat;border-radius:50%;display:inline-block;max-height:35px;max-width:35px;padding:0;pointer-events:none}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.language-select[_ngcontent-%COMP%]{margin-left:10px;width:11%}  .mat-select-value-text{font-size:15px}.user-info[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.flag-icon[_ngcontent-%COMP%]{margin-right:2px}[_nghost-%COMP%]     mat-form-field, [_nghost-%COMP%]     mat-icon{background:transparent!important}mat-search-bar[_ngcontent-%COMP%]{font-size:13px;margin-right:14px}.buttons[_ngcontent-%COMP%]{width:auto}@media screen and (max-width:959px){.buttons[_ngcontent-%COMP%]{width:48px}}[_nghost-%COMP%]     .mat-form-field-infix{max-width:250px!important;width:14vw!important}"]}),$u);function Xu(t,e){1&t&&(l.Ub(0,"span",2),l.Hc(1,"RESTART_REQUIRED"),l.Tb())}function tb(t,e){1&t&&(l.Ub(0,"span",2),l.Hc(1,"RESET_HACKING_PROGRESS"),l.Tb())}function eb(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-card",1),l.Pb(1,"mat-card-header"),l.Ub(2,"mat-card-content"),l.Ub(3,"span",2),l.Hc(4,"NOTIFICATION_SERVER_STARTED"),l.Tb(),l.Hc(5),l.Ub(6,"button",3),l.cc("click",function(){return l.xc(n),l.gc().closeNotification()}),l.Hc(7,"X"),l.Tb(),l.Ub(8,"button",4),l.cc("click",function(){return l.xc(n),l.gc().clearProgress()}),l.Ub(9,"mat-icon"),l.Hc(10," delete_forever "),l.Tb(),l.Fc(11,Xu,2,0,"span",5),l.Fc(12,tb,2,0,"span",5),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(5),l.Jc(": ",a.hackingProgress.autoRestoreMessage,"\xa0"),l.Cb(3),l.mc("disabled",a.hackingProgress.cleared),l.Cb(3),l.mc("ngIf",a.hackingProgress.cleared),l.Cb(1),l.mc("ngIf",!a.hackingProgress.cleared)}}var nb,ab,ib=((ab=function(){function t(e,n,a,i,o,c){r(this,t),this.ngZone=e,this.challengeService=n,this.translate=a,this.cookieService=i,this.ref=o,this.io=c,this.hackingProgress={}}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){t.io.socket().on("server started",function(){var e=t.cookieService.get("continueCode");e&&t.challengeService.restoreProgress(encodeURIComponent(e)).subscribe(function(){t.translate.get("AUTO_RESTORED_PROGRESS").subscribe(function(e){t.hackingProgress.autoRestoreMessage=e},function(e){t.hackingProgress.autoRestoreMessage=e})},function(e){console.log(e),t.translate.get("AUTO_RESTORE_PROGRESS_FAILED",{error:e}).subscribe(function(e){t.hackingProgress.autoRestoreMessage=e},function(e){t.hackingProgress.autoRestoreMessage=e})}),t.ref.detectChanges()})})}},{key:"closeNotification",value:function(){this.hackingProgress.autoRestoreMessage=null}},{key:"clearProgress",value:function(){this.cookieService.delete("continueCode","/"),this.cookieService.delete("token","/"),sessionStorage.removeItem("bid"),sessionStorage.removeItem("itemTotal"),localStorage.removeItem("token"),localStorage.removeItem("displayedDifficulties"),localStorage.removeItem("showSolvedChallenges"),localStorage.removeItem("showDisabledChallenges"),localStorage.removeItem("showOnlyTutorialChallenges"),localStorage.removeItem("displayedChallengeCategories"),this.hackingProgress.cleared=!0}}]),t}()).\u0275fac=function(t){return new(t||ab)(l.Ob(l.B),l.Ob(no),l.Ob(U.e),l.Ob(d.a),l.Ob(l.h),l.Ob(An))},ab.\u0275cmp=l.Ib({type:ab,selectors:[["app-server-started-notification"]],decls:1,vars:1,consts:[["class","container primary-notification mat-elevation-z4",4,"ngIf"],[1,"container","primary-notification","mat-elevation-z4"],["translate",""],["id","closeButton","mat-button","",3,"click"],["mat-stroked-button","",3,"disabled","click"],["translate","",4,"ngIf"]],template:function(t,e){1&t&&l.Fc(0,eb,13,4,"mat-card",0),2&t&&l.mc("ngIf",e.hackingProgress.autoRestoreMessage)},directives:[Q.l,y.a,y.c,y.b,U.a,S.a,Qe.a],styles:[".container[_ngcontent-%COMP%]{font-size:14px;margin:40px}#closeButton[_ngcontent-%COMP%]{float:right}"]}),ab),ob=((nb=function(){function t(e){r(this,t),this.http=e,this.hostServer="."}return s(t,[{key:"getCountryMapping",value:function(){return this.http.get(this.hostServer+"/rest/country-mapping").pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||nb)(l.Yb(b.b))},nb.\u0275prov=l.Kb({token:nb,factory:nb.\u0275fac,providedIn:"root"}),nb);function rb(t,e){if(1&t&&(l.Pb(0,"span"),l.hc(1,"lowercase")),2&t){var n=l.gc(2).$implicit;l.Fb("flag-icon flag-icon-",l.ic(1,3,n.country.code),"")}}function cb(t,e){1&t&&(l.Ub(0,"mat-icon"),l.Hc(1,"my_location"),l.Tb())}function sb(t,e){if(1&t&&(l.Ub(0,"span"),l.Hc(1),l.Tb()),2&t){var n=l.gc(2).$implicit;l.Cb(1),l.Jc(" ",n.country.name," ")}}function lb(t,e){if(1&t&&(l.Ub(0,"span",5),l.Fc(1,rb,2,5,"span",8),l.Fc(2,cb,2,0,"mat-icon",9),l.Hc(3,"\xa0 "),l.Fc(4,sb,2,1,"span",9),l.Tb()),2&t){var n=l.gc(2);l.Cb(1),l.mc("ngIf","flag"===n.showCtfCountryDetailsInNotifications||"both"===n.showCtfCountryDetailsInNotifications),l.Cb(1),l.mc("ngIf","name"===n.showCtfCountryDetailsInNotifications),l.Cb(2),l.mc("ngIf","name"===n.showCtfCountryDetailsInNotifications||"both"===n.showCtfCountryDetailsInNotifications)}}function ub(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-card",2),l.Ub(1,"div"),l.Hc(2),l.Ub(3,"button",3),l.cc("click",function(t){l.xc(n);var a=e.index;return l.gc().closeNotification(a,t.shiftKey)}),l.Hc(4,"X"),l.Tb(),l.Tb(),l.Pb(5,"br"),l.Ub(6,"div",4),l.Ub(7,"span",5),l.Ub(8,"mat-icon"),l.Hc(9,"outlined_flag"),l.Tb(),l.Hc(10),l.Tb(),l.Hc(11,"\xa0 "),l.Ub(12,"button",6),l.cc("cbOnSuccess",function(){return e.$implicit.copied=!0}),l.Ub(13,"mat-icon"),l.Hc(14,"content_copy"),l.Tb(),l.Ub(15,"span",4),l.Hc(16),l.hc(17,"translate"),l.Tb(),l.Ub(18,"span",4),l.Hc(19),l.hc(20,"translate"),l.Tb(),l.Tb(),l.Pb(21,"br"),l.Fc(22,lb,5,3,"span",7),l.Tb(),l.Tb()}if(2&t){var a=e.$implicit,i=l.gc();l.Cb(2),l.Ic(a.message),l.Cb(4),l.mc("hidden",!i.showCtfFlagsInNotifications),l.Cb(4),l.Jc(" ",a.flag,""),l.Cb(2),l.mc("cbContent",a.flag)("disabled",a.copied),l.Cb(3),l.mc("hidden",!a.copied),l.Cb(1),l.Ic(l.ic(17,10,"COPY_SUCCESS")),l.Cb(2),l.mc("hidden",a.copied),l.Cb(1),l.Ic(l.ic(20,12,"COPY_TO_CLIPBOARD")),l.Cb(3),l.mc("ngIf","none"!==i.showCtfCountryDetailsInNotifications)}}var bb,db=((bb=function(){function t(e,n,a,i,o,c,s,l){r(this,t),this.ngZone=e,this.configurationService=n,this.challengeService=a,this.countryMappingService=i,this.translate=o,this.cookieService=c,this.ref=s,this.io=l,this.notifications=[],this.showCtfFlagsInNotifications=!1,this.showCtfCountryDetailsInNotifications="none"}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){(null==e?void 0:e.challenge)&&(e.hidden||t.showNotification(e),e.isRestore||t.saveProgress(),t.io.socket().emit("notification received",e.flag))})}),this.configurationService.getApplicationConfiguration().subscribe(function(e){(null==e?void 0:e.ctf)&&(t.showCtfFlagsInNotifications=!!e.ctf.showFlagsInNotifications&&e.ctf.showFlagsInNotifications,e.ctf.showCountryDetailsInNotifications?(t.showCtfCountryDetailsInNotifications=e.ctf.showCountryDetailsInNotifications,"none"!==e.ctf.showCountryDetailsInNotifications&&t.countryMappingService.getCountryMapping().subscribe(function(e){t.countryMap=e},function(t){return console.log(t)})):t.showCtfCountryDetailsInNotifications="none")})}},{key:"closeNotification",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?this.notifications=[]:this.notifications.splice(t,1),this.ref.detectChanges()}},{key:"showNotification",value:function(t){var e=this;this.translate.get("CHALLENGE_SOLVED",{challenge:t.challenge}).toPromise().then(function(t){return t},function(t){return t}).then(function(n){var a;e.showCtfCountryDetailsInNotifications&&"none"!==e.showCtfCountryDetailsInNotifications&&(a=e.countryMap[t.key]),e.notifications.push({message:n,flag:t.flag,country:a,copied:!1}),e.ref.detectChanges()})}},{key:"saveProgress",value:function(){var t=this;this.challengeService.continueCode().subscribe(function(e){if(!e)throw new Error("Received invalid continue code from the sever!");var n=new Date;n.setFullYear(n.getFullYear()+1),t.cookieService.set("continueCode",e,n,"/")},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||bb)(l.Ob(l.B),l.Ob(h),l.Ob(no),l.Ob(ob),l.Ob(U.e),l.Ob(d.a),l.Ob(l.h),l.Ob(An))},bb.\u0275cmp=l.Ib({type:bb,selectors:[["app-challenge-solved-notification"]],decls:2,vars:1,consts:[[1,"container","challenge-solved-toast","mat-elevation-z4"],["class","accent-notification",4,"ngFor","ngForOf"],[1,"accent-notification"],["id","closeButton","mat-button","",3,"click"],[3,"hidden"],[1,"icon-box"],["ngxClipboard","","mat-stroked-button","",3,"cbContent","disabled","cbOnSuccess"],["class","icon-box",4,"ngIf"],[3,"class",4,"ngIf"],[4,"ngIf"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Fc(1,ub,23,14,"mat-card",1),l.Tb()),2&t&&(l.Cb(1),l.mc("ngForOf",e.notifications))},directives:[Q.k,y.a,S.a,Qe.a,Ql.a,Q.l],pipes:[U.d,Q.i],styles:[".container[_ngcontent-%COMP%]{font-size:14px;margin:40px}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}#closeButton[_ngcontent-%COMP%]{float:right}.icon-box[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle}"]}),bb);function mb(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",4),l.cc("click",function(){return l.xc(n),l.gc().startHackingInstructor()}),l.hc(1,"translate"),l.Ub(2,"mat-icon"),l.Hc(3," school "),l.Tb(),l.Ub(4,"span",5),l.Hc(5,"BTN_GETTING_STARTED"),l.Tb(),l.Tb()}2&t&&l.mc("matTooltip",l.ic(1,1,"SCORE_BOARD_HACKING_INSTRUCTOR"))}function fb(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",6),l.cc("click",function(){return l.xc(n),l.gc().closeWelcome()}),l.Ub(1,"mat-icon"),l.Hc(2," visibility_off "),l.Tb(),l.Ub(3,"span",7),l.Hc(4,"BTN_DISMISS"),l.Tb(),l.Tb()}}var pb,hb,gb,vb,Cb=((vb=function(){function t(e,n,a){r(this,t),this.dialogRef=e,this.configurationService=n,this.cookieService=a,this.title="Welcome to OWASP Juice Shop",this.message="<p>Being a web application with a vast number of intended security vulnerabilities, the <strong>OWASP Juice Shop</strong> is supposed to be the opposite of a best practice or template application for web developers: It is an awareness, training, demonstration and exercise tool for security risks in modern web applications. The <strong>OWASP Juice Shop</strong> is an open-source project hosted by the non-profit <a href='https://owasp.org' target='_blank'>Open Web Application Security Project (OWASP)</a> and is developed and maintained by volunteers. Check out the link below for more information and documentation on the project.</p><h1><a href='https://owasp-juice.shop' target='_blank'>https://owasp-juice.shop</a></h1>",this.showHackingInstructor=!0,this.showDismissBtn=!0,this.welcomeBannerStatusCookieKey="welcomebanner_status"}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a,i;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.welcomeBanner)&&(t.title=e.application.welcomeBanner.title,t.message=e.application.welcomeBanner.message),t.showHackingInstructor=null===(a=e.hackingInstructor)||void 0===a?void 0:a.isEnabled,t.showHackingInstructor&&(null===(i=e.challenges)||void 0===i?void 0:i.restrictToTutorialsFirst)&&(t.dialogRef.disableClose=!0,t.showDismissBtn=!1)},function(t){return console.log(t)})}},{key:"startHackingInstructor",value:function(){this.closeWelcome(),console.log('Starting instructions for challenge "Score Board"'),i.e(5).then(i.bind(null,"s2oO")).then(function(t){t.startHackingInstructorFor("Score Board")})}},{key:"closeWelcome",value:function(){this.dialogRef.close();var t=new Date;t.setFullYear(t.getFullYear()+1),this.cookieService.set(this.welcomeBannerStatusCookieKey,"dismiss",t,"/")}}]),t}()).\u0275fac=function(t){return new(t||vb)(l.Ob(bn.g),l.Ob(h),l.Ob(d.a))},vb.\u0275cmp=l.Ib({type:vb,selectors:[["app-welcome-banner"]],decls:8,vars:4,consts:[[1,"mat-typography"],[1,"text-justify",3,"innerHtml"],["mat-raised-button","","color","warn","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","class","close-dialog","color","primary","aria-label","Close Welcome Banner",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","matTooltipPosition","above",3,"matTooltip","click"],["fxShow","","fxHide.lt-lg","","translate",""],["mat-raised-button","","color","primary","aria-label","Close Welcome Banner",1,"close-dialog",3,"click"],["fxShow","","fxHide.lt-sm","","translate",""]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"h1"),l.Ub(2,"span"),l.Hc(3),l.Tb(),l.Tb(),l.Pb(4,"div",1),l.Ub(5,"div"),l.Fc(6,mb,6,3,"button",2),l.Fc(7,fb,5,0,"button",3),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.Ic(e.title),l.Cb(1),l.mc("innerHtml",e.message,l.yc),l.Cb(2),l.mc("ngIf",e.showHackingInstructor),l.Cb(1),l.mc("ngIf",e.showDismissBtn))},directives:[Q.l,S.a,Ke.a,Qe.a,K.b,U.a],pipes:[U.d],styles:[".text-justify[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word}[_nghost-%COMP%]     h1 a{font-size:20px}[_nghost-%COMP%]     strong{font-style:italic}"]}),vb),Tb=((gb=function(){function t(e,n,a){r(this,t),this.dialog=e,this.configurationService=n,this.cookieService=a,this.welcomeBannerStatusCookieKey="welcomebanner_status"}return s(t,[{key:"ngOnInit",value:function(){var t=this;"dismiss"===this.cookieService.get(this.welcomeBannerStatusCookieKey)||this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.welcomeBanner)&&!e.application.welcomeBanner.showOnFirstStart||t.dialog.open(Cb,{minWidth:"320px",width:"35%",position:{top:"50px"}})},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||gb)(l.Ob(bn.b),l.Ob(h),l.Ob(d.a))},gb.\u0275cmp=l.Ib({type:gb,selectors:[["app-welcome"]],decls:1,vars:0,template:function(t,e){1&t&&l.Pb(0,"div")},styles:[".welcome-style[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:50%;min-width:320px}"]}),gb),yb=((hb=function t(e,n){r(this,t),this._document=e,this.translate=n,this.translate.setDefaultLang("en")}).\u0275fac=function(t){return new(t||hb)(l.Ob(Q.d),l.Ob(U.e))},hb.\u0275cmp=l.Ib({type:hb,selectors:[["app-root"]],decls:10,vars:0,consts:[[1,"mat-typography"],["fullscreen",""],["mode","over"],["sidenav",""],[3,"sidenavToggle"]],template:function(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",0),l.Ub(1,"mat-sidenav-container",1),l.Ub(2,"mat-sidenav",2,3),l.Ub(4,"sidenav",4),l.cc("sidenavToggle",function(){return l.xc(n),l.uc(3).toggle()}),l.Tb(),l.Tb(),l.Ub(5,"app-navbar",4),l.cc("sidenavToggle",function(){return l.xc(n),l.uc(3).toggle()}),l.Tb(),l.Pb(6,"app-server-started-notification"),l.Pb(7,"app-challenge-solved-notification"),l.Pb(8,"app-welcome"),l.Pb(9,"router-outlet"),l.Tb(),l.Tb()}},directives:[lr.b,lr.a,xu,Zu,ib,db,Tb,M.f],styles:[".mat-sidenav[_ngcontent-%COMP%]{width:280px}"]}),hb),wb=((pb=function(){function t(){r(this,t)}return s(t,[{key:"intercept",value:function(t,e){return localStorage.getItem("token")&&(t=t.clone({setHeaders:{Authorization:"Bearer "+localStorage.getItem("token")}})),localStorage.getItem("email")&&(t=t.clone({setHeaders:{"X-User-Email":String(localStorage.getItem("email"))}})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||pb)},pb.\u0275prov=l.Kb({token:pb,factory:pb.\u0275fac}),pb),Ub=i("u9T3"),Sb=i("omvX"),Ob=i("8Qe2"),kb=i("1O3W");function Ib(t){return new Wl.a(t,"./assets/i18n/",".json")}var Pb,xb=((Pb=function t(e,n){r(this,t),this.configurationService=e,this.overlayContainer=n,e.getApplicationConfiguration().subscribe(function(t){n.getContainerElement().classList.add(t.application.theme+"-theme")})}).\u0275mod=l.Mb({type:Pb,bootstrap:[yb]}),Pb.\u0275inj=l.Lb({factory:function(t){return new(t||Pb)(l.Yb(h),l.Yb(kb.e))},providers:[{provide:b.a,useClass:wb,multi:!0},Pn,h,Kl,de,me,R,_e,Xt,Zt,Qn,dn,$a,li,kt,Ci,B,no,d.a,V,G,$r,q,J,gr,Ti,En,Qr,Vc,Kr,Hl],imports:[[u.a,zl,U.c.forRoot({loader:{provide:U.b,useFactory:Ib,deps:[b.b]}}),Ae.c.forRoot(),Ub.a,b.c,m.v,Sb.b,Te.a,br.b,Za.b,Ql.b,ro.b,$l.b,Qe.b,ee.e,Ee.b,S.b,lr.d,W.p,xn.b,y.e,ne.c,Kn.b,bn.f,hn.b,qi.c,Le.j,gn.a,co.b,Ke.b,Au.c,Zl.c,so.b,sr.c,Ln.b,Hu.a,Ob.a,wi.c,Y.b,ae.b,He.b,lo.c]]}),Pb);Object(l.U)(),u.f().bootstrapModule(xb).catch(function(t){return console.log(t)})}},[[0,0,6]]])}();